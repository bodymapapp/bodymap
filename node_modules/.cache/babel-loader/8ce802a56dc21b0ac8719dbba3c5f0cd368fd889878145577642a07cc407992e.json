{"ast":null,"code":"// src/pages/Dashboard.js\nimport React,{useState,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{db,supabase}from'../lib/supabase';import ClientList from'../components/ClientList';import SessionList from'../components/SessionList';import SessionDetail from'../components/SessionDetail';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const C={sage:'#6B9E80',forest:'#2A5741',beige:'#F0EAD9',lightBeige:'#F9FAFB',darkGray:'#1F2937',gray:'#6B7280',lightGray:'#E5E7EB',white:'#FFFFFF'};function SettingsPanel(_ref){let{therapist}=_ref;const[fullName,setFullName]=React.useState((therapist===null||therapist===void 0?void 0:therapist.full_name)||'');const[businessName,setBusinessName]=React.useState((therapist===null||therapist===void 0?void 0:therapist.business_name)||'');const[phone,setPhone]=React.useState((therapist===null||therapist===void 0?void 0:therapist.phone)||'');const[phoneError,setPhoneError]=React.useState('');const[nameError,setNameError]=React.useState('');const[saving,setSaving]=React.useState(false);const[saved,setSaved]=React.useState(false);const[copied,setCopied]=React.useState(false);const intakeUrl=\"\".concat(window.location.origin,\"/\").concat(therapist===null||therapist===void 0?void 0:therapist.custom_url);const qrUrl=\"https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=\".concat(encodeURIComponent(intakeUrl));const C2={sage:'#6B9E80',forest:'#2A5741',beige:'#F0EAD9',darkGray:'#1A1A2E',gray:'#6B7280',lightGray:'#E8E4DC',white:'#FFFFFF',gold:'#C9A84C'};const copyLink=()=>{navigator.clipboard.writeText(intakeUrl).then(()=>{setCopied(true);setTimeout(()=>setCopied(false),2000);});};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:680,width:'100%'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:'Georgia, serif',fontSize:'26px',fontWeight:'700',color:C2.darkGray,margin:'0 0 28px 0'},children:\"Account Settings\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, \".concat(C2.forest,\"08, \").concat(C2.sage,\"15)\"),border:\"1.5px solid \".concat(C2.sage,\"40\"),borderRadius:'14px',padding:'24px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',fontWeight:'700',textTransform:'uppercase',letterSpacing:'0.08em',color:C2.sage,margin:'0 0 8px 0'},children:\"\\uD83D\\uDD17 Your Client Intake Link\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',color:C2.gray,margin:'0 0 14px 0'},children:\"Share this with clients \\u2014 they tap it, fill their body map, you get it instantly.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,background:C2.white,border:\"1.5px solid \".concat(C2.lightGray),borderRadius:'8px',padding:'10px 14px',fontSize:'14px',fontFamily:'monospace',color:C2.darkGray,minWidth:200},children:intakeUrl}),/*#__PURE__*/_jsx(\"button\",{onClick:copyLink,style:{background:copied?C2.forest:C2.sage,color:'#fff',border:'none',padding:'10px 20px',borderRadius:'8px',fontSize:'14px',fontWeight:'600',cursor:'pointer',whiteSpace:'nowrap',transition:'background 0.2s'},children:copied?'‚úì Copied!':'Copy Link'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C2.white,border:\"1.5px solid \".concat(C2.lightGray),borderRadius:'14px',padding:'24px',marginBottom:'20px',display:'flex',gap:'24px',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(\"img\",{src:qrUrl,alt:\"QR Code\",style:{width:130,height:130,borderRadius:'8px',border:\"1px solid \".concat(C2.lightGray)}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',fontWeight:'700',textTransform:'uppercase',letterSpacing:'0.08em',color:C2.gray,margin:'0 0 6px 0'},children:\"\\uD83D\\uDCF1 QR Code\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',fontWeight:'600',color:C2.darkGray,margin:'0 0 8px 0'},children:\"Print & place at your table\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',color:C2.gray,margin:'0 0 16px 0',lineHeight:1.5},children:\"Clients scan before the session. No link needed. Works on any phone.\"}),/*#__PURE__*/_jsx(\"a\",{href:qrUrl,download:\"bodymap-qr.png\",style:{display:'inline-block',background:C2.beige,border:\"1.5px solid \".concat(C2.lightGray),color:C2.darkGray,padding:'8px 16px',borderRadius:'8px',fontSize:'13px',fontWeight:'600',textDecoration:'none'},children:\"\\u2B07\\uFE0F Download QR Code\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C2.white,border:\"1.5px solid \".concat(C2.lightGray),borderRadius:'14px',padding:'24px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',fontWeight:'700',textTransform:'uppercase',letterSpacing:'0.08em',color:C2.gray,margin:'0 0 16px 0'},children:\"\\u270F\\uFE0F Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bm-profile-grid\",style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'12px',fontWeight:'600',color:C2.gray,display:'block',marginBottom:'6px'},children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{value:fullName,onChange:e=>setFullName(e.target.value),style:{width:'100%',padding:'10px 12px',border:\"1.5px solid \".concat(phoneError?'#EF4444':C2.lightGray),borderRadius:'8px',fontSize:'14px',boxSizing:'border-box',fontFamily:'system-ui',background:C2.beige}}),phoneError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#EF4444',fontSize:'11px',margin:'4px 0 0'},children:phoneError})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'12px',fontWeight:'600',color:C2.gray,display:'block',marginBottom:'6px'},children:\"Business Name\"}),/*#__PURE__*/_jsx(\"input\",{value:businessName,onChange:e=>setBusinessName(e.target.value),style:{width:'100%',padding:'10px 12px',border:\"1.5px solid \".concat(phoneError?'#EF4444':C2.lightGray),borderRadius:'8px',fontSize:'14px',boxSizing:'border-box',fontFamily:'system-ui',background:C2.beige}}),phoneError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#EF4444',fontSize:'11px',margin:'4px 0 0'},children:phoneError})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'12px',fontWeight:'600',color:C2.gray,display:'block',marginBottom:'6px'},children:\"Phone Number (shown on client briefs)\"}),/*#__PURE__*/_jsx(\"input\",{value:phone,onChange:e=>{const d=e.target.value.replace(/\\D/g,'').slice(0,10);const f=d.length<=3?d:d.length<=6?\"(\".concat(d.slice(0,3),\") \").concat(d.slice(3)):\"(\".concat(d.slice(0,3),\") \").concat(d.slice(3,6),\"-\").concat(d.slice(6));setPhone(f);setPhoneError('');},placeholder:\"(512) 555-1234\",type:\"tel\",style:{width:'100%',padding:'10px 12px',border:\"1.5px solid \".concat(phoneError?'#EF4444':C2.lightGray),borderRadius:'8px',fontSize:'14px',boxSizing:'border-box',fontFamily:'system-ui',background:C2.beige}}),phoneError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#EF4444',fontSize:'11px',margin:'4px 0 0'},children:phoneError})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{let valid=true;if(!fullName.trim()||fullName.trim().length<2){setNameError('Name must be at least 2 characters');valid=false;}else setNameError('');if(phone&&phone.replace(/\\D/g,'').length>0&&phone.replace(/\\D/g,'').length!==10){setPhoneError('Enter a valid 10-digit phone number');valid=false;}else setPhoneError('');if(!valid)return;setSaving(true);try{const{supabase}=await import('../lib/supabase');await supabase.from('therapists').update({full_name:fullName,business_name:businessName,phone:phone}).eq('id',therapist.id);setSaved(true);setTimeout(()=>setSaved(false),2500);}catch(e){console.error(e);}finally{setSaving(false);}},style:{background:C2.sage,color:'#fff',border:'none',padding:'10px 24px',borderRadius:'8px',fontSize:'14px',fontWeight:'600',cursor:'pointer'},children:saving?'Saving...':saved?'‚úì Saved!':'Save Changes'}),/*#__PURE__*/_jsxs(\"div\",{children:[nameError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#EF4444',fontSize:'11px',margin:'0 0 2px'},children:nameError}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'12px',color:C2.gray,margin:0},children:[\"Email: \",therapist===null||therapist===void 0?void 0:therapist.email]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C2.white,border:\"1.5px solid \".concat(C2.lightGray),borderRadius:'14px',padding:'24px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',fontWeight:'700',textTransform:'uppercase',letterSpacing:'0.08em',color:C2.gray,margin:'0 0 12px 0'},children:\"\\uD83D\\uDCB3 Plan\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'18px',fontWeight:'700',color:C2.darkGray,margin:'0 0 4px 0'},children:(therapist===null||therapist===void 0?void 0:therapist.plan)==='free'?'Free Plan':(therapist===null||therapist===void 0?void 0:therapist.plan)==='silver'?'Silver ‚Äî $24/mo':'Gold ‚Äî $49/mo'}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',color:C2.gray,margin:'0 0 4px 0'},children:(therapist===null||therapist===void 0?void 0:therapist.plan)==='free'?'Up to 5 clients. Upgrade to unlock unlimited.':(therapist===null||therapist===void 0?void 0:therapist.plan)==='silver'?'Unlimited clients + full session history.':'All features including AI insights.'}),(therapist===null||therapist===void 0?void 0:therapist.plan)!=='free'&&/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:C2.gray,margin:0,opacity:0.7},children:\"Cancel anytime. Access continues until end of billing period.\"})]}),(therapist===null||therapist===void 0?void 0:therapist.plan)==='free'&&/*#__PURE__*/_jsx(\"a\",{href:\"https://buy.stripe.com/test_28EdRbfAO34N973ddvafS00\",target:\"_blank\",rel:\"noopener noreferrer\",style:{background:C2.gold,color:'#fff',border:'none',padding:'10px 20px',borderRadius:'8px',fontSize:'14px',fontWeight:'700',cursor:'pointer',textDecoration:'none',display:'inline-block'},children:\"Upgrade to Silver \\u2197\"})]})]})]});}export default function Dashboard(_ref2){let{view}=_ref2;const{therapist,signOut}=useAuth();const navigate=useNavigate();const{clientId,sessionId}=useParams();const[stats,setStats]=useState({clients:0,sessions:0});const[client,setClient]=useState(null);const[session,setSession]=useState(null);const[showSendModal,setShowSendModal]=useState(false);const[sendPhone,setSendPhone]=useState('');const[sendCopied,setSendCopied]=useState(false);const[showBookmarkNudge,setShowBookmarkNudge]=useState(false);useEffect(()=>{if(therapist!==null&&therapist!==void 0&&therapist.id)loadStats();if(localStorage.getItem('showSendOnLoad')==='true'){localStorage.removeItem('showSendOnLoad');setTimeout(()=>setShowSendModal(true),800);}if(localStorage.getItem('showBookmarkNudge')==='true'){localStorage.removeItem('showBookmarkNudge');setShowBookmarkNudge(true);}},[therapist===null||therapist===void 0?void 0:therapist.id]);useEffect(()=>{if(clientId)loadClient();},[clientId]);useEffect(()=>{if(sessionId)loadSession();},[sessionId]);async function loadStats(){try{const clients=await db.getTherapistClients(therapist.id);const{data:sessions}=await supabase.from('sessions').select('id').eq('therapist_id',therapist.id);setStats({clients:(clients===null||clients===void 0?void 0:clients.length)||0,sessions:(sessions===null||sessions===void 0?void 0:sessions.length)||0});}catch(err){console.error(err);}}async function loadClient(){try{const{data,error}=await supabase.from('clients').select('*').eq('id',clientId).single();if(!error)setClient(data);}catch(err){console.error(err);}}async function loadSession(){try{const{data,error}=await supabase.from('sessions').select('*').eq('id',sessionId).single();if(!error)setSession(data);}catch(err){console.error(err);}}const handleLogout=async()=>{await signOut();};return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:C.beige,fontFamily:'system-ui, sans-serif',overflowX:'hidden'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{background:C.white,borderBottom:\"1px solid \".concat(C.lightGray),padding:'16px 24px',display:'flex',justifyContent:'space-between',alignItems:'center',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigate('/dashboard'),style:{display:'flex',alignItems:'center',gap:'12px',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'32px'},children:\"\\uD83C\\uDF3F\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'20px',fontWeight:'700',color:C.forest,margin:0},children:\"BodyMap\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:C.gray,margin:0},children:(therapist===null||therapist===void 0?void 0:therapist.business_name)||'Dashboard'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',fontWeight:'600',color:C.darkGray,margin:0},children:therapist===null||therapist===void 0?void 0:therapist.full_name}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:C.gray,margin:0},children:(therapist===null||therapist===void 0?void 0:therapist.plan)==='free'?'Free Plan':(therapist===null||therapist===void 0?void 0:therapist.plan)==='silver'?'Silver Plan':'Gold Plan'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{background:C.white,border:\"1px solid \".concat(C.lightGray),color:C.gray,padding:'8px 16px',borderRadius:'6px',fontSize:'14px',cursor:'pointer'},children:\"Logout\"})]})]}),showBookmarkNudge&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#2A5741',color:'white',padding:'12px 24px',display:'flex',justifyContent:'space-between',alignItems:'center',gap:16},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:10},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:20},children:\"\\uD83D\\uDCF2\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:14,fontWeight:600},children:\"Add BodyMap to your home screen for instant 3-second access \\u2014 bookmark this page or use Share \\u2192 Add to Home Screen\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowBookmarkNudge(false),style:{background:'rgba(255,255,255,0.2)',border:'none',color:'white',padding:'6px 14px',borderRadius:20,fontWeight:700,fontSize:13,cursor:'pointer',whiteSpace:'nowrap'},children:\"Got it \\u2713\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bm-dash-pad\",style:{maxWidth:'1200px',margin:'0 auto',padding:'32px 16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:'12px',padding:'8px',marginBottom:'24px',display:'flex',gap:'8px',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),style:{flex:1,background:view==='clients'||view==='sessions'||view==='session-detail'?C.sage:'transparent',color:view==='clients'||view==='sessions'||view==='session-detail'?C.white:C.gray,border:'none',padding:'12px 24px',borderRadius:'8px',fontSize:'15px',fontWeight:'600',cursor:'pointer'},children:\"\\uD83D\\uDCCB Clients\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard/settings'),style:{flex:1,background:view==='settings'?C.sage:'transparent',color:view==='settings'?C.white:C.gray,border:'none',padding:'12px 24px',borderRadius:'8px',fontSize:'15px',fontWeight:'600',cursor:'pointer'},children:\"\\u2699\\uFE0F Settings\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:'12px',padding:'32px',minHeight:'400px',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[view==='clients'&&/*#__PURE__*/_jsx(ClientList,{therapistId:therapist===null||therapist===void 0?void 0:therapist.id,onSelectClient:c=>navigate(\"/dashboard/clients/\".concat(c.id))}),view==='sessions'&&client&&/*#__PURE__*/_jsx(SessionList,{client:client,therapistId:therapist===null||therapist===void 0?void 0:therapist.id,onBack:()=>navigate('/dashboard'),onSelectSession:s=>navigate(\"/dashboard/clients/\".concat(clientId,\"/sessions/\").concat(s.id))}),view==='sessions'&&!client&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px',color:C.gray},children:\"Loading client...\"}),view==='session-detail'&&session&&client&&/*#__PURE__*/_jsx(SessionDetail,{session:session,client:client,onBack:()=>navigate(\"/dashboard/clients/\".concat(clientId)),onUpdate:updated=>setSession(updated)}),view==='session-detail'&&(!session||!client)&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px',color:C.gray},children:\"Loading session...\"}),view==='settings'&&/*#__PURE__*/_jsx(SettingsPanel,{therapist:therapist})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"no-print\",style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'16px',marginTop:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:'12px',padding:'20px',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:C.gray,margin:'0 0 8px 0'},children:\"Total Clients\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'32px',fontWeight:'700',color:C.forest,margin:0},children:stats.clients})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:'12px',padding:'20px',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:C.gray,margin:'0 0 8px 0'},children:\"Total Sessions\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'32px',fontWeight:'700',color:C.sage,margin:0},children:stats.sessions})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:'12px',padding:'20px',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:C.gray,margin:'0 0 8px 0'},children:\"Plan\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'20px',fontWeight:'700',color:C.darkGray,margin:0},children:(therapist===null||therapist===void 0?void 0:therapist.plan)==='free'?'Free (5 clients max)':(therapist===null||therapist===void 0?void 0:therapist.plan)==='silver'?'Silver ($24/mo)':'Gold ($49/mo)'})]})]})]}),(view==='clients'||view==='sessions'||view==='session-detail')&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowSendModal(true);setSendPhone('');setSendCopied(false);},style:{position:'fixed',bottom:'32px',right:'32px',background:'#2A5741',color:'white',border:'none',borderRadius:'50px',padding:'16px 28px',fontSize:'16px',fontWeight:'700',cursor:'pointer',boxShadow:'0 8px 24px rgba(42,87,65,0.4)',display:'flex',alignItems:'center',gap:'10px',zIndex:1000},children:\"\\uD83D\\uDCE4 Send Intake\"}),showSendModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',inset:0,background:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:2000,padding:'24px'},onClick:()=>setShowSendModal(false),children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'20px',padding:'32px',width:'100%',maxWidth:'440px',boxShadow:'0 20px 60px rgba(0,0,0,0.3)'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:'Georgia, serif',fontSize:'22px',fontWeight:'700',color:'#1A1A2E',margin:'0 0 4px 0'},children:\"\\uD83D\\uDCE4 Send Intake Form\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',color:'#6B7280',margin:0},children:\"Client fills it on their phone in 60 seconds\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSendModal(false),style:{background:'none',border:'none',fontSize:'20px',cursor:'pointer',color:'#9CA3AF',padding:'4px'},children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#F5F0E8',borderRadius:'10px',padding:'12px 16px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',fontWeight:'700',color:'#6B7280',textTransform:'uppercase',letterSpacing:'0.5px',margin:'0 0 4px 0'},children:\"Your intake link\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'14px',fontWeight:'600',color:'#2A5741',margin:0,wordBreak:'break-all'},children:[window.location.origin,\"/\",therapist===null||therapist===void 0?void 0:therapist.custom_url]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'13px',fontWeight:'700',color:'#1A1A2E',display:'block',marginBottom:'8px'},children:\"Client phone number (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:sendPhone,onChange:e=>setSendPhone(e.target.value),placeholder:\"(512) 555-1234\",autoFocus:true,style:{width:'100%',padding:'12px 16px',border:'2px solid #E8E4DC',borderRadius:'10px',fontSize:'16px',outline:'none',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsx(\"a\",{href:sendPhone.replace(/\\D/g,'').length>=10?'sms:'+sendPhone.replace(/\\D/g,'')+'?body='+encodeURIComponent('Hi! Please fill out my quick intake form before your session: '+window.location.origin+'/'+((therapist===null||therapist===void 0?void 0:therapist.custom_url)||'')):undefined,onClick:e=>{if(sendPhone.replace(/\\D/g,'').length<10)e.preventDefault();else setTimeout(()=>setShowSendModal(false),500);},style:{display:'block',textAlign:'center',background:sendPhone.replace(/\\D/g,'').length>=10?'#2A5741':'#C8BFB0',color:'white',padding:'14px',borderRadius:'50px',fontWeight:'700',fontSize:'15px',textDecoration:'none',cursor:sendPhone.replace(/\\D/g,'').length>=10?'pointer':'not-allowed'},children:\"\\uD83D\\uDCAC Open in Messages \\u2192\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{navigator.clipboard.writeText(window.location.origin+'/'+((therapist===null||therapist===void 0?void 0:therapist.custom_url)||''));setSendCopied(true);setTimeout(()=>setSendCopied(false),2000);},style:{background:sendCopied?'#E8F5EE':'#F5F0E8',border:'1.5px solid '+(sendCopied?'#6B9E80':'#E8E4DC'),color:sendCopied?'#2A5741':'#6B7280',padding:'12px',borderRadius:'50px',fontWeight:'600',fontSize:'14px',cursor:'pointer'},children:sendCopied?'‚úì Copied!':'üìã Copy Link Only'})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:'#9CA3AF',textAlign:'center',marginTop:'16px',marginBottom:0},children:\"\\uD83D\\uDD12 Only shared with you\"})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","useAuth","db","supabase","ClientList","SessionList","SessionDetail","jsx","_jsx","jsxs","_jsxs","C","sage","forest","beige","lightBeige","darkGray","gray","lightGray","white","SettingsPanel","_ref","therapist","fullName","setFullName","full_name","businessName","setBusinessName","business_name","phone","setPhone","phoneError","setPhoneError","nameError","setNameError","saving","setSaving","saved","setSaved","copied","setCopied","intakeUrl","concat","window","location","origin","custom_url","qrUrl","encodeURIComponent","C2","gold","copyLink","navigator","clipboard","writeText","then","setTimeout","style","maxWidth","width","children","fontFamily","fontSize","fontWeight","color","margin","background","border","borderRadius","padding","marginBottom","textTransform","letterSpacing","display","gap","alignItems","flexWrap","flex","minWidth","onClick","cursor","whiteSpace","transition","src","alt","height","lineHeight","href","download","textDecoration","className","gridTemplateColumns","value","onChange","e","target","boxSizing","d","replace","slice","f","length","placeholder","type","valid","trim","from","update","eq","id","console","error","email","justifyContent","plan","opacity","rel","Dashboard","_ref2","view","signOut","navigate","clientId","sessionId","stats","setStats","clients","sessions","client","setClient","session","setSession","showSendModal","setShowSendModal","sendPhone","setSendPhone","sendCopied","setSendCopied","showBookmarkNudge","setShowBookmarkNudge","loadStats","localStorage","getItem","removeItem","loadClient","loadSession","getTherapistClients","data","select","err","single","handleLogout","minHeight","overflowX","borderBottom","boxShadow","textAlign","therapistId","onSelectClient","c","onBack","onSelectSession","s","onUpdate","updated","marginTop","position","bottom","right","zIndex","inset","stopPropagation","wordBreak","autoFocus","outline","flexDirection","undefined","preventDefault"],"sources":["/Users/harshkumar/Documents/bodymap/src/pages/Dashboard.js"],"sourcesContent":["// src/pages/Dashboard.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db, supabase } from '../lib/supabase';\nimport ClientList from '../components/ClientList';\nimport SessionList from '../components/SessionList';\nimport SessionDetail from '../components/SessionDetail';\n\nconst C = {\n  sage: '#6B9E80', forest: '#2A5741', beige: '#F0EAD9',\n  lightBeige: '#F9FAFB', darkGray: '#1F2937', gray: '#6B7280',\n  lightGray: '#E5E7EB', white: '#FFFFFF'\n};\n\n\nfunction SettingsPanel({ therapist }) {\n  const [fullName, setFullName] = React.useState(therapist?.full_name || '');\n  const [businessName, setBusinessName] = React.useState(therapist?.business_name || '');\n  const [phone, setPhone] = React.useState(therapist?.phone || '');\n  const [phoneError, setPhoneError] = React.useState('');\n  const [nameError, setNameError] = React.useState('');\n  const [saving, setSaving] = React.useState(false);\n  const [saved, setSaved] = React.useState(false);\n  const [copied, setCopied] = React.useState(false);\n\n  const intakeUrl = `${window.location.origin}/${therapist?.custom_url}`;\n  const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(intakeUrl)}`;\n\n  const C2 = {\n    sage: '#6B9E80', forest: '#2A5741', beige: '#F0EAD9',\n    darkGray: '#1A1A2E', gray: '#6B7280', lightGray: '#E8E4DC',\n    white: '#FFFFFF', gold: '#C9A84C'\n  };\n\n  const copyLink = () => {\n    navigator.clipboard.writeText(intakeUrl).then(() => {\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    });\n  };\n\n  return (\n    <div style={{ maxWidth: 680, width: '100%' }}>\n      <h2 style={{ fontFamily: 'Georgia, serif', fontSize: '26px', fontWeight: '700', color: C2.darkGray, margin: '0 0 28px 0' }}>\n        Account Settings\n      </h2>\n\n      {/* Intake Link */}\n      <div style={{ background: `linear-gradient(135deg, ${C2.forest}08, ${C2.sage}15)`, border: `1.5px solid ${C2.sage}40`, borderRadius: '14px', padding: '24px', marginBottom: '20px' }}>\n        <p style={{ fontSize: '11px', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '0.08em', color: C2.sage, margin: '0 0 8px 0' }}>\n          üîó Your Client Intake Link\n        </p>\n        <p style={{ fontSize: '13px', color: C2.gray, margin: '0 0 14px 0' }}>\n          Share this with clients ‚Äî they tap it, fill their body map, you get it instantly.\n        </p>\n        <div style={{ display: 'flex', gap: '10px', alignItems: 'center', flexWrap: 'wrap' }}>\n          <div style={{ flex: 1, background: C2.white, border: `1.5px solid ${C2.lightGray}`, borderRadius: '8px', padding: '10px 14px', fontSize: '14px', fontFamily: 'monospace', color: C2.darkGray, minWidth: 200 }}>\n            {intakeUrl}\n          </div>\n          <button onClick={copyLink} style={{ background: copied ? C2.forest : C2.sage, color: '#fff', border: 'none', padding: '10px 20px', borderRadius: '8px', fontSize: '14px', fontWeight: '600', cursor: 'pointer', whiteSpace: 'nowrap', transition: 'background 0.2s' }}>\n            {copied ? '‚úì Copied!' : 'Copy Link'}\n          </button>\n        </div>\n      </div>\n\n      {/* QR Code */}\n      <div style={{ background: C2.white, border: `1.5px solid ${C2.lightGray}`, borderRadius: '14px', padding: '24px', marginBottom: '20px', display: 'flex', gap: '24px', alignItems: 'flex-start' }}>\n        <img src={qrUrl} alt=\"QR Code\" style={{ width: 130, height: 130, borderRadius: '8px', border: `1px solid ${C2.lightGray}` }} />\n        <div style={{ flex: 1 }}>\n          <p style={{ fontSize: '11px', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '0.08em', color: C2.gray, margin: '0 0 6px 0' }}>\n            üì± QR Code\n          </p>\n          <p style={{ fontSize: '14px', fontWeight: '600', color: C2.darkGray, margin: '0 0 8px 0' }}>Print & place at your table</p>\n          <p style={{ fontSize: '13px', color: C2.gray, margin: '0 0 16px 0', lineHeight: 1.5 }}>\n            Clients scan before the session. No link needed. Works on any phone.\n          </p>\n          <a href={qrUrl} download=\"bodymap-qr.png\" style={{ display: 'inline-block', background: C2.beige, border: `1.5px solid ${C2.lightGray}`, color: C2.darkGray, padding: '8px 16px', borderRadius: '8px', fontSize: '13px', fontWeight: '600', textDecoration: 'none' }}>\n            ‚¨áÔ∏è Download QR Code\n          </a>\n        </div>\n      </div>\n\n      {/* Profile Edit */}\n      <div style={{ background: C2.white, border: `1.5px solid ${C2.lightGray}`, borderRadius: '14px', padding: '24px', marginBottom: '20px' }}>\n        <p style={{ fontSize: '11px', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '0.08em', color: C2.gray, margin: '0 0 16px 0' }}>\n          ‚úèÔ∏è Profile\n        </p>\n        <div className=\"bm-profile-grid\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginBottom: '16px' }}>\n          <div>\n            <label style={{ fontSize: '12px', fontWeight: '600', color: C2.gray, display: 'block', marginBottom: '6px' }}>Full Name</label>\n            <input value={fullName} onChange={e => setFullName(e.target.value)}\n              style={{ width: '100%', padding: '10px 12px', border: `1.5px solid ${phoneError?'#EF4444':C2.lightGray}`, borderRadius: '8px', fontSize: '14px', boxSizing: 'border-box', fontFamily: 'system-ui', background: C2.beige }} />\n          {phoneError && <p style={{color:'#EF4444',fontSize:'11px',margin:'4px 0 0'}}>{phoneError}</p>}\n          </div>\n          <div>\n            <label style={{ fontSize: '12px', fontWeight: '600', color: C2.gray, display: 'block', marginBottom: '6px' }}>Business Name</label>\n            <input value={businessName} onChange={e => setBusinessName(e.target.value)}\n              style={{ width: '100%', padding: '10px 12px', border: `1.5px solid ${phoneError?'#EF4444':C2.lightGray}`, borderRadius: '8px', fontSize: '14px', boxSizing: 'border-box', fontFamily: 'system-ui', background: C2.beige }} />\n          {phoneError && <p style={{color:'#EF4444',fontSize:'11px',margin:'4px 0 0'}}>{phoneError}</p>}\n          </div>\n        </div>\n        <div style={{ marginBottom: '16px' }}>\n          <label style={{ fontSize: '12px', fontWeight: '600', color: C2.gray, display: 'block', marginBottom: '6px' }}>Phone Number (shown on client briefs)</label>\n          <input value={phone} onChange={e => { const d=e.target.value.replace(/\\D/g,'').slice(0,10); const f=d.length<=3?d:d.length<=6?`(${d.slice(0,3)}) ${d.slice(3)}`:`(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6)}`; setPhone(f); setPhoneError(''); }} placeholder=\"(512) 555-1234\" type=\"tel\"\n            style={{ width: '100%', padding: '10px 12px', border: `1.5px solid ${phoneError?'#EF4444':C2.lightGray}`, borderRadius: '8px', fontSize: '14px', boxSizing: 'border-box', fontFamily: 'system-ui', background: C2.beige }} />\n          {phoneError && <p style={{color:'#EF4444',fontSize:'11px',margin:'4px 0 0'}}>{phoneError}</p>}\n        </div>\n        <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\n          <button\n            onClick={async () => {\n              let valid = true;\n              if (!fullName.trim() || fullName.trim().length < 2) { setNameError('Name must be at least 2 characters'); valid = false; } else setNameError('');\n              if (phone && phone.replace(/\\D/g,'').length > 0 && phone.replace(/\\D/g,'').length !== 10) { setPhoneError('Enter a valid 10-digit phone number'); valid = false; } else setPhoneError('');\n              if (!valid) return;\n              setSaving(true);\n              try {\n                const { supabase } = await import('../lib/supabase');\n                await supabase.from('therapists').update({ full_name: fullName, business_name: businessName, phone: phone }).eq('id', therapist.id);\n                setSaved(true); setTimeout(() => setSaved(false), 2500);\n              } catch(e) { console.error(e); }\n              finally { setSaving(false); }\n            }}\n            style={{ background: C2.sage, color: '#fff', border: 'none', padding: '10px 24px', borderRadius: '8px', fontSize: '14px', fontWeight: '600', cursor: 'pointer' }}>\n            {saving ? 'Saving...' : saved ? '‚úì Saved!' : 'Save Changes'}\n          </button>\n          <div>\n            {nameError && <p style={{color:'#EF4444',fontSize:'11px',margin:'0 0 2px'}}>{nameError}</p>}\n            <p style={{ fontSize: '12px', color: C2.gray, margin: 0 }}>Email: {therapist?.email}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Plan */}\n      <div style={{ background: C2.white, border: `1.5px solid ${C2.lightGray}`, borderRadius: '14px', padding: '24px' }}>\n        <p style={{ fontSize: '11px', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '0.08em', color: C2.gray, margin: '0 0 12px 0' }}>\n          üí≥ Plan\n        </p>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <div>\n            <p style={{ fontSize: '18px', fontWeight: '700', color: C2.darkGray, margin: '0 0 4px 0' }}>\n              {therapist?.plan === 'free' ? 'Free Plan' : therapist?.plan === 'silver' ? 'Silver ‚Äî $24/mo' : 'Gold ‚Äî $49/mo'}\n            </p>\n            <p style={{ fontSize: '13px', color: C2.gray, margin: '0 0 4px 0' }}>\n              {therapist?.plan === 'free' ? 'Up to 5 clients. Upgrade to unlock unlimited.' : therapist?.plan === 'silver' ? 'Unlimited clients + full session history.' : 'All features including AI insights.'}\n            </p>\n            {therapist?.plan !== 'free' && (\n              <p style={{ fontSize: '12px', color: C2.gray, margin: 0, opacity: 0.7 }}>Cancel anytime. Access continues until end of billing period.</p>\n            )}\n          </div>\n          {therapist?.plan === 'free' && (\n            <a href='https://buy.stripe.com/test_28EdRbfAO34N973ddvafS00' target='_blank' rel='noopener noreferrer' style={{ background: C2.gold, color: '#fff', border: 'none', padding: '10px 20px', borderRadius: '8px', fontSize: '14px', fontWeight: '700', cursor: 'pointer', textDecoration: 'none', display: 'inline-block' }}>\n              Upgrade to Silver ‚Üó\n            </a>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function Dashboard({ view }) {\n  const { therapist, signOut } = useAuth();\n  const navigate = useNavigate();\n  const { clientId, sessionId } = useParams();\n  const [stats, setStats] = useState({ clients: 0, sessions: 0 });\n  const [client, setClient] = useState(null);\n  const [session, setSession] = useState(null);\n  const [showSendModal, setShowSendModal] = useState(false);\n  const [sendPhone, setSendPhone] = useState('');\n  const [sendCopied, setSendCopied] = useState(false);\n  const [showBookmarkNudge, setShowBookmarkNudge] = useState(false);\n\n  useEffect(() => {\n    if (therapist?.id) loadStats();\n    if (localStorage.getItem('showSendOnLoad') === 'true') {\n      localStorage.removeItem('showSendOnLoad');\n      setTimeout(() => setShowSendModal(true), 800);\n    }\n    if (localStorage.getItem('showBookmarkNudge') === 'true') {\n      localStorage.removeItem('showBookmarkNudge');\n      setShowBookmarkNudge(true);\n    }\n  }, [therapist?.id]);\n\n  useEffect(() => {\n    if (clientId) loadClient();\n  }, [clientId]);\n\n  useEffect(() => {\n    if (sessionId) loadSession();\n  }, [sessionId]);\n\n  async function loadStats() {\n    try {\n      const clients = await db.getTherapistClients(therapist.id);\n      const { data: sessions } = await supabase.from('sessions').select('id').eq('therapist_id', therapist.id);\n      setStats({ clients: clients?.length || 0, sessions: sessions?.length || 0 });\n    } catch (err) { console.error(err); }\n  }\n\n  async function loadClient() {\n    try {\n      const { data, error } = await supabase.from('clients').select('*').eq('id', clientId).single();\n      if (!error) setClient(data);\n    } catch (err) { console.error(err); }\n  }\n\n  async function loadSession() {\n    try {\n      const { data, error } = await supabase.from('sessions').select('*').eq('id', sessionId).single();\n      if (!error) setSession(data);\n    } catch (err) { console.error(err); }\n  }\n\n  const handleLogout = async () => {\n    await signOut();\n  };\n\n  return (\n    <div style={{ minHeight: '100vh', background: C.beige, fontFamily: 'system-ui, sans-serif', overflowX: 'hidden' }}>\n      <header style={{ background: C.white, borderBottom: `1px solid ${C.lightGray}`, padding: '16px 24px', display: 'flex', justifyContent: 'space-between', alignItems: 'center', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\n        <div onClick={() => navigate('/dashboard')} style={{ display: 'flex', alignItems: 'center', gap: '12px', cursor: 'pointer' }}>\n          <span style={{ fontSize: '32px' }}>üåø</span>\n          <div>\n            <h1 style={{ fontSize: '20px', fontWeight: '700', color: C.forest, margin: 0 }}>BodyMap</h1>\n            <p style={{ fontSize: '14px', color: C.gray, margin: 0 }}>{therapist?.business_name || 'Dashboard'}</p>\n          </div>\n        </div>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n          <div style={{ textAlign: 'right' }}>\n            <p style={{ fontSize: '14px', fontWeight: '600', color: C.darkGray, margin: 0 }}>{therapist?.full_name}</p>\n            <p style={{ fontSize: '12px', color: C.gray, margin: 0 }}>\n              {therapist?.plan === 'free' ? 'Free Plan' : therapist?.plan === 'silver' ? 'Silver Plan' : 'Gold Plan'}\n            </p>\n          </div>\n          <button onClick={handleLogout} style={{ background: C.white, border: `1px solid ${C.lightGray}`, color: C.gray, padding: '8px 16px', borderRadius: '6px', fontSize: '14px', cursor: 'pointer' }}>\n            Logout\n          </button>\n        </div>\n      </header>\n\n      {showBookmarkNudge && (\n        <div style={{ background: '#2A5741', color: 'white', padding: '12px 24px', display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 16 }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\n            <span style={{ fontSize: 20 }}>üì≤</span>\n            <p style={{ margin: 0, fontSize: 14, fontWeight: 600 }}>Add BodyMap to your home screen for instant 3-second access ‚Äî bookmark this page or use Share ‚Üí Add to Home Screen</p>\n          </div>\n          <button onClick={() => setShowBookmarkNudge(false)} style={{ background: 'rgba(255,255,255,0.2)', border: 'none', color: 'white', padding: '6px 14px', borderRadius: 20, fontWeight: 700, fontSize: 13, cursor: 'pointer', whiteSpace: 'nowrap' }}>Got it ‚úì</button>\n        </div>\n      )}\n      <div className=\"bm-dash-pad\" style={{ maxWidth: '1200px', margin: '0 auto', padding: '32px 16px' }}>\n        <div style={{ background: C.white, borderRadius: '12px', padding: '8px', marginBottom: '24px', display: 'flex', gap: '8px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\n          <button\n            onClick={() => navigate('/dashboard')}\n            style={{ flex: 1, background: (view === 'clients' || view === 'sessions' || view === 'session-detail') ? C.sage : 'transparent', color: (view === 'clients' || view === 'sessions' || view === 'session-detail') ? C.white : C.gray, border: 'none', padding: '12px 24px', borderRadius: '8px', fontSize: '15px', fontWeight: '600', cursor: 'pointer' }}\n          >\n            üìã Clients\n          </button>\n          <button\n            onClick={() => navigate('/dashboard/settings')}\n            style={{ flex: 1, background: view === 'settings' ? C.sage : 'transparent', color: view === 'settings' ? C.white : C.gray, border: 'none', padding: '12px 24px', borderRadius: '8px', fontSize: '15px', fontWeight: '600', cursor: 'pointer' }}\n          >\n            ‚öôÔ∏è Settings\n          </button>\n        </div>\n\n        <div style={{ background: C.white, borderRadius: '12px', padding: '32px', minHeight: '400px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\n          {view === 'clients' && (\n            <ClientList\n              therapistId={therapist?.id}\n              onSelectClient={(c) => navigate(`/dashboard/clients/${c.id}`)}\n            />\n          )}\n          {view === 'sessions' && client && (\n            <SessionList\n              client={client}\n              therapistId={therapist?.id}\n              onBack={() => navigate('/dashboard')}\n              onSelectSession={(s) => navigate(`/dashboard/clients/${clientId}/sessions/${s.id}`)}\n            />\n          )}\n          {view === 'sessions' && !client && (\n            <div style={{ textAlign: 'center', padding: '40px', color: C.gray }}>Loading client...</div>\n          )}\n          {view === 'session-detail' && session && client && (\n            <SessionDetail\n              session={session}\n              client={client}\n              onBack={() => navigate(`/dashboard/clients/${clientId}`)}\n              onUpdate={(updated) => setSession(updated)}\n            />\n          )}\n          {view === 'session-detail' && (!session || !client) && (\n            <div style={{ textAlign: 'center', padding: '40px', color: C.gray }}>Loading session...</div>\n          )}\n          {view === 'settings' && (\n            <SettingsPanel therapist={therapist} />\n          )}\n        </div>\n\n        <div className=\"no-print\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '16px', marginTop: '24px' }}>\n          <div style={{ background: C.white, borderRadius: '12px', padding: '20px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\n            <p style={{ fontSize: '14px', color: C.gray, margin: '0 0 8px 0' }}>Total Clients</p>\n            <p style={{ fontSize: '32px', fontWeight: '700', color: C.forest, margin: 0 }}>{stats.clients}</p>\n          </div>\n          <div style={{ background: C.white, borderRadius: '12px', padding: '20px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\n            <p style={{ fontSize: '14px', color: C.gray, margin: '0 0 8px 0' }}>Total Sessions</p>\n            <p style={{ fontSize: '32px', fontWeight: '700', color: C.sage, margin: 0 }}>{stats.sessions}</p>\n          </div>\n          <div style={{ background: C.white, borderRadius: '12px', padding: '20px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)' }}>\n            <p style={{ fontSize: '14px', color: C.gray, margin: '0 0 8px 0' }}>Plan</p>\n            <p style={{ fontSize: '20px', fontWeight: '700', color: C.darkGray, margin: 0 }}>\n              {therapist?.plan === 'free' ? 'Free (5 clients max)' : therapist?.plan === 'silver' ? 'Silver ($24/mo)' : 'Gold ($49/mo)'}\n            </p>\n          </div>\n        </div>\n      </div>\n      {(view === 'clients' || view === 'sessions' || view === 'session-detail') && (\n        <button onClick={() => { setShowSendModal(true); setSendPhone(''); setSendCopied(false); }} style={{ position: 'fixed', bottom: '32px', right: '32px', background: '#2A5741', color: 'white', border: 'none', borderRadius: '50px', padding: '16px 28px', fontSize: '16px', fontWeight: '700', cursor: 'pointer', boxShadow: '0 8px 24px rgba(42,87,65,0.4)', display: 'flex', alignItems: 'center', gap: '10px', zIndex: 1000 }}>\n          üì§ Send Intake\n        </button>\n      )}\n      {showSendModal && (\n        <div style={{ position: 'fixed', inset: 0, background: 'rgba(0,0,0,0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 2000, padding: '24px' }} onClick={() => setShowSendModal(false)}>\n          <div style={{ background: 'white', borderRadius: '20px', padding: '32px', width: '100%', maxWidth: '440px', boxShadow: '0 20px 60px rgba(0,0,0,0.3)' }} onClick={e => e.stopPropagation()}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '24px' }}>\n              <div>\n                <h2 style={{ fontFamily: 'Georgia, serif', fontSize: '22px', fontWeight: '700', color: '#1A1A2E', margin: '0 0 4px 0' }}>üì§ Send Intake Form</h2>\n                <p style={{ fontSize: '13px', color: '#6B7280', margin: 0 }}>Client fills it on their phone in 60 seconds</p>\n              </div>\n              <button onClick={() => setShowSendModal(false)} style={{ background: 'none', border: 'none', fontSize: '20px', cursor: 'pointer', color: '#9CA3AF', padding: '4px' }}>‚úï</button>\n            </div>\n            <div style={{ background: '#F5F0E8', borderRadius: '10px', padding: '12px 16px', marginBottom: '20px' }}>\n              <p style={{ fontSize: '11px', fontWeight: '700', color: '#6B7280', textTransform: 'uppercase', letterSpacing: '0.5px', margin: '0 0 4px 0' }}>Your intake link</p>\n              <p style={{ fontSize: '14px', fontWeight: '600', color: '#2A5741', margin: 0, wordBreak: 'break-all' }}>{window.location.origin}/{therapist?.custom_url}</p>\n            </div>\n            <div style={{ marginBottom: '16px' }}>\n              <label style={{ fontSize: '13px', fontWeight: '700', color: '#1A1A2E', display: 'block', marginBottom: '8px' }}>Client phone number (optional)</label>\n              <input type=\"tel\" value={sendPhone} onChange={e => setSendPhone(e.target.value)} placeholder=\"(512) 555-1234\" autoFocus style={{ width: '100%', padding: '12px 16px', border: '2px solid #E8E4DC', borderRadius: '10px', fontSize: '16px', outline: 'none', boxSizing: 'border-box' }} />\n            </div>\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n              <a href={sendPhone.replace(/\\D/g,'').length >= 10 ? 'sms:' + sendPhone.replace(/\\D/g,'') + '?body=' + encodeURIComponent('Hi! Please fill out my quick intake form before your session: ' + window.location.origin + '/' + (therapist?.custom_url || '')) : undefined} onClick={e => { if(sendPhone.replace(/\\D/g,'').length < 10) e.preventDefault(); else setTimeout(() => setShowSendModal(false), 500); }} style={{ display: 'block', textAlign: 'center', background: sendPhone.replace(/\\D/g,'').length >= 10 ? '#2A5741' : '#C8BFB0', color: 'white', padding: '14px', borderRadius: '50px', fontWeight: '700', fontSize: '15px', textDecoration: 'none', cursor: sendPhone.replace(/\\D/g,'').length >= 10 ? 'pointer' : 'not-allowed' }}>\n                üí¨ Open in Messages ‚Üí\n              </a>\n              <button onClick={() => { navigator.clipboard.writeText(window.location.origin + '/' + (therapist?.custom_url || '')); setSendCopied(true); setTimeout(() => setSendCopied(false), 2000); }} style={{ background: sendCopied ? '#E8F5EE' : '#F5F0E8', border: '1.5px solid ' + (sendCopied ? '#6B9E80' : '#E8E4DC'), color: sendCopied ? '#2A5741' : '#6B7280', padding: '12px', borderRadius: '50px', fontWeight: '600', fontSize: '14px', cursor: 'pointer' }}>\n                {sendCopied ? '‚úì Copied!' : 'üìã Copy Link Only'}\n              </button>\n            </div>\n            <p style={{ fontSize: '12px', color: '#9CA3AF', textAlign: 'center', marginTop: '16px', marginBottom: 0 }}>üîí Only shared with you</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}