{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const C={sage:'#6B9E80',forest:'#2A5741',lavender:'#B4A7D6',gray:'#6B7280',darkGray:'#1F2937',lightGray:'#F9FAFB',red:'#DC2626'};export default function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{signIn}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);const result=await signIn(email,password);if(result.success){const isFirstLoginToday=localStorage.getItem('lastLoginDate')!==new Date().toDateString();if(isFirstLoginToday){localStorage.setItem('showSendOnLoad','true');localStorage.setItem('lastLoginDate',new Date().toDateString());}const isFirstEver=!localStorage.getItem('hasLoggedInBefore');if(isFirstEver)localStorage.setItem('showBookmarkNudge','true');localStorage.setItem('hasLoggedInBefore','true');window.location.href='/dashboard';}else{setError(result.error);}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:C.lightGray,display:'flex',alignItems:'center',justifyContent:'center',padding:'24px',fontFamily:'system-ui, sans-serif'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'400px',width:'100%'},children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",style:{display:'flex',alignItems:'center',gap:'8px',justifyContent:'center',marginBottom:'32px',textDecoration:'none'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'40px'},children:\"\\uD83C\\uDF3F\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'32px',fontWeight:'700',color:C.forest},children:\"BodyMap\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'40px',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'24px',fontWeight:'700',color:C.darkGray,marginBottom:'8px',textAlign:'center'},children:\"Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:C.gray,marginBottom:'32px',textAlign:'center'},children:\"Sign in to your therapist dashboard\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#FEF2F2',border:'1px solid #FCA5A5',borderRadius:'8px',padding:'12px',marginBottom:'24px',color:C.red,fontSize:'14px'},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'14px',fontWeight:'600',color:'#374151',marginBottom:'8px'},children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,value:email,onChange:e=>setEmail(e.target.value),placeholder:\"you@example.com\",style:{width:'100%',padding:'12px',fontSize:'15px',border:'1px solid #D1D5DB',borderRadius:'8px',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'14px',fontWeight:'600',color:'#374151',marginBottom:'8px'},children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Enter your password\",style:{width:'100%',padding:'12px',fontSize:'15px',border:'1px solid #D1D5DB',borderRadius:'8px',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:'100%',background:loading?'#9CA3AF':C.sage,color:'white',padding:'14px',borderRadius:'8px',border:'none',fontSize:'16px',fontWeight:'600',cursor:loading?'not-allowed':'pointer',marginBottom:'16px'},children:loading?'Signing in...':'Sign In'}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',fontSize:'14px',color:C.gray},children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{color:C.sage,fontWeight:'600',textDecoration:'none'},children:\"Sign up\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'24px'},children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:C.gray,fontSize:'14px',textDecoration:'none'},children:\"\\u2190 Back to home\"})})]})});}","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","C","sage","forest","lavender","gray","darkGray","lightGray","red","Login","email","setEmail","password","setPassword","error","setError","loading","setLoading","signIn","navigate","handleSubmit","e","preventDefault","result","success","isFirstLoginToday","localStorage","getItem","Date","toDateString","setItem","isFirstEver","window","location","href","style","minHeight","background","display","alignItems","justifyContent","padding","fontFamily","children","maxWidth","width","to","gap","marginBottom","textDecoration","fontSize","fontWeight","color","borderRadius","boxShadow","textAlign","border","onSubmit","type","required","value","onChange","target","placeholder","boxSizing","disabled","cursor","marginTop"],"sources":["/Users/harshkumar/Documents/bodymap/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst C = {\n  sage: '#6B9E80',\n  forest: '#2A5741',\n  lavender: '#B4A7D6',\n  gray: '#6B7280',\n  darkGray: '#1F2937',\n  lightGray: '#F9FAFB',\n  red: '#DC2626'\n};\n\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { signIn } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    const result = await signIn(email, password);\n    \n    if (result.success) {\n      const isFirstLoginToday = localStorage.getItem('lastLoginDate') !== new Date().toDateString();\n      if (isFirstLoginToday) {\n        localStorage.setItem('showSendOnLoad', 'true');\n        localStorage.setItem('lastLoginDate', new Date().toDateString());\n      }\n      const isFirstEver = !localStorage.getItem('hasLoggedInBefore');\n      if (isFirstEver) localStorage.setItem('showBookmarkNudge', 'true');\n      localStorage.setItem('hasLoggedInBefore', 'true');\n      window.location.href = '/dashboard';\n    } else {\n      setError(result.error);\n    }\n    \n    setLoading(false);\n  };\n\n  return (\n    <div style={{ \n      minHeight: '100vh', \n      background: C.lightGray,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: '24px',\n      fontFamily: 'system-ui, sans-serif'\n    }}>\n      <div style={{ maxWidth: '400px', width: '100%' }}>\n        {/* Logo */}\n        <Link to=\"/\" style={{ \n          display: 'flex', \n          alignItems: 'center', \n          gap: '8px', \n          justifyContent: 'center',\n          marginBottom: '32px',\n          textDecoration: 'none'\n        }}>\n          <span style={{ fontSize: '40px' }}>üåø</span>\n          <span style={{ fontSize: '32px', fontWeight: '700', color: C.forest }}>BodyMap</span>\n        </Link>\n\n        {/* Login Card */}\n        <div style={{ \n          background: 'white', \n          borderRadius: '12px', \n          padding: '40px',\n          boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n        }}>\n          <h1 style={{ \n            fontSize: '24px', \n            fontWeight: '700', \n            color: C.darkGray, \n            marginBottom: '8px',\n            textAlign: 'center'\n          }}>\n            Welcome Back\n          </h1>\n          <p style={{ \n            fontSize: '14px', \n            color: C.gray, \n            marginBottom: '32px',\n            textAlign: 'center'\n          }}>\n            Sign in to your therapist dashboard\n          </p>\n\n          {error && (\n            <div style={{ \n              background: '#FEF2F2', \n              border: '1px solid #FCA5A5', \n              borderRadius: '8px', \n              padding: '12px',\n              marginBottom: '24px',\n              color: C.red,\n              fontSize: '14px'\n            }}>\n              {error}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ \n                display: 'block', \n                fontSize: '14px', \n                fontWeight: '600', \n                color: '#374151', \n                marginBottom: '8px' \n              }}>\n                Email\n              </label>\n              <input\n                type=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"you@example.com\"\n                style={{\n                  width: '100%',\n                  padding: '12px',\n                  fontSize: '15px',\n                  border: '1px solid #D1D5DB',\n                  borderRadius: '8px',\n                  boxSizing: 'border-box'\n                }}\n              />\n            </div>\n\n            <div style={{ marginBottom: '24px' }}>\n              <label style={{ \n                display: 'block', \n                fontSize: '14px', \n                fontWeight: '600', \n                color: '#374151', \n                marginBottom: '8px' \n              }}>\n                Password\n              </label>\n              <input\n                type=\"password\"\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Enter your password\"\n                style={{\n                  width: '100%',\n                  padding: '12px',\n                  fontSize: '15px',\n                  border: '1px solid #D1D5DB',\n                  borderRadius: '8px',\n                  boxSizing: 'border-box'\n                }}\n              />\n            </div>\n\n            <button \n              type=\"submit\"\n              disabled={loading}\n              style={{\n                width: '100%',\n                background: loading ? '#9CA3AF' : C.sage,\n                color: 'white',\n                padding: '14px',\n                borderRadius: '8px',\n                border: 'none',\n                fontSize: '16px',\n                fontWeight: '600',\n                cursor: loading ? 'not-allowed' : 'pointer',\n                marginBottom: '16px'\n              }}\n            >\n              {loading ? 'Signing in...' : 'Sign In'}\n            </button>\n\n            <div style={{ textAlign: 'center', fontSize: '14px', color: C.gray }}>\n              Don't have an account?{' '}\n              <Link to=\"/signup\" style={{ color: C.sage, fontWeight: '600', textDecoration: 'none' }}>\n                Sign up\n              </Link>\n            </div>\n          </form>\n        </div>\n\n        <div style={{ textAlign: 'center', marginTop: '24px' }}>\n          <Link to=\"/\" style={{ color: C.gray, fontSize: '14px', textDecoration: 'none' }}>\n            ‚Üê Back to home\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}