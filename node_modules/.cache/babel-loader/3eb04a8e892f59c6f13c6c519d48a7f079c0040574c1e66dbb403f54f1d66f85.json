{"ast":null,"code":"import _objectSpread from\"/Users/harshkumar/Documents/bodymap/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/SessionDetail.js\nimport React,{useState,useEffect,useMemo}from\"react\";import{db,supabase}from\"../lib/supabase\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const C={sage:\"#6B9E80\",forest:\"#2A5741\",beige:\"#F5F0E8\",darkGray:\"#1A1A2E\",gray:\"#6B7280\",lightGray:\"#E8E4DC\",white:\"#FFFFFF\",gold:\"#C9A84C\",red:\"#EF4444\"};const AREA_LABELS={\"f-head\":\"Head\",\"f-neck\":\"Neck\",\"f-l-shldr\":\"L Shoulder\",\"f-r-shldr\":\"R Shoulder\",\"f-l-chest\":\"L Chest\",\"f-r-chest\":\"R Chest\",\"f-abdomen\":\"Abdomen\",\"f-l-arm-u\":\"L Upper Arm\",\"f-r-arm-u\":\"R Upper Arm\",\"f-l-forearm\":\"L Forearm\",\"f-r-forearm\":\"R Forearm\",\"f-l-hand\":\"L Hand\",\"f-r-hand\":\"R Hand\",\"f-l-hip\":\"L Hip\",\"f-r-hip\":\"R Hip\",\"f-l-thigh\":\"L Thigh\",\"f-r-thigh\":\"R Thigh\",\"f-l-knee\":\"L Knee\",\"f-r-knee\":\"R Knee\",\"f-l-calf\":\"L Calf\",\"f-r-calf\":\"R Calf\",\"f-l-foot\":\"L Foot\",\"f-r-foot\":\"R Foot\",\"b-head\":\"Back of Head\",\"b-neck\":\"Back of Neck\",\"b-l-shldr\":\"L Shoulder Blade\",\"b-r-shldr\":\"R Shoulder Blade\",\"b-upper-bk\":\"Upper Back\",\"b-mid-bk\":\"Mid Back\",\"b-lower-bk\":\"Lower Back\",\"b-l-arm-u\":\"L Upper Arm\",\"b-r-arm-u\":\"R Upper Arm\",\"b-l-forearm\":\"L Forearm\",\"b-r-forearm\":\"R Forearm\",\"b-l-hand\":\"L Hand\",\"b-r-hand\":\"R Hand\",\"b-l-glute\":\"L Glute\",\"b-r-glute\":\"R Glute\",\"b-l-hamstr\":\"L Hamstring\",\"b-r-hamstr\":\"R Hamstring\",\"b-l-knee\":\"L Knee\",\"b-r-knee\":\"R Knee\",\"b-l-calf\":\"L Calf\",\"b-r-calf\":\"R Calf\",\"b-l-foot\":\"L Foot\",\"b-r-foot\":\"R Foot\"};const AREA_COORDS={\"f-head\":[85,28],\"f-neck\":[85,52],\"f-l-shldr\":[58,72],\"f-r-shldr\":[112,72],\"f-l-chest\":[68,95],\"f-r-chest\":[102,95],\"f-abdomen\":[85,125],\"f-l-arm-u\":[45,100],\"f-r-arm-u\":[125,100],\"f-l-forearm\":[42,130],\"f-r-forearm\":[128,130],\"f-l-hand\":[40,155],\"f-r-hand\":[130,155],\"f-l-hip\":[68,155],\"f-r-hip\":[102,155],\"f-l-thigh\":[68,185],\"f-r-thigh\":[102,185],\"f-l-knee\":[68,220],\"f-r-knee\":[102,220],\"f-l-calf\":[68,248],\"f-r-calf\":[102,248],\"f-l-foot\":[68,285],\"f-r-foot\":[102,285],\"b-head\":[85,28],\"b-neck\":[85,52],\"b-l-shldr\":[58,72],\"b-r-shldr\":[112,72],\"b-upper-bk\":[85,88],\"b-mid-bk\":[85,112],\"b-lower-bk\":[85,136],\"b-l-arm-u\":[45,100],\"b-r-arm-u\":[125,100],\"b-l-forearm\":[42,130],\"b-r-forearm\":[128,130],\"b-l-hand\":[40,155],\"b-r-hand\":[130,155],\"b-l-glute\":[68,162],\"b-r-glute\":[102,162],\"b-l-hamstr\":[68,192],\"b-r-hamstr\":[102,192],\"b-l-knee\":[68,220],\"b-r-knee\":[102,220],\"b-l-calf\":[68,248],\"b-r-calf\":[102,248],\"b-l-foot\":[68,285],\"b-r-foot\":[102,285]};function BodySVG(_ref){let{focusAreas=[],avoidAreas=[],heatmapFocus={},heatmapAvoid={},showHeatmap=false}=_ref;return/*#__PURE__*/_jsxs(\"svg\",{width:\"150\",height:\"290\",viewBox:\"0 0 170 310\",style:{filter:\"drop-shadow(0 2px 6px rgba(0,0,0,0.08))\"},children:[/*#__PURE__*/_jsx(\"ellipse\",{cx:\"85\",cy:\"28\",rx:\"20\",ry:\"24\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"77\",y:\"50\",width:\"16\",height:\"14\",rx:\"3\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M57 64 Q47 70 44 90 L40 155 Q40 162 48 162 L122 162 Q130 162 130 155 L126 90 Q123 70 113 64 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M57 66 Q42 74 38 115 Q36 128 40 138 Q46 141 50 138 Q54 112 60 85 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M113 66 Q128 74 132 115 Q134 128 130 138 Q124 141 120 138 Q116 112 110 85 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M60 162 Q56 195 54 232 Q52 260 56 278 Q62 284 70 282 Q76 278 76 260 L78 162 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M110 162 Q114 195 116 232 Q118 260 114 278 Q108 284 100 282 Q94 278 94 260 L92 162 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),showHeatmap&&Object.entries(heatmapFocus).map(_ref2=>{let[area,opacity]=_ref2;const c=AREA_COORDS[area];if(!c)return null;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"18\",fill:\"rgba(107,158,128,\"+(opacity*0.35).toFixed(2)+\")\",stroke:\"none\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"12\",fill:\"rgba(107,158,128,\"+(opacity*0.5).toFixed(2)+\")\",stroke:\"#6B9E80\",strokeWidth:opacity>0.6?\"2.5\":\"1.5\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"5\",fill:\"rgba(42,87,65,\"+opacity.toFixed(2)+\")\"})]},\"hf-\"+area);}),showHeatmap&&Object.entries(heatmapAvoid).map(_ref3=>{let[area,opacity]=_ref3;if(heatmapFocus[area])return null;const c=AREA_COORDS[area];if(!c)return null;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"18\",fill:\"rgba(239,68,68,\"+(opacity*0.25).toFixed(2)+\")\",stroke:\"none\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"12\",fill:\"rgba(239,68,68,\"+(opacity*0.35).toFixed(2)+\")\",stroke:\"#EF4444\",strokeWidth:opacity>0.6?\"2.5\":\"1.5\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"5\",fill:\"rgba(185,28,28,\"+opacity.toFixed(2)+\")\"})]},\"ha-\"+area);}),!showHeatmap&&focusAreas.map((area,i)=>{const c=AREA_COORDS[area];if(!c)return null;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"12\",fill:\"rgba(107,158,128,0.25)\",stroke:\"#6B9E80\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"5\",fill:\"#6B9E80\"})]},\"f\"+i);}),!showHeatmap&&avoidAreas.map((area,i)=>{const c=AREA_COORDS[area];if(!c)return null;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"12\",fill:\"rgba(239,68,68,0.2)\",stroke:\"#EF4444\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"5\",fill:\"#EF4444\"})]},\"a\"+i);})]});}export default function SessionDetail(_ref4){let{session,client,onBack,onUpdate}=_ref4;const[notes,setNotes]=useState(session.therapist_notes||\"\");const[saving,setSaving]=useState(false);const[saved,setSaved]=useState(false);const[completing,setCompleting]=useState(false);const[history,setHistory]=useState([]);const[feedback,setFeedback]=useState(null);const[feedbackLink,setFeedbackLink]=useState(\"\");const[linkCopied,setLinkCopied]=useState(false);const[showHeatmap,setShowHeatmap]=useState(false);useEffect(()=>{loadHistory();loadFeedback();supabase.from(\"therapists\").select(\"custom_url\").eq(\"id\",session.therapist_id).maybeSingle().then(_ref5=>{let{data:t}=_ref5;if(t){const code=session.feedback_code||session.id;setFeedbackLink(window.location.origin+\"/\"+t.custom_url+\"/feedback/\"+code);}});},[client===null||client===void 0?void 0:client.id]);async function loadFeedback(){try{const{data}=await supabase.from(\"feedback\").select(\"*\").eq(\"session_id\",session.id).maybeSingle();setFeedback(data);}catch(e){}}function copyLink(){navigator.clipboard.writeText(feedbackLink);setLinkCopied(true);setTimeout(()=>setLinkCopied(false),2000);}async function loadHistory(){try{const{data}=await supabase.from(\"sessions\").select(\"*\").eq(\"client_id\",client.id).order(\"created_at\",{ascending:false}).limit(10);setHistory(data||[]);}catch(err){console.error(err);}}const heatmapData=useMemo(()=>{const past=history.filter(s=>s.id!==session.id).slice(0,5);const n=past.length;if(n===0)return{frontFocus:{},frontAvoid:{},backFocus:{},backAvoid:{},count:0};const ff={},fa={},bf={},ba={};past.forEach(s=>{(s.front_focus||[]).forEach(a=>{ff[a]=(ff[a]||0)+1;});(s.front_avoid||[]).forEach(a=>{fa[a]=(fa[a]||0)+1;});(s.back_focus||[]).forEach(a=>{bf[a]=(bf[a]||0)+1;});(s.back_avoid||[]).forEach(a=>{ba[a]=(ba[a]||0)+1;});});const toOp=c=>parseFloat(Math.min(0.3+c/n*0.7,1.0).toFixed(2));return{frontFocus:Object.fromEntries(Object.entries(ff).map(_ref6=>{let[k,v]=_ref6;return[k,toOp(v)];})),frontAvoid:Object.fromEntries(Object.entries(fa).map(_ref7=>{let[k,v]=_ref7;return[k,toOp(v)];})),backFocus:Object.fromEntries(Object.entries(bf).map(_ref8=>{let[k,v]=_ref8;return[k,toOp(v)];})),backAvoid:Object.fromEntries(Object.entries(ba).map(_ref9=>{let[k,v]=_ref9;return[k,toOp(v)];})),count:n};},[history,session.id]);const patterns=useMemo(()=>{if(history.length<2)return[];const result=[];const medSessions=history.filter(s=>s.med_flag&&s.med_flag!==\"none\");if(medSessions.length>0){const notes=medSessions.map(s=>s.med_note).filter(Boolean);const uniqueNotes=[...new Set(notes)];const noteText=uniqueNotes.length>0?\": \\\"\"+uniqueNotes[uniqueNotes.length-1]+\"\\\"\":\"\";result.push({icon:\"üö®\",text:\"Medical flag\"+noteText+\" ‚Äî always check before session\",urgent:true});}const pressures=history.filter(s=>s.pressure).map(s=>s.pressure);if(pressures.length>=2){const avg=Math.round(pressures.reduce((a,b)=>a+b,0)/pressures.length);result.push({icon:\"üíÜ\",text:\"Consistently prefers pressure level \"+avg+\"/5\"});}const goals=history.filter(s=>s.goal).map(s=>s.goal);const topGoal=goals.sort((a,b)=>goals.filter(v=>v===a).length-goals.filter(v=>v===b).length).pop();if(topGoal)result.push({icon:\"üéØ\",text:\"Most common goal: \"+topGoal});const allAvoid=history.flatMap(s=>[...(s.front_avoid||[]),...(s.back_avoid||[])]);const avoidCounts={};allAvoid.forEach(a=>avoidCounts[a]=(avoidCounts[a]||0)+1);Object.entries(avoidCounts).sort((a,b)=>b[1]-a[1]).slice(0,2).forEach(_ref0=>{let[area,count]=_ref0;if(count>=2)result.push({icon:\"‚ö†Ô∏è\",text:\"Always avoids: \"+(AREA_LABELS[area]||area)+\" (\"+count+\"x)\"});});const allFocus=history.flatMap(s=>[...(s.front_focus||[]),...(s.back_focus||[])]);const focusCounts={};allFocus.forEach(a=>focusCounts[a]=(focusCounts[a]||0)+1);Object.entries(focusCounts).sort((a,b)=>b[1]-a[1]).slice(0,2).forEach(_ref1=>{let[area,count]=_ref1;if(count>=2)result.push({icon:\"‚ú®\",text:\"Always focuses: \"+(AREA_LABELS[area]||area)+\" (\"+count+\"x)\"});});const lights=history.filter(s=>s.lighting).map(s=>s.lighting);if(lights.length>=2&&new Set(lights).size===1)result.push({icon:\"üí°\",text:\"Always prefers \"+lights[0]+\" lighting\"});return result.slice(0,5);},[history]);async function saveNotes(){setSaving(true);try{const{data}=await supabase.from(\"sessions\").update({therapist_notes:notes}).eq(\"id\",session.id).select().single();setSaved(true);setTimeout(()=>setSaved(false),2000);if(onUpdate&&data)onUpdate(data);}catch(err){console.error(err);}finally{setSaving(false);}}async function markComplete(){setCompleting(true);try{const{data}=await supabase.from(\"sessions\").update({completed:true,therapist_notes:notes,completed_at:new Date().toISOString()}).eq(\"id\",session.id).select().single();if(onUpdate&&data)onUpdate(data);onBack();}catch(err){console.error(err);}finally{setCompleting(false);}}const prefs=[{label:\"Pressure\",value:session.pressure?\"Level \"+session.pressure+\"/5\":null,icon:\"üíÜ\"},{label:\"Goal\",value:session.goal,icon:\"üéØ\"},{label:\"Table Temp\",value:session.table_temp,icon:\"üå°Ô∏è\"},{label:\"Room Temp\",value:session.room_temp,icon:\"üè†\"},{label:\"Music\",value:session.music,icon:\"üéµ\"},{label:\"Lighting\",value:session.lighting,icon:\"üí°\"},{label:\"Conversation\",value:session.conversation,icon:\"üí¨\"},{label:\"Draping\",value:session.draping,icon:\"üõèÔ∏è\"},{label:\"Oil Preference\",value:session.oil_pref!==\"none\"?session.oil_pref:null,icon:\"üåø\"},{label:\"Medical Flag\",value:session.med_flag!==\"none\"?session.med_flag:null,icon:\"‚öïÔ∏è\",urgent:true},{label:\"Medical Details\",value:session.med_note||null,icon:\"üö®\",urgent:true},{label:\"Client Notes\",value:session.client_notes||null,icon:\"üìù\",highlight:true}].filter(p=>p.value);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"16px\",marginBottom:\"28px\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,style:{background:\"transparent\",border:\"1.5px solid \"+C.lightGray,color:C.gray,padding:\"8px 16px\",borderRadius:\"8px\",fontSize:\"14px\",cursor:\"pointer\"},children:\"\\u2190 Sessions\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"26px\",fontWeight:\"700\",color:C.darkGray,margin:\"0 0 2px 0\",letterSpacing:\"-0.5px\"},children:client.name}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"14px\",color:C.gray,margin:0},children:new Date(session.created_at).toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\",year:\"numeric\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),style:{background:C.beige,border:\"1.5px solid \"+C.lightGray,color:C.gray,padding:\"8px 16px\",borderRadius:\"8px\",fontSize:\"14px\",cursor:\"pointer\"},children:\"\\uD83D\\uDDA8\\uFE0F Print Brief\"}),/*#__PURE__*/_jsx(\"span\",{style:{background:session.completed?\"#D1FAE5\":\"#FEF3C7\",color:session.completed?\"#065F46\":\"#92400E\",padding:\"6px 16px\",borderRadius:\"20px\",fontSize:\"13px\",fontWeight:\"600\"},children:session.completed?\"‚úì Completed\":\"‚è≥ Pending Review\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:\"16px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"16px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:\"14px\",padding:\"24px\",border:\"1px solid \"+C.lightGray,boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.darkGray,marginBottom:\"16px\",letterSpacing:\"-0.3px\"},children:\"Client Preferences\"}),prefs.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:C.gray,fontSize:\"14px\"},children:\"No preferences recorded\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:\"8px\"},children:prefs.map((p,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"10px 12px\",background:C.beige,borderRadius:\"8px\",border:\"1px solid \"+C.lightGray},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"11px\",color:C.gray,margin:\"0 0 3px 0\",textTransform:\"uppercase\",letterSpacing:\"0.5px\"},children:[p.icon,\" \",p.label]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"14px\",fontWeight:\"600\",color:C.darkGray,margin:0,textTransform:\"capitalize\"},children:p.value})]},i))})]}),patterns.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, \"+C.forest+\"08, \"+C.sage+\"12)\",borderRadius:\"14px\",padding:\"24px\",border:\"1px solid \"+C.sage+\"30\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.forest,marginBottom:\"16px\",letterSpacing:\"-0.3px\"},children:\"\\uD83D\\uDD0D Client Patterns\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"12px\",color:C.gray,margin:\"0 0 12px 0\"},children:[\"Based on \",history.length,\" sessions\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"8px\"},children:patterns.map((p,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"10px\",padding:\"8px 12px\",background:p.urgent?\"#FEF2F2\":C.white,borderRadius:\"8px\",border:\"1px solid \"+(p.urgent?\"#EF4444\":C.sage+\"25\")},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"16px\"},children:p.icon}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"13px\",color:p.urgent?\"#DC2626\":C.darkGray,fontWeight:p.urgent?\"700\":\"500\"},children:p.text})]},i))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:\"14px\",padding:\"24px\",border:\"1px solid \"+C.lightGray,boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.darkGray,marginBottom:\"16px\",letterSpacing:\"-0.3px\"},children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),placeholder:\"Add session notes...\",style:{width:\"100%\",minHeight:\"100px\",padding:\"12px\",border:\"1.5px solid \"+C.lightGray,borderRadius:\"8px\",fontSize:\"14px\",fontFamily:\"Georgia, serif\",resize:\"vertical\",boxSizing:\"border-box\",background:C.beige,lineHeight:\"1.6\"}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\",marginTop:\"12px\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveNotes,disabled:saving,style:{flex:1,background:C.sage,color:C.white,border:\"none\",padding:\"11px\",borderRadius:\"8px\",fontSize:\"14px\",fontWeight:\"600\",cursor:\"pointer\",fontFamily:\"system-ui\"},children:saving?\"Saving...\":saved?\"‚úì Saved!\":\"Save Notes\"}),!session.completed&&/*#__PURE__*/_jsx(\"button\",{onClick:markComplete,disabled:completing,style:{flex:1,background:C.forest,color:C.white,border:\"none\",padding:\"11px\",borderRadius:\"8px\",fontSize:\"14px\",fontWeight:\"600\",cursor:\"pointer\",fontFamily:\"system-ui\"},children:completing?\"...\":\"‚úì Mark Complete\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:\"14px\",padding:\"24px\",border:\"1px solid \"+C.lightGray,boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:\"8px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.darkGray,margin:0,letterSpacing:\"-0.3px\"},children:\"Body Map\"}),heatmapData.count>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowHeatmap(v=>!v),style:{display:\"flex\",alignItems:\"center\",gap:\"6px\",padding:\"5px 13px\",borderRadius:\"20px\",border:\"2px solid \"+(showHeatmap?C.forest:C.lightGray),background:showHeatmap?C.forest:C.white,color:showHeatmap?C.white:C.gray,fontSize:\"12px\",fontWeight:\"700\",cursor:\"pointer\",transition:\"all 0.2s ease\",fontFamily:\"system-ui\"},children:[\"\\uD83D\\uDCCA History\",/*#__PURE__*/_jsx(\"span\",{style:{background:showHeatmap?\"rgba(255,255,255,0.2)\":C.beige,borderRadius:\"10px\",padding:\"1px 7px\",fontSize:\"11px\",fontWeight:\"700\",color:showHeatmap?C.white:C.forest},children:heatmapData.count})]})]}),showHeatmap&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, \"+C.forest+\"08, \"+C.sage+\"15)\",border:\"1px solid \"+C.sage+\"40\",borderRadius:\"8px\",padding:\"8px 12px\",marginBottom:\"12px\",fontSize:\"12px\",color:C.forest,display:\"flex\",alignItems:\"center\",gap:\"8px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD25\"}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pattern history\"}),\" from last \",heatmapData.count,\" sessions \\u2014 darker = more consistent\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:\"10px\",marginBottom:\"20px\"},children:showHeatmap?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\",background:\"rgba(42,87,65,0.12)\",color:C.forest,padding:\"4px 12px\",borderRadius:\"20px\",fontWeight:\"500\"},children:\"\\uD83D\\uDFE2 Consistent focus\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\",background:\"rgba(239,68,68,0.1)\",color:\"#991B1B\",padding:\"4px 12px\",borderRadius:\"20px\",fontWeight:\"500\"},children:\"\\uD83D\\uDD34 Consistent avoid\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\",background:\"rgba(107,158,128,0.15)\",color:C.forest,padding:\"4px 12px\",borderRadius:\"20px\",fontWeight:\"500\"},children:\"\\uD83D\\uDFE2 Focus\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\",background:\"rgba(239,68,68,0.1)\",color:\"#991B1B\",padding:\"4px 12px\",borderRadius:\"20px\",fontWeight:\"500\"},children:\"\\uD83D\\uDD34 Avoid\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\",fontWeight:\"600\",color:C.gray,marginBottom:\"8px\",textTransform:\"uppercase\",letterSpacing:\"1px\"},children:\"Front\"}),/*#__PURE__*/_jsx(BodySVG,{focusAreas:session.front_focus||[],avoidAreas:session.front_avoid||[],heatmapFocus:heatmapData.frontFocus,heatmapAvoid:heatmapData.frontAvoid,showHeatmap:showHeatmap})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\",fontWeight:\"600\",color:C.gray,marginBottom:\"8px\",textTransform:\"uppercase\",letterSpacing:\"1px\"},children:\"Back\"}),/*#__PURE__*/_jsx(BodySVG,{focusAreas:session.back_focus||[],avoidAreas:session.back_avoid||[],heatmapFocus:heatmapData.backFocus,heatmapAvoid:heatmapData.backAvoid,showHeatmap:showHeatmap})]})]}),!showHeatmap&&[...(session.front_focus||[]),...(session.front_avoid||[]),...(session.back_focus||[]),...(session.back_avoid||[])].length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",color:C.gray,marginBottom:\"8px\",textTransform:\"uppercase\",letterSpacing:\"0.5px\"},children:\"Areas\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:\"6px\"},children:[[...(session.front_focus||[]),...(session.back_focus||[])].map((a,i)=>/*#__PURE__*/_jsxs(\"span\",{style:{background:\"rgba(107,158,128,0.15)\",color:C.forest,padding:\"4px 10px\",borderRadius:\"20px\",fontSize:\"12px\",fontWeight:\"500\"},children:[\"\\uD83D\\uDFE2 \",AREA_LABELS[a]||a]},\"f\"+i)),[...(session.front_avoid||[]),...(session.back_avoid||[])].map((a,i)=>/*#__PURE__*/_jsxs(\"span\",{style:{background:\"rgba(239,68,68,0.1)\",color:\"#991B1B\",padding:\"4px 10px\",borderRadius:\"20px\",fontSize:\"12px\",fontWeight:\"500\"},children:[\"\\uD83D\\uDD34 \",AREA_LABELS[a]||a]},\"a\"+i))]})]}),showHeatmap&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",color:C.gray,marginBottom:\"8px\",textTransform:\"uppercase\",letterSpacing:\"0.5px\"},children:\"Top recurring areas\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:\"6px\"},children:[Object.entries(_objectSpread(_objectSpread({},heatmapData.frontFocus),heatmapData.backFocus)).sort((a,b)=>b[1]-a[1]).slice(0,4).map(_ref10=>{let[area,opacity]=_ref10;return/*#__PURE__*/_jsxs(\"span\",{style:{background:\"rgba(42,87,65,\"+opacity*0.15+\")\",color:C.forest,padding:\"4px 10px\",borderRadius:\"20px\",fontSize:\"12px\",fontWeight:\"600\",border:\"1px solid \"+C.sage+\"40\"},children:[\"\\uD83D\\uDFE2 \",AREA_LABELS[area]||area]},\"hft-\"+area);}),Object.entries(_objectSpread(_objectSpread({},heatmapData.frontAvoid),heatmapData.backAvoid)).sort((a,b)=>b[1]-a[1]).slice(0,3).map(_ref11=>{let[area,opacity]=_ref11;if(heatmapData.frontFocus[area]||heatmapData.backFocus[area])return null;return/*#__PURE__*/_jsxs(\"span\",{style:{background:\"rgba(239,68,68,\"+opacity*0.12+\")\",color:\"#991B1B\",padding:\"4px 10px\",borderRadius:\"20px\",fontSize:\"12px\",fontWeight:\"600\",border:\"1px solid rgba(239,68,68,0.25)\"},children:[\"\\uD83D\\uDD34 \",AREA_LABELS[area]||area]},\"hat-\"+area);})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:\"14px\",padding:\"24px\",border:\"1px solid #E8E4DC\",boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\",marginTop:\"16px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.darkGray,marginBottom:\"16px\"},children:\"\\uD83D\\uDCAC Client Feedback\"}),feedback?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:\"10px\",marginBottom:\"12px\"},children:[{label:\"Pressure\",value:feedback.pressure_rating?feedback.pressure_rating.replace(/_/g,\" \"):null},{label:\"Focus Areas\",value:feedback.focus_rating},{label:\"Overall\",value:feedback.overall_rating?feedback.overall_rating+\"/5 ‚≠ê\":null},{label:\"Communication\",value:feedback.communication_rating},{label:\"Return\",value:feedback.return_likelihood}].filter(f=>f.value).map((f,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{background:C.beige,borderRadius:\"10px\",padding:\"10px 12px\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"10px\",fontWeight:\"700\",color:C.gray,textTransform:\"uppercase\",margin:\"0 0 3px 0\"},children:f.label}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"14px\",fontWeight:\"600\",color:C.darkGray,margin:0,textTransform:\"capitalize\"},children:f.value})]},i))}),feedback.client_comment&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#FFFBEB\",borderRadius:\"10px\",padding:\"12px 14px\",border:\"1px solid #D97706\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\",fontWeight:\"700\",color:\"#D97706\",margin:\"0 0 4px 0\"},children:\"\\uD83D\\uDCDD CLIENT COMMENT\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"13px\",color:C.darkGray,margin:0,fontStyle:\"italic\"},children:[\"\\\"\",feedback.client_comment,\"\\\"\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"13px\",color:C.gray,marginBottom:\"14px\"},children:\"No feedback yet. Send this link to your client after the session.\"}),feedbackLink&&/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,background:C.beige,borderRadius:\"8px\",padding:\"10px 12px\",fontSize:\"12px\",color:C.gray,overflow:\"hidden\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\"},children:feedbackLink}),/*#__PURE__*/_jsx(\"button\",{onClick:copyLink,style:{background:\"#2A5741\",color:\"#fff\",border:\"none\",padding:\"10px 16px\",borderRadius:\"8px\",fontSize:\"12px\",fontWeight:\"700\",cursor:\"pointer\",whiteSpace:\"nowrap\"},children:linkCopied?\"‚úì Copied!\":\"Copy Link\"})]})]})]}),/*#__PURE__*/_jsx(\"style\",{children:\"@media print { header, nav, button, .no-print { display: none !important; } body { background: white !important; font-size: 11px !important; } * { box-shadow: none !important; } h2 { font-size: 16px !important; } h3 { font-size: 13px !important; } svg { width: 100px !important; height: 160px !important; } }\"})]});}","map":{"version":3,"names":["React","useState","useEffect","useMemo","db","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","C","sage","forest","beige","darkGray","gray","lightGray","white","gold","red","AREA_LABELS","AREA_COORDS","BodySVG","_ref","focusAreas","avoidAreas","heatmapFocus","heatmapAvoid","showHeatmap","width","height","viewBox","style","filter","children","cx","cy","rx","ry","fill","stroke","strokeWidth","x","y","d","Object","entries","map","_ref2","area","opacity","c","r","toFixed","_ref3","i","SessionDetail","_ref4","session","client","onBack","onUpdate","notes","setNotes","therapist_notes","saving","setSaving","saved","setSaved","completing","setCompleting","history","setHistory","feedback","setFeedback","feedbackLink","setFeedbackLink","linkCopied","setLinkCopied","setShowHeatmap","loadHistory","loadFeedback","from","select","eq","therapist_id","maybeSingle","then","_ref5","data","t","code","feedback_code","id","window","location","origin","custom_url","e","copyLink","navigator","clipboard","writeText","setTimeout","order","ascending","limit","err","console","error","heatmapData","past","s","slice","n","length","frontFocus","frontAvoid","backFocus","backAvoid","count","ff","fa","bf","ba","forEach","front_focus","a","front_avoid","back_focus","back_avoid","toOp","parseFloat","Math","min","fromEntries","_ref6","k","v","_ref7","_ref8","_ref9","patterns","result","medSessions","med_flag","med_note","Boolean","uniqueNotes","Set","noteText","push","icon","text","urgent","pressures","pressure","avg","round","reduce","b","goals","goal","topGoal","sort","pop","allAvoid","flatMap","avoidCounts","_ref0","allFocus","focusCounts","_ref1","lights","lighting","size","saveNotes","update","single","markComplete","completed","completed_at","Date","toISOString","prefs","label","value","table_temp","room_temp","music","conversation","draping","oil_pref","client_notes","highlight","p","display","alignItems","gap","marginBottom","onClick","background","border","color","padding","borderRadius","fontSize","cursor","flex","fontFamily","fontWeight","margin","letterSpacing","name","created_at","toLocaleDateString","weekday","month","day","year","print","gridTemplateColumns","flexDirection","boxShadow","textTransform","onChange","target","placeholder","minHeight","resize","boxSizing","lineHeight","marginTop","disabled","justifyContent","transition","textAlign","flexWrap","_objectSpread","_ref10","_ref11","pressure_rating","replace","focus_rating","overall_rating","communication_rating","return_likelihood","f","client_comment","fontStyle","overflow","textOverflow","whiteSpace"],"sources":["/Users/harshkumar/Documents/bodymap/src/components/SessionDetail.js"],"sourcesContent":["// src/components/SessionDetail.js\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { db, supabase } from \"../lib/supabase\";\n\nconst C = {\n  sage: \"#6B9E80\", forest: \"#2A5741\", beige: \"#F5F0E8\",\n  darkGray: \"#1A1A2E\", gray: \"#6B7280\", lightGray: \"#E8E4DC\",\n  white: \"#FFFFFF\", gold: \"#C9A84C\", red: \"#EF4444\"\n};\n\nconst AREA_LABELS = {\n  \"f-head\": \"Head\", \"f-neck\": \"Neck\",\n  \"f-l-shldr\": \"L Shoulder\", \"f-r-shldr\": \"R Shoulder\",\n  \"f-l-chest\": \"L Chest\", \"f-r-chest\": \"R Chest\",\n  \"f-abdomen\": \"Abdomen\",\n  \"f-l-arm-u\": \"L Upper Arm\", \"f-r-arm-u\": \"R Upper Arm\",\n  \"f-l-forearm\": \"L Forearm\", \"f-r-forearm\": \"R Forearm\",\n  \"f-l-hand\": \"L Hand\", \"f-r-hand\": \"R Hand\",\n  \"f-l-hip\": \"L Hip\", \"f-r-hip\": \"R Hip\",\n  \"f-l-thigh\": \"L Thigh\", \"f-r-thigh\": \"R Thigh\",\n  \"f-l-knee\": \"L Knee\", \"f-r-knee\": \"R Knee\",\n  \"f-l-calf\": \"L Calf\", \"f-r-calf\": \"R Calf\",\n  \"f-l-foot\": \"L Foot\", \"f-r-foot\": \"R Foot\",\n  \"b-head\": \"Back of Head\", \"b-neck\": \"Back of Neck\",\n  \"b-l-shldr\": \"L Shoulder Blade\", \"b-r-shldr\": \"R Shoulder Blade\",\n  \"b-upper-bk\": \"Upper Back\", \"b-mid-bk\": \"Mid Back\", \"b-lower-bk\": \"Lower Back\",\n  \"b-l-arm-u\": \"L Upper Arm\", \"b-r-arm-u\": \"R Upper Arm\",\n  \"b-l-forearm\": \"L Forearm\", \"b-r-forearm\": \"R Forearm\",\n  \"b-l-hand\": \"L Hand\", \"b-r-hand\": \"R Hand\",\n  \"b-l-glute\": \"L Glute\", \"b-r-glute\": \"R Glute\",\n  \"b-l-hamstr\": \"L Hamstring\", \"b-r-hamstr\": \"R Hamstring\",\n  \"b-l-knee\": \"L Knee\", \"b-r-knee\": \"R Knee\",\n  \"b-l-calf\": \"L Calf\", \"b-r-calf\": \"R Calf\",\n  \"b-l-foot\": \"L Foot\", \"b-r-foot\": \"R Foot\"\n};\n\nconst AREA_COORDS = {\n  \"f-head\": [85,28], \"f-neck\": [85,52],\n  \"f-l-shldr\": [58,72], \"f-r-shldr\": [112,72],\n  \"f-l-chest\": [68,95], \"f-r-chest\": [102,95],\n  \"f-abdomen\": [85,125],\n  \"f-l-arm-u\": [45,100], \"f-r-arm-u\": [125,100],\n  \"f-l-forearm\": [42,130], \"f-r-forearm\": [128,130],\n  \"f-l-hand\": [40,155], \"f-r-hand\": [130,155],\n  \"f-l-hip\": [68,155], \"f-r-hip\": [102,155],\n  \"f-l-thigh\": [68,185], \"f-r-thigh\": [102,185],\n  \"f-l-knee\": [68,220], \"f-r-knee\": [102,220],\n  \"f-l-calf\": [68,248], \"f-r-calf\": [102,248],\n  \"f-l-foot\": [68,285], \"f-r-foot\": [102,285],\n  \"b-head\": [85,28], \"b-neck\": [85,52],\n  \"b-l-shldr\": [58,72], \"b-r-shldr\": [112,72],\n  \"b-upper-bk\": [85,88], \"b-mid-bk\": [85,112], \"b-lower-bk\": [85,136],\n  \"b-l-arm-u\": [45,100], \"b-r-arm-u\": [125,100],\n  \"b-l-forearm\": [42,130], \"b-r-forearm\": [128,130],\n  \"b-l-hand\": [40,155], \"b-r-hand\": [130,155],\n  \"b-l-glute\": [68,162], \"b-r-glute\": [102,162],\n  \"b-l-hamstr\": [68,192], \"b-r-hamstr\": [102,192],\n  \"b-l-knee\": [68,220], \"b-r-knee\": [102,220],\n  \"b-l-calf\": [68,248], \"b-r-calf\": [102,248],\n  \"b-l-foot\": [68,285], \"b-r-foot\": [102,285]\n};\n\nfunction BodySVG({ focusAreas = [], avoidAreas = [], heatmapFocus = {}, heatmapAvoid = {}, showHeatmap = false }) {\n  return (\n    <svg width=\"150\" height=\"290\" viewBox=\"0 0 170 310\" style={{ filter: \"drop-shadow(0 2px 6px rgba(0,0,0,0.08))\" }}>\n      <ellipse cx=\"85\" cy=\"28\" rx=\"20\" ry=\"24\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <rect x=\"77\" y=\"50\" width=\"16\" height=\"14\" rx=\"3\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M57 64 Q47 70 44 90 L40 155 Q40 162 48 162 L122 162 Q130 162 130 155 L126 90 Q123 70 113 64 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M57 66 Q42 74 38 115 Q36 128 40 138 Q46 141 50 138 Q54 112 60 85 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M113 66 Q128 74 132 115 Q134 128 130 138 Q124 141 120 138 Q116 112 110 85 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M60 162 Q56 195 54 232 Q52 260 56 278 Q62 284 70 282 Q76 278 76 260 L78 162 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M110 162 Q114 195 116 232 Q118 260 114 278 Q108 284 100 282 Q94 278 94 260 L92 162 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      {showHeatmap && Object.entries(heatmapFocus).map(([area, opacity]) => {\n        const c = AREA_COORDS[area]; if (!c) return null;\n        return (\n          <g key={\"hf-\" + area}>\n            <circle cx={c[0]} cy={c[1]} r=\"18\" fill={\"rgba(107,158,128,\" + (opacity * 0.35).toFixed(2) + \")\"} stroke=\"none\"/>\n            <circle cx={c[0]} cy={c[1]} r=\"12\" fill={\"rgba(107,158,128,\" + (opacity * 0.5).toFixed(2) + \")\"} stroke=\"#6B9E80\" strokeWidth={opacity > 0.6 ? \"2.5\" : \"1.5\"}/>\n            <circle cx={c[0]} cy={c[1]} r=\"5\" fill={\"rgba(42,87,65,\" + opacity.toFixed(2) + \")\"}/>\n          </g>\n        );\n      })}\n      {showHeatmap && Object.entries(heatmapAvoid).map(([area, opacity]) => {\n        if (heatmapFocus[area]) return null;\n        const c = AREA_COORDS[area]; if (!c) return null;\n        return (\n          <g key={\"ha-\" + area}>\n            <circle cx={c[0]} cy={c[1]} r=\"18\" fill={\"rgba(239,68,68,\" + (opacity * 0.25).toFixed(2) + \")\"} stroke=\"none\"/>\n            <circle cx={c[0]} cy={c[1]} r=\"12\" fill={\"rgba(239,68,68,\" + (opacity * 0.35).toFixed(2) + \")\"} stroke=\"#EF4444\" strokeWidth={opacity > 0.6 ? \"2.5\" : \"1.5\"}/>\n            <circle cx={c[0]} cy={c[1]} r=\"5\" fill={\"rgba(185,28,28,\" + opacity.toFixed(2) + \")\"}/>\n          </g>\n        );\n      })}\n      {!showHeatmap && focusAreas.map((area, i) => {\n        const c = AREA_COORDS[area]; if (!c) return null;\n        return <g key={\"f\"+i}>\n          <circle cx={c[0]} cy={c[1]} r=\"12\" fill=\"rgba(107,158,128,0.25)\" stroke=\"#6B9E80\" strokeWidth=\"2\"/>\n          <circle cx={c[0]} cy={c[1]} r=\"5\" fill=\"#6B9E80\"/>\n        </g>;\n      })}\n      {!showHeatmap && avoidAreas.map((area, i) => {\n        const c = AREA_COORDS[area]; if (!c) return null;\n        return <g key={\"a\"+i}>\n          <circle cx={c[0]} cy={c[1]} r=\"12\" fill=\"rgba(239,68,68,0.2)\" stroke=\"#EF4444\" strokeWidth=\"2\"/>\n          <circle cx={c[0]} cy={c[1]} r=\"5\" fill=\"#EF4444\"/>\n        </g>;\n      })}\n    </svg>\n  );\n}\n\nexport default function SessionDetail({ session, client, onBack, onUpdate }) {\n  const [notes, setNotes] = useState(session.therapist_notes || \"\");\n  const [saving, setSaving] = useState(false);\n  const [saved, setSaved] = useState(false);\n  const [completing, setCompleting] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [feedback, setFeedback] = useState(null);\n  const [feedbackLink, setFeedbackLink] = useState(\"\");\n  const [linkCopied, setLinkCopied] = useState(false);\n  const [showHeatmap, setShowHeatmap] = useState(false);\n\n  useEffect(() => {\n    loadHistory();\n    loadFeedback();\n    supabase.from(\"therapists\").select(\"custom_url\").eq(\"id\", session.therapist_id).maybeSingle()\n      .then(({ data: t }) => {\n        if (t) {\n          const code = session.feedback_code || session.id;\n          setFeedbackLink(window.location.origin + \"/\" + t.custom_url + \"/feedback/\" + code);\n        }\n      });\n  }, [client?.id]);\n\n  async function loadFeedback() {\n    try {\n      const { data } = await supabase.from(\"feedback\").select(\"*\").eq(\"session_id\", session.id).maybeSingle();\n      setFeedback(data);\n    } catch(e) {}\n  }\n\n  function copyLink() {\n    navigator.clipboard.writeText(feedbackLink);\n    setLinkCopied(true);\n    setTimeout(() => setLinkCopied(false), 2000);\n  }\n\n  async function loadHistory() {\n    try {\n      const { data } = await supabase\n        .from(\"sessions\").select(\"*\")\n        .eq(\"client_id\", client.id)\n        .order(\"created_at\", { ascending: false })\n        .limit(10);\n      setHistory(data || []);\n    } catch (err) { console.error(err); }\n  }\n\n  const heatmapData = useMemo(() => {\n    const past = history.filter(s => s.id !== session.id).slice(0, 5);\n    const n = past.length;\n    if (n === 0) return { frontFocus: {}, frontAvoid: {}, backFocus: {}, backAvoid: {}, count: 0 };\n    const ff = {}, fa = {}, bf = {}, ba = {};\n    past.forEach(s => {\n      (s.front_focus || []).forEach(a => { ff[a] = (ff[a] || 0) + 1; });\n      (s.front_avoid || []).forEach(a => { fa[a] = (fa[a] || 0) + 1; });\n      (s.back_focus  || []).forEach(a => { bf[a] = (bf[a] || 0) + 1; });\n      (s.back_avoid  || []).forEach(a => { ba[a] = (ba[a] || 0) + 1; });\n    });\n    const toOp = c => parseFloat(Math.min(0.3 + (c / n) * 0.7, 1.0).toFixed(2));\n    return {\n      frontFocus: Object.fromEntries(Object.entries(ff).map(([k,v]) => [k, toOp(v)])),\n      frontAvoid: Object.fromEntries(Object.entries(fa).map(([k,v]) => [k, toOp(v)])),\n      backFocus:  Object.fromEntries(Object.entries(bf).map(([k,v]) => [k, toOp(v)])),\n      backAvoid:  Object.fromEntries(Object.entries(ba).map(([k,v]) => [k, toOp(v)])),\n      count: n,\n    };\n  }, [history, session.id]);\n\n  const patterns = useMemo(() => {\n    if (history.length < 2) return [];\n    const result = [];\n    const medSessions = history.filter(s => s.med_flag && s.med_flag !== \"none\");\n    if (medSessions.length > 0) {\n      const notes = medSessions.map(s => s.med_note).filter(Boolean);\n      const uniqueNotes = [...new Set(notes)];\n      const noteText = uniqueNotes.length > 0 ? \": \\\"\" + uniqueNotes[uniqueNotes.length-1] + \"\\\"\" : \"\";\n      result.push({ icon: \"üö®\", text: \"Medical flag\" + noteText + \" ‚Äî always check before session\", urgent: true });\n    }\n    const pressures = history.filter(s => s.pressure).map(s => s.pressure);\n    if (pressures.length >= 2) {\n      const avg = Math.round(pressures.reduce((a,b) => a+b, 0) / pressures.length);\n      result.push({ icon: \"üíÜ\", text: \"Consistently prefers pressure level \" + avg + \"/5\" });\n    }\n    const goals = history.filter(s => s.goal).map(s => s.goal);\n    const topGoal = goals.sort((a,b) => goals.filter(v=>v===a).length - goals.filter(v=>v===b).length).pop();\n    if (topGoal) result.push({ icon: \"üéØ\", text: \"Most common goal: \" + topGoal });\n    const allAvoid = history.flatMap(s => [...(s.front_avoid||[]), ...(s.back_avoid||[])]);\n    const avoidCounts = {};\n    allAvoid.forEach(a => avoidCounts[a] = (avoidCounts[a]||0)+1);\n    Object.entries(avoidCounts).sort((a,b) => b[1]-a[1]).slice(0,2).forEach(([area, count]) => {\n      if (count >= 2) result.push({ icon: \"‚ö†Ô∏è\", text: \"Always avoids: \" + (AREA_LABELS[area] || area) + \" (\" + count + \"x)\" });\n    });\n    const allFocus = history.flatMap(s => [...(s.front_focus||[]), ...(s.back_focus||[])]);\n    const focusCounts = {};\n    allFocus.forEach(a => focusCounts[a] = (focusCounts[a]||0)+1);\n    Object.entries(focusCounts).sort((a,b) => b[1]-a[1]).slice(0,2).forEach(([area, count]) => {\n      if (count >= 2) result.push({ icon: \"‚ú®\", text: \"Always focuses: \" + (AREA_LABELS[area] || area) + \" (\" + count + \"x)\" });\n    });\n    const lights = history.filter(s => s.lighting).map(s => s.lighting);\n    if (lights.length >= 2 && new Set(lights).size === 1) result.push({ icon: \"üí°\", text: \"Always prefers \" + lights[0] + \" lighting\" });\n    return result.slice(0, 5);\n  }, [history]);\n\n  async function saveNotes() {\n    setSaving(true);\n    try {\n      const { data } = await supabase.from(\"sessions\").update({ therapist_notes: notes }).eq(\"id\", session.id).select().single();\n      setSaved(true); setTimeout(() => setSaved(false), 2000);\n      if (onUpdate && data) onUpdate(data);\n    } catch (err) { console.error(err); }\n    finally { setSaving(false); }\n  }\n\n  async function markComplete() {\n    setCompleting(true);\n    try {\n      const { data } = await supabase.from(\"sessions\").update({ completed: true, therapist_notes: notes, completed_at: new Date().toISOString() }).eq(\"id\", session.id).select().single();\n      if (onUpdate && data) onUpdate(data);\n      onBack();\n    } catch (err) { console.error(err); }\n    finally { setCompleting(false); }\n  }\n\n  const prefs = [\n    { label: \"Pressure\", value: session.pressure ? \"Level \" + session.pressure + \"/5\" : null, icon: \"üíÜ\" },\n    { label: \"Goal\", value: session.goal, icon: \"üéØ\" },\n    { label: \"Table Temp\", value: session.table_temp, icon: \"üå°Ô∏è\" },\n    { label: \"Room Temp\", value: session.room_temp, icon: \"üè†\" },\n    { label: \"Music\", value: session.music, icon: \"üéµ\" },\n    { label: \"Lighting\", value: session.lighting, icon: \"üí°\" },\n    { label: \"Conversation\", value: session.conversation, icon: \"üí¨\" },\n    { label: \"Draping\", value: session.draping, icon: \"üõèÔ∏è\" },\n    { label: \"Oil Preference\", value: session.oil_pref !== \"none\" ? session.oil_pref : null, icon: \"üåø\" },\n    { label: \"Medical Flag\", value: session.med_flag !== \"none\" ? session.med_flag : null, icon: \"‚öïÔ∏è\", urgent: true },\n    { label: \"Medical Details\", value: session.med_note || null, icon: \"üö®\", urgent: true },\n    { label: \"Client Notes\", value: session.client_notes || null, icon: \"üìù\", highlight: true },\n  ].filter(p => p.value);\n\n  return (\n    <div>\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: \"16px\", marginBottom: \"28px\" }}>\n        <button onClick={onBack} style={{ background: \"transparent\", border: \"1.5px solid \" + C.lightGray, color: C.gray, padding: \"8px 16px\", borderRadius: \"8px\", fontSize: \"14px\", cursor: \"pointer\" }}>\n          ‚Üê Sessions\n        </button>\n        <div style={{ flex: 1 }}>\n          <h2 style={{ fontFamily: \"Georgia, serif\", fontSize: \"26px\", fontWeight: \"700\", color: C.darkGray, margin: \"0 0 2px 0\", letterSpacing: \"-0.5px\" }}>\n            {client.name}\n          </h2>\n          <p style={{ fontSize: \"14px\", color: C.gray, margin: 0 }}>\n            {new Date(session.created_at).toLocaleDateString(\"en-US\", { weekday: \"long\", month: \"long\", day: \"numeric\", year: \"numeric\" })}\n          </p>\n        </div>\n        <div style={{ display: \"flex\", gap: \"10px\", alignItems: \"center\" }}>\n          <button onClick={() => window.print()} style={{ background: C.beige, border: \"1.5px solid \" + C.lightGray, color: C.gray, padding: \"8px 16px\", borderRadius: \"8px\", fontSize: \"14px\", cursor: \"pointer\" }}>\n            üñ®Ô∏è Print Brief\n          </button>\n          <span style={{ background: session.completed ? \"#D1FAE5\" : \"#FEF3C7\", color: session.completed ? \"#065F46\" : \"#92400E\", padding: \"6px 16px\", borderRadius: \"20px\", fontSize: \"13px\", fontWeight: \"600\" }}>\n            {session.completed ? \"‚úì Completed\" : \"‚è≥ Pending Review\"}\n          </span>\n        </div>\n      </div>\n\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"16px\" }}>\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n          <div style={{ background: C.white, borderRadius: \"14px\", padding: \"24px\", border: \"1px solid \" + C.lightGray, boxShadow: \"0 1px 4px rgba(0,0,0,0.05)\" }}>\n            <h3 style={{ fontFamily: \"Georgia, serif\", fontSize: \"17px\", fontWeight: \"700\", color: C.darkGray, marginBottom: \"16px\", letterSpacing: \"-0.3px\" }}>Client Preferences</h3>\n            {prefs.length === 0 ? (\n              <p style={{ color: C.gray, fontSize: \"14px\" }}>No preferences recorded</p>\n            ) : (\n              <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"8px\" }}>\n                {prefs.map((p, i) => (\n                  <div key={i} style={{ padding: \"10px 12px\", background: C.beige, borderRadius: \"8px\", border: \"1px solid \" + C.lightGray }}>\n                    <p style={{ fontSize: \"11px\", color: C.gray, margin: \"0 0 3px 0\", textTransform: \"uppercase\", letterSpacing: \"0.5px\" }}>{p.icon} {p.label}</p>\n                    <p style={{ fontSize: \"14px\", fontWeight: \"600\", color: C.darkGray, margin: 0, textTransform: \"capitalize\" }}>{p.value}</p>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {patterns.length > 0 && (\n            <div style={{ background: \"linear-gradient(135deg, \" + C.forest + \"08, \" + C.sage + \"12)\", borderRadius: \"14px\", padding: \"24px\", border: \"1px solid \" + C.sage + \"30\" }}>\n              <h3 style={{ fontFamily: \"Georgia, serif\", fontSize: \"17px\", fontWeight: \"700\", color: C.forest, marginBottom: \"16px\", letterSpacing: \"-0.3px\" }}>üîç Client Patterns</h3>\n              <p style={{ fontSize: \"12px\", color: C.gray, margin: \"0 0 12px 0\" }}>Based on {history.length} sessions</p>\n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\n                {patterns.map((p, i) => (\n                  <div key={i} style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\", padding: \"8px 12px\", background: p.urgent ? \"#FEF2F2\" : C.white, borderRadius: \"8px\", border: \"1px solid \" + (p.urgent ? \"#EF4444\" : C.sage + \"25\") }}>\n                    <span style={{ fontSize: \"16px\" }}>{p.icon}</span>\n                    <span style={{ fontSize: \"13px\", color: p.urgent ? \"#DC2626\" : C.darkGray, fontWeight: p.urgent ? \"700\" : \"500\" }}>{p.text}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div style={{ background: C.white, borderRadius: \"14px\", padding: \"24px\", border: \"1px solid \" + C.lightGray, boxShadow: \"0 1px 4px rgba(0,0,0,0.05)\" }}>\n            <h3 style={{ fontFamily: \"Georgia, serif\", fontSize: \"17px\", fontWeight: \"700\", color: C.darkGray, marginBottom: \"16px\", letterSpacing: \"-0.3px\" }}>Your Notes</h3>\n            <textarea value={notes} onChange={e => setNotes(e.target.value)} placeholder=\"Add session notes...\"\n              style={{ width: \"100%\", minHeight: \"100px\", padding: \"12px\", border: \"1.5px solid \" + C.lightGray, borderRadius: \"8px\", fontSize: \"14px\", fontFamily: \"Georgia, serif\", resize: \"vertical\", boxSizing: \"border-box\", background: C.beige, lineHeight: \"1.6\" }}\n            />\n            <div style={{ display: \"flex\", gap: \"10px\", marginTop: \"12px\" }}>\n              <button onClick={saveNotes} disabled={saving}\n                style={{ flex: 1, background: C.sage, color: C.white, border: \"none\", padding: \"11px\", borderRadius: \"8px\", fontSize: \"14px\", fontWeight: \"600\", cursor: \"pointer\", fontFamily: \"system-ui\" }}>\n                {saving ? \"Saving...\" : saved ? \"‚úì Saved!\" : \"Save Notes\"}\n              </button>\n              {!session.completed && (\n                <button onClick={markComplete} disabled={completing}\n                  style={{ flex: 1, background: C.forest, color: C.white, border: \"none\", padding: \"11px\", borderRadius: \"8px\", fontSize: \"14px\", fontWeight: \"600\", cursor: \"pointer\", fontFamily: \"system-ui\" }}>\n                  {completing ? \"...\" : \"‚úì Mark Complete\"}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div style={{ background: C.white, borderRadius: \"14px\", padding: \"24px\", border: \"1px solid \" + C.lightGray, boxShadow: \"0 1px 4px rgba(0,0,0,0.05)\" }}>\n          <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: \"8px\" }}>\n            <h3 style={{ fontFamily: \"Georgia, serif\", fontSize: \"17px\", fontWeight: \"700\", color: C.darkGray, margin: 0, letterSpacing: \"-0.3px\" }}>Body Map</h3>\n            {heatmapData.count > 0 && (\n              <button\n                onClick={() => setShowHeatmap(v => !v)}\n                style={{\n                  display: \"flex\", alignItems: \"center\", gap: \"6px\",\n                  padding: \"5px 13px\", borderRadius: \"20px\",\n                  border: \"2px solid \" + (showHeatmap ? C.forest : C.lightGray),\n                  background: showHeatmap ? C.forest : C.white,\n                  color: showHeatmap ? C.white : C.gray,\n                  fontSize: \"12px\", fontWeight: \"700\", cursor: \"pointer\",\n                  transition: \"all 0.2s ease\", fontFamily: \"system-ui\",\n                }}\n              >\n                üìä History\n                <span style={{ background: showHeatmap ? \"rgba(255,255,255,0.2)\" : C.beige, borderRadius: \"10px\", padding: \"1px 7px\", fontSize: \"11px\", fontWeight: \"700\", color: showHeatmap ? C.white : C.forest }}>\n                  {heatmapData.count}\n                </span>\n              </button>\n            )}\n          </div>\n\n          {showHeatmap && (\n            <div style={{ background: \"linear-gradient(135deg, \" + C.forest + \"08, \" + C.sage + \"15)\", border: \"1px solid \" + C.sage + \"40\", borderRadius: \"8px\", padding: \"8px 12px\", marginBottom: \"12px\", fontSize: \"12px\", color: C.forest, display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n              <span>üî•</span>\n              <span><strong>Pattern history</strong> from last {heatmapData.count} sessions ‚Äî darker = more consistent</span>\n            </div>\n          )}\n\n          <div style={{ display: \"flex\", gap: \"10px\", marginBottom: \"20px\" }}>\n            {showHeatmap ? (\n              <>\n                <span style={{ fontSize: \"12px\", background: \"rgba(42,87,65,0.12)\", color: C.forest, padding: \"4px 12px\", borderRadius: \"20px\", fontWeight: \"500\" }}>üü¢ Consistent focus</span>\n                <span style={{ fontSize: \"12px\", background: \"rgba(239,68,68,0.1)\", color: \"#991B1B\", padding: \"4px 12px\", borderRadius: \"20px\", fontWeight: \"500\" }}>üî¥ Consistent avoid</span>\n              </>\n            ) : (\n              <>\n                <span style={{ fontSize: \"12px\", background: \"rgba(107,158,128,0.15)\", color: C.forest, padding: \"4px 12px\", borderRadius: \"20px\", fontWeight: \"500\" }}>üü¢ Focus</span>\n                <span style={{ fontSize: \"12px\", background: \"rgba(239,68,68,0.1)\", color: \"#991B1B\", padding: \"4px 12px\", borderRadius: \"20px\", fontWeight: \"500\" }}>üî¥ Avoid</span>\n              </>\n            )}\n          </div>\n\n          <div style={{ display: \"flex\", justifyContent: \"space-around\", marginBottom: \"20px\" }}>\n            <div style={{ textAlign: \"center\" }}>\n              <p style={{ fontSize: \"11px\", fontWeight: \"600\", color: C.gray, marginBottom: \"8px\", textTransform: \"uppercase\", letterSpacing: \"1px\" }}>Front</p>\n              <BodySVG focusAreas={session.front_focus || []} avoidAreas={session.front_avoid || []} heatmapFocus={heatmapData.frontFocus} heatmapAvoid={heatmapData.frontAvoid} showHeatmap={showHeatmap} />\n            </div>\n            <div style={{ textAlign: \"center\" }}>\n              <p style={{ fontSize: \"11px\", fontWeight: \"600\", color: C.gray, marginBottom: \"8px\", textTransform: \"uppercase\", letterSpacing: \"1px\" }}>Back</p>\n              <BodySVG focusAreas={session.back_focus || []} avoidAreas={session.back_avoid || []} heatmapFocus={heatmapData.backFocus} heatmapAvoid={heatmapData.backAvoid} showHeatmap={showHeatmap} />\n            </div>\n          </div>\n\n          {!showHeatmap && [...(session.front_focus||[]), ...(session.front_avoid||[]), ...(session.back_focus||[]), ...(session.back_avoid||[])].length > 0 && (\n            <div>\n              <p style={{ fontSize: \"12px\", color: C.gray, marginBottom: \"8px\", textTransform: \"uppercase\", letterSpacing: \"0.5px\" }}>Areas</p>\n              <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"6px\" }}>\n                {[...(session.front_focus||[]), ...(session.back_focus||[])].map((a, i) => (\n                  <span key={\"f\"+i} style={{ background: \"rgba(107,158,128,0.15)\", color: C.forest, padding: \"4px 10px\", borderRadius: \"20px\", fontSize: \"12px\", fontWeight: \"500\" }}>üü¢ {AREA_LABELS[a] || a}</span>\n                ))}\n                {[...(session.front_avoid||[]), ...(session.back_avoid||[])].map((a, i) => (\n                  <span key={\"a\"+i} style={{ background: \"rgba(239,68,68,0.1)\", color: \"#991B1B\", padding: \"4px 10px\", borderRadius: \"20px\", fontSize: \"12px\", fontWeight: \"500\" }}>üî¥ {AREA_LABELS[a] || a}</span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {showHeatmap && (\n            <div>\n              <p style={{ fontSize: \"12px\", color: C.gray, marginBottom: \"8px\", textTransform: \"uppercase\", letterSpacing: \"0.5px\" }}>Top recurring areas</p>\n              <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"6px\" }}>\n                {Object.entries({ ...heatmapData.frontFocus, ...heatmapData.backFocus }).sort((a,b) => b[1]-a[1]).slice(0,4).map(([area, opacity]) => (\n                  <span key={\"hft-\"+area} style={{ background: \"rgba(42,87,65,\" + (opacity * 0.15) + \")\", color: C.forest, padding: \"4px 10px\", borderRadius: \"20px\", fontSize: \"12px\", fontWeight: \"600\", border: \"1px solid \" + C.sage + \"40\" }}>\n                    üü¢ {AREA_LABELS[area] || area}\n                  </span>\n                ))}\n                {Object.entries({ ...heatmapData.frontAvoid, ...heatmapData.backAvoid }).sort((a,b) => b[1]-a[1]).slice(0,3).map(([area, opacity]) => {\n                  if (heatmapData.frontFocus[area] || heatmapData.backFocus[area]) return null;\n                  return (\n                    <span key={\"hat-\"+area} style={{ background: \"rgba(239,68,68,\" + (opacity * 0.12) + \")\", color: \"#991B1B\", padding: \"4px 10px\", borderRadius: \"20px\", fontSize: \"12px\", fontWeight: \"600\", border: \"1px solid rgba(239,68,68,0.25)\" }}>\n                      üî¥ {AREA_LABELS[area] || area}\n                    </span>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div style={{ background:C.white, borderRadius:\"14px\", padding:\"24px\", border:\"1px solid #E8E4DC\", boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\", marginTop:\"16px\" }}>\n        <h3 style={{ fontFamily:\"Georgia, serif\", fontSize:\"17px\", fontWeight:\"700\", color:C.darkGray, marginBottom:\"16px\" }}>üí¨ Client Feedback</h3>\n        {feedback ? (\n          <div>\n            <div style={{ display:\"grid\", gridTemplateColumns:\"1fr 1fr\", gap:\"10px\", marginBottom:\"12px\" }}>\n              {[\n                { label:\"Pressure\", value: feedback.pressure_rating ? feedback.pressure_rating.replace(/_/g,\" \") : null },\n                { label:\"Focus Areas\", value: feedback.focus_rating },\n                { label:\"Overall\", value: feedback.overall_rating ? feedback.overall_rating + \"/5 ‚≠ê\" : null },\n                { label:\"Communication\", value: feedback.communication_rating },\n                { label:\"Return\", value: feedback.return_likelihood },\n              ].filter(f => f.value).map((f, i) => (\n                <div key={i} style={{ background:C.beige, borderRadius:\"10px\", padding:\"10px 12px\" }}>\n                  <p style={{ fontSize:\"10px\", fontWeight:\"700\", color:C.gray, textTransform:\"uppercase\", margin:\"0 0 3px 0\" }}>{f.label}</p>\n                  <p style={{ fontSize:\"14px\", fontWeight:\"600\", color:C.darkGray, margin:0, textTransform:\"capitalize\" }}>{f.value}</p>\n                </div>\n              ))}\n            </div>\n            {feedback.client_comment && (\n              <div style={{ background:\"#FFFBEB\", borderRadius:\"10px\", padding:\"12px 14px\", border:\"1px solid #D97706\" }}>\n                <p style={{ fontSize:\"11px\", fontWeight:\"700\", color:\"#D97706\", margin:\"0 0 4px 0\" }}>üìù CLIENT COMMENT</p>\n                <p style={{ fontSize:\"13px\", color:C.darkGray, margin:0, fontStyle:\"italic\" }}>\"{feedback.client_comment}\"</p>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div>\n            <p style={{ fontSize:\"13px\", color:C.gray, marginBottom:\"14px\" }}>No feedback yet. Send this link to your client after the session.</p>\n            {feedbackLink && (\n              <div style={{ display:\"flex\", gap:8, alignItems:\"center\" }}>\n                <div style={{ flex:1, background:C.beige, borderRadius:\"8px\", padding:\"10px 12px\", fontSize:\"12px\", color:C.gray, overflow:\"hidden\", textOverflow:\"ellipsis\", whiteSpace:\"nowrap\" }}>{feedbackLink}</div>\n                <button onClick={copyLink} style={{ background:\"#2A5741\", color:\"#fff\", border:\"none\", padding:\"10px 16px\", borderRadius:\"8px\", fontSize:\"12px\", fontWeight:\"700\", cursor:\"pointer\", whiteSpace:\"nowrap\" }}>\n                  {linkCopied ? \"‚úì Copied!\" : \"Copy Link\"}\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      <style>{\"@media print { header, nav, button, .no-print { display: none !important; } body { background: white !important; font-size: 11px !important; } * { box-shadow: none !important; } h2 { font-size: 16px !important; } h3 { font-size: 13px !important; } svg { width: 100px !important; height: 160px !important; } }\"}</style>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}