{"ast":null,"code":"import _objectSpread from\"/Users/harshkumar/Documents/bodymap/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/SessionDetail.js\nimport React,{useState,useEffect,useMemo}from\"react\";import{db,supabase}from\"../lib/supabase\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const C={sage:\"#6B9E80\",forest:\"#2A5741\",beige:\"#F5F0E8\",darkGray:\"#1A1A2E\",gray:\"#6B7280\",lightGray:\"#E8E4DC\",white:\"#FFFFFF\",gold:\"#C9A84C\",red:\"#EF4444\"};const AREA_LABELS={\"f-head\":\"Head\",\"f-neck\":\"Neck\",\"f-l-shldr\":\"L Shoulder\",\"f-r-shldr\":\"R Shoulder\",\"f-l-chest\":\"L Chest\",\"f-r-chest\":\"R Chest\",\"f-abdomen\":\"Abdomen\",\"f-l-arm-u\":\"L Upper Arm\",\"f-r-arm-u\":\"R Upper Arm\",\"f-l-forearm\":\"L Forearm\",\"f-r-forearm\":\"R Forearm\",\"f-l-hand\":\"L Hand\",\"f-r-hand\":\"R Hand\",\"f-l-hip\":\"L Hip\",\"f-r-hip\":\"R Hip\",\"f-l-thigh\":\"L Thigh\",\"f-r-thigh\":\"R Thigh\",\"f-l-knee\":\"L Knee\",\"f-r-knee\":\"R Knee\",\"f-l-calf\":\"L Calf\",\"f-r-calf\":\"R Calf\",\"f-l-foot\":\"L Foot\",\"f-r-foot\":\"R Foot\",\"b-head\":\"Back of Head\",\"b-neck\":\"Back of Neck\",\"b-l-shldr\":\"L Shoulder Blade\",\"b-r-shldr\":\"R Shoulder Blade\",\"b-upper-bk\":\"Upper Back\",\"b-mid-bk\":\"Mid Back\",\"b-lower-bk\":\"Lower Back\",\"b-l-arm-u\":\"L Upper Arm\",\"b-r-arm-u\":\"R Upper Arm\",\"b-l-forearm\":\"L Forearm\",\"b-r-forearm\":\"R Forearm\",\"b-l-hand\":\"L Hand\",\"b-r-hand\":\"R Hand\",\"b-l-glute\":\"L Glute\",\"b-r-glute\":\"R Glute\",\"b-l-hamstr\":\"L Hamstring\",\"b-r-hamstr\":\"R Hamstring\",\"b-l-knee\":\"L Knee\",\"b-r-knee\":\"R Knee\",\"b-l-calf\":\"L Calf\",\"b-r-calf\":\"R Calf\",\"b-l-foot\":\"L Foot\",\"b-r-foot\":\"R Foot\"};const AREA_COORDS={\"f-head\":[85,28],\"f-neck\":[85,52],\"f-l-shldr\":[58,72],\"f-r-shldr\":[112,72],\"f-l-chest\":[68,95],\"f-r-chest\":[102,95],\"f-abdomen\":[85,125],\"f-l-arm-u\":[45,100],\"f-r-arm-u\":[125,100],\"f-l-forearm\":[42,130],\"f-r-forearm\":[128,130],\"f-l-hand\":[40,155],\"f-r-hand\":[130,155],\"f-l-hip\":[68,155],\"f-r-hip\":[102,155],\"f-l-thigh\":[68,185],\"f-r-thigh\":[102,185],\"f-l-knee\":[68,220],\"f-r-knee\":[102,220],\"f-l-calf\":[68,248],\"f-r-calf\":[102,248],\"f-l-foot\":[68,285],\"f-r-foot\":[102,285],\"b-head\":[85,28],\"b-neck\":[85,52],\"b-l-shldr\":[58,72],\"b-r-shldr\":[112,72],\"b-upper-bk\":[85,88],\"b-mid-bk\":[85,112],\"b-lower-bk\":[85,136],\"b-l-arm-u\":[45,100],\"b-r-arm-u\":[125,100],\"b-l-forearm\":[42,130],\"b-r-forearm\":[128,130],\"b-l-hand\":[40,155],\"b-r-hand\":[130,155],\"b-l-glute\":[68,162],\"b-r-glute\":[102,162],\"b-l-hamstr\":[68,192],\"b-r-hamstr\":[102,192],\"b-l-knee\":[68,220],\"b-r-knee\":[102,220],\"b-l-calf\":[68,248],\"b-r-calf\":[102,248],\"b-l-foot\":[68,285],\"b-r-foot\":[102,285]};function BodySVG(_ref){let{focusAreas=[],avoidAreas=[],heatmapFocus={},heatmapAvoid={},showHeatmap=false}=_ref;return/*#__PURE__*/_jsxs(\"svg\",{width:\"150\",height:\"290\",viewBox:\"0 0 170 310\",style:{filter:\"drop-shadow(0 2px 6px rgba(0,0,0,0.08))\"},children:[/*#__PURE__*/_jsx(\"ellipse\",{cx:\"85\",cy:\"28\",rx:\"20\",ry:\"24\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"77\",y:\"50\",width:\"16\",height:\"14\",rx:\"3\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M57 64 Q47 70 44 90 L40 155 Q40 162 48 162 L122 162 Q130 162 130 155 L126 90 Q123 70 113 64 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M57 66 Q42 74 38 115 Q36 128 40 138 Q46 141 50 138 Q54 112 60 85 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M113 66 Q128 74 132 115 Q134 128 130 138 Q124 141 120 138 Q116 112 110 85 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M60 162 Q56 195 54 232 Q52 260 56 278 Q62 284 70 282 Q76 278 76 260 L78 162 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M110 162 Q114 195 116 232 Q118 260 114 278 Q108 284 100 282 Q94 278 94 260 L92 162 Z\",fill:\"#EDE8DF\",stroke:\"#C8BFB0\",strokeWidth:\"1.5\"}),showHeatmap&&Object.entries(heatmapFocus).map(_ref2=>{let[area,{opacity,count}]=_ref2;const c=AREA_COORDS[area];if(!c)return null;const r=8+opacity*10;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:r+8,fill:\"rgba(107,158,128,\"+(opacity*0.2).toFixed(2)+\")\",stroke:\"none\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:r,fill:\"rgba(107,158,128,\"+(opacity*0.55).toFixed(2)+\")\",stroke:\"#6B9E80\",strokeWidth:opacity>0.6?\"2.5\":\"1.5\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"5\",fill:\"rgba(42,87,65,\"+Math.min(opacity+0.2,1).toFixed(2)+\")\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0]+r-1,cy:c[1]-r+1,r:\"7\",fill:\"#2A5741\",stroke:\"white\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"text\",{x:c[0]+r-1,y:c[1]-r+5,textAnchor:\"middle\",fill:\"white\",fontSize:\"8\",fontWeight:\"bold\",fontFamily:\"system-ui\",children:count})]},\"hf-\"+area);}),showHeatmap&&Object.entries(heatmapAvoid).map(_ref3=>{let[area,{opacity,count}]=_ref3;if(heatmapFocus[area])return null;const c=AREA_COORDS[area];if(!c)return null;const r=8+opacity*10;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:r+8,fill:\"rgba(239,68,68,\"+(opacity*0.15).toFixed(2)+\")\",stroke:\"none\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:r,fill:\"rgba(239,68,68,\"+(opacity*0.4).toFixed(2)+\")\",stroke:\"#EF4444\",strokeWidth:opacity>0.6?\"2.5\":\"1.5\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"5\",fill:\"rgba(185,28,28,\"+Math.min(opacity+0.2,1).toFixed(2)+\")\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0]+r-1,cy:c[1]-r+1,r:\"7\",fill:\"#991B1B\",stroke:\"white\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"text\",{x:c[0]+r-1,y:c[1]-r+5,textAnchor:\"middle\",fill:\"white\",fontSize:\"8\",fontWeight:\"bold\",fontFamily:\"system-ui\",children:count})]},\"ha-\"+area);}),!showHeatmap&&focusAreas.map((area,i)=>{const c=AREA_COORDS[area];if(!c)return null;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"12\",fill:\"rgba(107,158,128,0.25)\",stroke:\"#6B9E80\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"5\",fill:\"#6B9E80\"})]},\"f\"+i);}),!showHeatmap&&avoidAreas.map((area,i)=>{const c=AREA_COORDS[area];if(!c)return null;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"12\",fill:\"rgba(239,68,68,0.2)\",stroke:\"#EF4444\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:c[0],cy:c[1],r:\"5\",fill:\"#EF4444\"})]},\"a\"+i);})]});}export default function SessionDetail(_ref4){let{session,client,onBack,onUpdate}=_ref4;const[notes,setNotes]=useState(session.therapist_notes||\"\");const[saving,setSaving]=useState(false);const[saved,setSaved]=useState(false);const[completing,setCompleting]=useState(false);const[history,setHistory]=useState([]);const[feedback,setFeedback]=useState(null);const[feedbackLink,setFeedbackLink]=useState(\"\");const[linkCopied,setLinkCopied]=useState(false);const[showHeatmap,setShowHeatmap]=useState(false);useEffect(()=>{loadHistory();loadFeedback();supabase.from(\"therapists\").select(\"custom_url\").eq(\"id\",session.therapist_id).maybeSingle().then(_ref5=>{let{data:t}=_ref5;if(t){const code=session.feedback_code||session.id;setFeedbackLink(window.location.origin+\"/\"+t.custom_url+\"/feedback/\"+code);}});},[client===null||client===void 0?void 0:client.id]);async function loadFeedback(){try{const{data}=await supabase.from(\"feedback\").select(\"*\").eq(\"session_id\",session.id).maybeSingle();setFeedback(data);}catch(e){}}function copyLink(){navigator.clipboard.writeText(feedbackLink);setLinkCopied(true);setTimeout(()=>setLinkCopied(false),2000);}async function loadHistory(){try{const{data}=await supabase.from(\"sessions\").select(\"*\").eq(\"client_id\",client.id).order(\"created_at\",{ascending:false}).limit(10);setHistory(data||[]);}catch(err){console.error(err);}}const heatmapData=useMemo(()=>{const past=history.filter(s=>s.id!==session.id).slice(0,5);const n=past.length;if(n===0)return{frontFocus:{},frontAvoid:{},backFocus:{},backAvoid:{},count:0};const ff={},fa={},bf={},ba={};past.forEach(s=>{(s.front_focus||[]).forEach(a=>{ff[a]=(ff[a]||0)+1;});(s.front_avoid||[]).forEach(a=>{fa[a]=(fa[a]||0)+1;});(s.back_focus||[]).forEach(a=>{bf[a]=(bf[a]||0)+1;});(s.back_avoid||[]).forEach(a=>{ba[a]=(ba[a]||0)+1;});});const toEntry=c=>({count:c,total:n,opacity:parseFloat(Math.min(0.3+c/n*0.7,1.0).toFixed(2))});return{frontFocus:Object.fromEntries(Object.entries(ff).map(_ref6=>{let[k,v]=_ref6;return[k,toEntry(v)];})),frontAvoid:Object.fromEntries(Object.entries(fa).map(_ref7=>{let[k,v]=_ref7;return[k,toEntry(v)];})),backFocus:Object.fromEntries(Object.entries(bf).map(_ref8=>{let[k,v]=_ref8;return[k,toEntry(v)];})),backAvoid:Object.fromEntries(Object.entries(ba).map(_ref9=>{let[k,v]=_ref9;return[k,toEntry(v)];})),count:n};},[history,session.id]);const patterns=useMemo(()=>{if(history.length<2)return[];const result=[];const medSessions=history.filter(s=>s.med_flag&&s.med_flag!==\"none\"&&s.med_flag!==\"no\");if(medSessions.length>0){const medNotes=medSessions.map(s=>s.med_note).filter(Boolean);const uniqueNotes=[...new Set(medNotes)];const noteText=uniqueNotes.length>0?\": \\\"\"+uniqueNotes[uniqueNotes.length-1]+\"\\\"\":\"\";result.push({icon:\"üö®\",text:\"Medical flag\"+noteText+\" ‚Äî always check before session\",urgent:true});}const pressures=history.filter(s=>s.pressure).map(s=>s.pressure);if(pressures.length>=2){const avg=Math.round(pressures.reduce((a,b)=>a+b,0)/pressures.length);result.push({icon:\"üíÜ\",text:\"Consistently prefers pressure level \"+avg+\"/5\"});}const goals=history.filter(s=>s.goal).map(s=>s.goal);const topGoal=goals.sort((a,b)=>goals.filter(v=>v===a).length-goals.filter(v=>v===b).length).pop();if(topGoal)result.push({icon:\"üéØ\",text:\"Most common goal: \"+topGoal});const allAvoid=history.flatMap(s=>[...(s.front_avoid||[]),...(s.back_avoid||[])]);const avoidCounts={};allAvoid.forEach(a=>avoidCounts[a]=(avoidCounts[a]||0)+1);Object.entries(avoidCounts).sort((a,b)=>b[1]-a[1]).slice(0,2).forEach(_ref0=>{let[area,count]=_ref0;if(count>=2)result.push({icon:\"‚ö†Ô∏è\",text:\"Always avoids: \"+(AREA_LABELS[area]||area),count,total:history.length,pct:Math.round(count/history.length*100),type:\"avoid\"});});const allFocus=history.flatMap(s=>[...(s.front_focus||[]),...(s.back_focus||[])]);const focusCounts={};allFocus.forEach(a=>focusCounts[a]=(focusCounts[a]||0)+1);Object.entries(focusCounts).sort((a,b)=>b[1]-a[1]).slice(0,2).forEach(_ref1=>{let[area,count]=_ref1;if(count>=2)result.push({icon:\"‚ú®\",text:\"Always focuses: \"+(AREA_LABELS[area]||area),count,total:history.length,pct:Math.round(count/history.length*100),type:\"focus\"});});const lights=history.filter(s=>s.lighting).map(s=>s.lighting);if(lights.length>=2&&new Set(lights).size===1)result.push({icon:\"üí°\",text:\"Always prefers \"+lights[0]+\" lighting\"});return result.slice(0,5);},[history]);const medFlagValue=(()=>{const flag=session.med_flag;const note=session.med_note;if(!flag||flag===\"none\"||flag===\"no\"||flag===\"false\")return null;const flagIsGeneric=[\"yes\",\"true\",\"flagged\",\"1\"].includes(String(flag).toLowerCase().trim());if(flagIsGeneric)return note?note:\"Medical condition flagged ‚Äî ask client for details\";return note?flag+\" ‚Äî \"+note:flag;})();async function saveNotes(){setSaving(true);try{const{data}=await supabase.from(\"sessions\").update({therapist_notes:notes}).eq(\"id\",session.id).select().single();setSaved(true);setTimeout(()=>setSaved(false),2000);if(onUpdate&&data)onUpdate(data);}catch(err){console.error(err);}finally{setSaving(false);}}async function markComplete(){setCompleting(true);try{const{data}=await supabase.from(\"sessions\").update({completed:true,therapist_notes:notes,completed_at:new Date().toISOString()}).eq(\"id\",session.id).select().single();if(onUpdate&&data)onUpdate(data);onBack();}catch(err){console.error(err);}finally{setCompleting(false);}}const prefs=[{label:\"Pressure\",value:session.pressure?\"Level \"+session.pressure+\"/5\":null,icon:\"üíÜ\"},{label:\"Goal\",value:session.goal,icon:\"üéØ\"},{label:\"Table Temp\",value:session.table_temp,icon:\"üå°Ô∏è\"},{label:\"Room Temp\",value:session.room_temp,icon:\"üè†\"},{label:\"Music\",value:session.music,icon:\"üéµ\"},{label:\"Lighting\",value:session.lighting,icon:\"üí°\"},{label:\"Conversation\",value:session.conversation,icon:\"üí¨\"},{label:\"Draping\",value:session.draping,icon:\"üõèÔ∏è\"},{label:\"Oil Preference\",value:session.oil_pref!==\"none\"?session.oil_pref:null,icon:\"üåø\"},{label:\"Client Notes\",value:session.client_notes||null,icon:\"üìù\"}].filter(p=>p.value);return/*#__PURE__*/_jsxs(\"div\",{style:{paddingBottom:\"100px\"},children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @media (max-width: 640px) {\\n          .bm-session-grid { grid-template-columns: 1fr !important; }\\n        }\\n      \"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"flex-start\",gap:\"12px\",marginBottom:\"28px\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,style:{background:\"transparent\",border:\"1.5px solid \"+C.lightGray,color:C.gray,padding:\"8px 16px\",borderRadius:\"8px\",fontSize:\"14px\",cursor:\"pointer\"},children:\"\\u2190 Sessions\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"26px\",fontWeight:\"700\",color:C.darkGray,margin:\"0 0 2px 0\",letterSpacing:\"-0.5px\"},children:client.name}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"14px\",color:C.gray,margin:0},children:new Date(session.created_at).toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\",year:\"numeric\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"8px\",alignItems:\"center\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),style:{background:C.beige,border:\"1.5px solid \"+C.lightGray,color:C.gray,padding:\"8px 16px\",borderRadius:\"8px\",fontSize:\"14px\",cursor:\"pointer\"},children:\"\\uD83D\\uDDA8\\uFE0F Print Brief\"}),/*#__PURE__*/_jsx(\"span\",{style:{background:session.completed?\"#D1FAE5\":\"#FEF3C7\",color:session.completed?\"#065F46\":\"#92400E\",padding:\"6px 16px\",borderRadius:\"20px\",fontSize:\"13px\",fontWeight:\"600\"},children:session.completed?\"‚úì Completed\":\"‚è≥ Pending Review\"})]})]}),medFlagValue&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#FEF2F2\",border:\"2px solid #EF4444\",borderRadius:\"12px\",padding:\"14px 20px\",marginBottom:\"16px\",display:\"flex\",alignItems:\"flex-start\",gap:\"12px\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"22px\",lineHeight:1},children:\"\\uD83D\\uDEA8\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",fontWeight:\"800\",color:\"#991B1B\",margin:\"0 0 4px 0\",textTransform:\"uppercase\",letterSpacing:\"0.8px\"},children:\"Medical Flag \\u2014 Review Before Session\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"15px\",fontWeight:\"600\",color:\"#7F1D1D\",margin:0},children:medFlagValue})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bm-session-grid\",style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:\"16px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"16px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:\"14px\",padding:\"24px\",border:\"1px solid \"+C.lightGray,boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.darkGray,marginBottom:\"16px\",letterSpacing:\"-0.3px\"},children:\"Client Preferences\"}),prefs.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:C.gray,fontSize:\"14px\"},children:\"No preferences recorded\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:\"8px\"},children:prefs.map((p,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"10px 12px\",background:C.beige,borderRadius:\"8px\",border:\"1px solid \"+C.lightGray},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"11px\",color:C.gray,margin:\"0 0 3px 0\",textTransform:\"uppercase\",letterSpacing:\"0.5px\"},children:[p.icon,\" \",p.label]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"14px\",fontWeight:\"600\",color:C.darkGray,margin:0,textTransform:\"capitalize\"},children:p.value})]},i))})]}),patterns.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, \"+C.forest+\"08, \"+C.sage+\"12)\",borderRadius:\"14px\",padding:\"24px\",border:\"1px solid \"+C.sage+\"30\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.forest,marginBottom:\"16px\",letterSpacing:\"-0.3px\"},children:\"\\uD83D\\uDD0D Client Patterns\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"12px\",color:C.gray,margin:\"0 0 12px 0\"},children:[\"Based on \",history.length,\" sessions\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"10px\"},children:patterns.map((p,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{background:p.urgent?\"#FEF2F2\":C.white,borderRadius:\"10px\",padding:\"10px 14px\",border:\"1px solid \"+(p.urgent?\"#EF4444\":C.sage+\"25\")},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"10px\",marginBottom:p.pct?\"8px\":\"0\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"16px\"},children:p.icon}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"13px\",color:p.urgent?\"#DC2626\":C.darkGray,fontWeight:p.urgent?\"700\":\"600\",flex:1},children:p.text}),p.pct&&/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:\"12px\",fontWeight:\"800\",color:p.type===\"avoid\"?\"#991B1B\":C.forest,background:p.type===\"avoid\"?\"rgba(239,68,68,0.1)\":\"rgba(42,87,65,0.1)\",padding:\"2px 8px\",borderRadius:\"10px\",whiteSpace:\"nowrap\"},children:[p.count,\"/\",p.total,\" \\xB7 \",p.pct,\"%\"]})]}),p.pct&&/*#__PURE__*/_jsx(\"div\",{style:{height:\"6px\",background:C.lightGray,borderRadius:\"3px\",overflow:\"hidden\"},children:/*#__PURE__*/_jsx(\"div\",{style:{height:\"100%\",width:p.pct+\"%\",background:p.type===\"avoid\"?\"linear-gradient(90deg, #EF4444, #DC2626)\":\"linear-gradient(90deg, #6B9E80, #2A5741)\",borderRadius:\"3px\",transition:\"width 0.6s ease\"}})})]},i))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:\"14px\",padding:\"24px\",border:\"1px solid \"+C.lightGray,boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.darkGray,marginBottom:\"16px\",letterSpacing:\"-0.3px\"},children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),placeholder:\"Add session notes...\",style:{width:\"100%\",minHeight:\"100px\",padding:\"12px\",border:\"1.5px solid \"+C.lightGray,borderRadius:\"8px\",fontSize:\"14px\",fontFamily:\"Georgia, serif\",resize:\"vertical\",boxSizing:\"border-box\",background:C.beige,lineHeight:\"1.6\"}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\",marginTop:\"12px\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveNotes,disabled:saving,style:{flex:1,background:C.sage,color:C.white,border:\"none\",padding:\"11px\",borderRadius:\"8px\",fontSize:\"14px\",fontWeight:\"600\",cursor:\"pointer\",fontFamily:\"system-ui\"},children:saving?\"Saving...\":saved?\"‚úì Saved!\":\"Save Notes\"}),!session.completed&&/*#__PURE__*/_jsx(\"button\",{onClick:markComplete,disabled:completing,style:{flex:1,background:C.forest,color:C.white,border:\"none\",padding:\"11px\",borderRadius:\"8px\",fontSize:\"14px\",fontWeight:\"600\",cursor:\"pointer\",fontFamily:\"system-ui\"},children:completing?\"...\":\"‚úì Mark Complete\"})]})]}),session.completed&&(()=>{const AREA_LABELS_LOCAL={\"f-head\":\"Head\",\"f-neck\":\"Neck\",\"f-l-shldr\":\"L Shoulder\",\"f-r-shldr\":\"R Shoulder\",\"f-l-chest\":\"L Chest\",\"f-r-chest\":\"R Chest\",\"f-abdomen\":\"Abdomen\",\"f-l-arm-u\":\"L Upper Arm\",\"f-r-arm-u\":\"R Upper Arm\",\"f-l-forearm\":\"L Forearm\",\"f-r-forearm\":\"R Forearm\",\"f-l-hand\":\"L Hand\",\"f-r-hand\":\"R Hand\",\"f-l-hip\":\"L Hip\",\"f-r-hip\":\"R Hip\",\"f-l-thigh\":\"L Thigh\",\"f-r-thigh\":\"R Thigh\",\"f-l-knee\":\"L Knee\",\"f-r-knee\":\"R Knee\",\"f-l-calf\":\"L Calf\",\"f-r-calf\":\"R Calf\",\"f-l-foot\":\"L Foot\",\"f-r-foot\":\"R Foot\",\"b-head\":\"Back of Head\",\"b-neck\":\"Back of Neck\",\"b-l-shldr\":\"L Shoulder Blade\",\"b-r-shldr\":\"R Shoulder Blade\",\"b-upper-bk\":\"Upper Back\",\"b-mid-bk\":\"Mid Back\",\"b-lower-bk\":\"Lower Back\",\"b-l-arm-u\":\"L Upper Arm\",\"b-r-arm-u\":\"R Upper Arm\",\"b-l-forearm\":\"L Forearm\",\"b-r-forearm\":\"R Forearm\",\"b-l-hand\":\"L Hand\",\"b-r-hand\":\"R Hand\",\"b-l-glute\":\"L Glute\",\"b-r-glute\":\"R Glute\",\"b-l-hamstr\":\"L Hamstring\",\"b-r-hamstr\":\"R Hamstring\",\"b-l-knee\":\"L Knee\",\"b-r-knee\":\"R Knee\",\"b-l-calf\":\"L Calf\",\"b-r-calf\":\"R Calf\",\"b-l-foot\":\"L Foot\",\"b-r-foot\":\"R Foot\"};const an=k=>AREA_LABELS_LOCAL[k]||k;const focusAreas=[...(session.front_focus||[]),...(session.back_focus||[])].map(an);const avoidAreas=[...(session.front_avoid||[]),...(session.back_avoid||[])].map(an);const summaryCode=session.feedback_code||session.id;const summaryUrl=window.location.origin+\"/summary/\"+summaryCode;const lines=[];if(focusAreas.length>0)lines.push(\"Today's session focused on \"+focusAreas.slice(0,3).join(\", \")+(session.goal?\", with a goal to \"+session.goal:\"\")+\".\");if(avoidAreas.length>0)lines.push(\"Areas avoided: \"+avoidAreas.slice(0,3).join(\", \")+\".\");if(session.pressure)lines.push(\"Pressure preference: Level \"+session.pressure+\"/5.\");const summary=lines.join(\" \");return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, #2A574108, #6B9E8015)\",borderRadius:\"14px\",padding:\"20px 24px\",border:\"1px solid #6B9E8040\",marginTop:\"16px\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",fontWeight:\"700\",color:C.forest,margin:\"0 0 10px 0\",textTransform:\"uppercase\",letterSpacing:\"0.5px\"},children:\"\\uD83D\\uDCCB Care Summary\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"14px\",color:C.darkGray,lineHeight:\"1.7\",margin:\"0 0 16px 0\",fontFamily:\"Georgia, serif\"},children:summary}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"10px\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{navigator.clipboard.writeText(summaryUrl);alert(\"Summary link copied!\");},style:{background:C.forest,color:C.white,border:\"none\",padding:\"10px 20px\",borderRadius:\"8px\",fontSize:\"13px\",fontWeight:\"700\",cursor:\"pointer\"},children:\"\\uD83D\\uDCE4 Share with Client\"}),/*#__PURE__*/_jsx(\"a\",{href:summaryUrl,target:\"_blank\",rel:\"noopener noreferrer\",style:{background:C.beige,color:C.forest,border:\"1px solid \"+C.lightGray,padding:\"10px 20px\",borderRadius:\"8px\",fontSize:\"13px\",fontWeight:\"700\",textDecoration:\"none\"},children:\"\\uD83D\\uDC41 Preview\"})]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:\"14px\",padding:\"24px\",border:\"1px solid \"+C.lightGray,boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:\"8px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.darkGray,margin:0,letterSpacing:\"-0.3px\"},children:\"Body Map\"}),heatmapData.count>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowHeatmap(v=>!v),style:{display:\"flex\",alignItems:\"center\",gap:\"7px\",padding:\"7px 16px\",borderRadius:\"20px\",border:\"none\",background:showHeatmap?\"linear-gradient(135deg, #2A5741, #3D7A5C)\":C.beige,color:showHeatmap?C.white:C.gray,fontSize:\"13px\",fontWeight:\"700\",cursor:\"pointer\",boxShadow:showHeatmap?\"0 2px 8px rgba(42,87,65,0.35)\":\"0 1px 3px rgba(0,0,0,0.1)\",transition:\"all 0.2s ease\",fontFamily:\"system-ui\"},children:[showHeatmap?\"üî•\":\"üìä\",\" \",showHeatmap?\"Heatmap ON\":\"History\",/*#__PURE__*/_jsx(\"span\",{style:{background:showHeatmap?\"rgba(255,255,255,0.25)\":C.lightGray,borderRadius:\"10px\",padding:\"2px 8px\",fontSize:\"11px\",fontWeight:\"800\",color:showHeatmap?C.white:C.forest},children:heatmapData.count})]})]}),showHeatmap&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg, #2A574108, #6B9E8015)\",border:\"1px solid #6B9E8040\",borderRadius:\"8px\",padding:\"8px 12px\",marginBottom:\"12px\",fontSize:\"12px\",color:C.forest,display:\"flex\",alignItems:\"center\",gap:\"8px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD25\"}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pattern history\"}),\" \\u2014 last \",heatmapData.count,\" sessions. Badge = times marked.\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:\"10px\",marginBottom:\"20px\",flexWrap:\"wrap\"},children:showHeatmap?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\",background:\"rgba(42,87,65,0.1)\",color:C.forest,padding:\"4px 12px\",borderRadius:\"20px\",fontWeight:\"600\"},children:\"\\uD83D\\uDFE2 Consistent focus\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\",background:\"rgba(239,68,68,0.1)\",color:\"#991B1B\",padding:\"4px 12px\",borderRadius:\"20px\",fontWeight:\"600\"},children:\"\\uD83D\\uDD34 Consistent avoid\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\",background:\"rgba(107,158,128,0.15)\",color:C.forest,padding:\"4px 12px\",borderRadius:\"20px\",fontWeight:\"500\"},children:\"\\uD83D\\uDFE2 Focus\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\",background:\"rgba(239,68,68,0.1)\",color:\"#991B1B\",padding:\"4px 12px\",borderRadius:\"20px\",fontWeight:\"500\"},children:\"\\uD83D\\uDD34 Avoid\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\",fontWeight:\"600\",color:C.gray,marginBottom:\"8px\",textTransform:\"uppercase\",letterSpacing:\"1px\"},children:\"Front\"}),/*#__PURE__*/_jsx(BodySVG,{focusAreas:session.front_focus||[],avoidAreas:session.front_avoid||[],heatmapFocus:heatmapData.frontFocus,heatmapAvoid:heatmapData.frontAvoid,showHeatmap:showHeatmap})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\",fontWeight:\"600\",color:C.gray,marginBottom:\"8px\",textTransform:\"uppercase\",letterSpacing:\"1px\"},children:\"Back\"}),/*#__PURE__*/_jsx(BodySVG,{focusAreas:session.back_focus||[],avoidAreas:session.back_avoid||[],heatmapFocus:heatmapData.backFocus,heatmapAvoid:heatmapData.backAvoid,showHeatmap:showHeatmap})]})]}),!showHeatmap&&[...(session.front_focus||[]),...(session.front_avoid||[]),...(session.back_focus||[]),...(session.back_avoid||[])].length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",color:C.gray,marginBottom:\"8px\",textTransform:\"uppercase\",letterSpacing:\"0.5px\"},children:\"Areas\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:\"6px\"},children:[[...(session.front_focus||[]),...(session.back_focus||[])].map((a,i)=>/*#__PURE__*/_jsxs(\"span\",{style:{background:\"rgba(107,158,128,0.15)\",color:C.forest,padding:\"4px 10px\",borderRadius:\"20px\",fontSize:\"12px\",fontWeight:\"500\"},children:[\"\\uD83D\\uDFE2 \",AREA_LABELS[a]||a]},\"f\"+i)),[...(session.front_avoid||[]),...(session.back_avoid||[])].map((a,i)=>/*#__PURE__*/_jsxs(\"span\",{style:{background:\"rgba(239,68,68,0.1)\",color:\"#991B1B\",padding:\"4px 10px\",borderRadius:\"20px\",fontSize:\"12px\",fontWeight:\"500\"},children:[\"\\uD83D\\uDD34 \",AREA_LABELS[a]||a]},\"a\"+i))]})]}),showHeatmap&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"12px\",color:C.gray,marginBottom:\"8px\",textTransform:\"uppercase\",letterSpacing:\"0.5px\"},children:\"Top recurring areas\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:\"6px\"},children:[Object.entries(_objectSpread(_objectSpread({},heatmapData.frontFocus),heatmapData.backFocus)).sort((a,b)=>b[1].count-a[1].count).slice(0,5).map(_ref10=>{let[area,{count,total}]=_ref10;return/*#__PURE__*/_jsxs(\"span\",{style:{background:\"rgba(42,87,65,0.1)\",color:C.forest,padding:\"4px 10px\",borderRadius:\"20px\",fontSize:\"12px\",fontWeight:\"700\",border:\"1px solid \"+C.sage+\"40\"},children:[\"\\uD83D\\uDFE2 \",AREA_LABELS[area]||area,\" \",/*#__PURE__*/_jsxs(\"span\",{style:{opacity:0.7},children:[count,\"/\",total]})]},\"hft-\"+area);}),Object.entries(_objectSpread(_objectSpread({},heatmapData.frontAvoid),heatmapData.backAvoid)).sort((a,b)=>b[1].count-a[1].count).slice(0,3).map(_ref11=>{let[area,{count,total}]=_ref11;if(heatmapData.frontFocus[area]||heatmapData.backFocus[area])return null;return/*#__PURE__*/_jsxs(\"span\",{style:{background:\"rgba(239,68,68,0.1)\",color:\"#991B1B\",padding:\"4px 10px\",borderRadius:\"20px\",fontSize:\"12px\",fontWeight:\"700\",border:\"1px solid rgba(239,68,68,0.25)\"},children:[\"\\uD83D\\uDD34 \",AREA_LABELS[area]||area,\" \",/*#__PURE__*/_jsxs(\"span\",{style:{opacity:0.7},children:[count,\"/\",total]})]},\"hat-\"+area);})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.white,borderRadius:\"14px\",padding:\"24px\",border:\"1px solid #E8E4DC\",boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\",marginTop:\"16px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:\"Georgia, serif\",fontSize:\"17px\",fontWeight:\"700\",color:C.darkGray,marginBottom:\"16px\"},children:\"\\uD83D\\uDCAC Client Feedback\"}),feedback?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:\"10px\",marginBottom:\"12px\"},children:[{label:\"Pressure\",value:feedback.pressure_rating?feedback.pressure_rating.replace(/_/g,\" \"):null},{label:\"Focus Areas\",value:feedback.focus_rating},{label:\"Overall\",value:feedback.overall_rating?feedback.overall_rating+\"/5 ‚≠ê\":null},{label:\"Communication\",value:feedback.communication_rating},{label:\"Return\",value:feedback.return_likelihood}].filter(f=>f.value).map((f,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{background:C.beige,borderRadius:\"10px\",padding:\"10px 12px\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"10px\",fontWeight:\"700\",color:C.gray,textTransform:\"uppercase\",margin:\"0 0 3px 0\"},children:f.label}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"14px\",fontWeight:\"600\",color:C.darkGray,margin:0,textTransform:\"capitalize\"},children:f.value})]},i))}),feedback.client_comment&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#FFFBEB\",borderRadius:\"10px\",padding:\"12px 14px\",border:\"1px solid #D97706\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"11px\",fontWeight:\"700\",color:\"#D97706\",margin:\"0 0 4px 0\"},children:\"\\uD83D\\uDCDD CLIENT COMMENT\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"13px\",color:C.darkGray,margin:0,fontStyle:\"italic\"},children:[\"\\\"\",feedback.client_comment,\"\\\"\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"13px\",color:C.gray,marginBottom:\"14px\"},children:\"No feedback yet. Send this link to your client after the session.\"}),feedbackLink&&/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,background:C.beige,borderRadius:\"8px\",padding:\"10px 12px\",fontSize:\"12px\",color:C.gray,overflow:\"hidden\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\"},children:feedbackLink}),/*#__PURE__*/_jsx(\"button\",{onClick:copyLink,style:{background:\"#2A5741\",color:\"#fff\",border:\"none\",padding:\"10px 16px\",borderRadius:\"8px\",fontSize:\"12px\",fontWeight:\"700\",cursor:\"pointer\",whiteSpace:\"nowrap\"},children:linkCopied?\"‚úì Copied!\":\"Copy Link\"})]})]})]}),/*#__PURE__*/_jsx(\"style\",{children:\"@media print { header, nav, button, .no-print { display: none !important; } body { background: white !important; font-size: 11px !important; } * { box-shadow: none !important; } h2 { font-size: 16px !important; } h3 { font-size: 13px !important; } svg { width: 100px !important; height: 160px !important; } }\"})]});}","map":{"version":3,"names":["React","useState","useEffect","useMemo","db","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","C","sage","forest","beige","darkGray","gray","lightGray","white","gold","red","AREA_LABELS","AREA_COORDS","BodySVG","_ref","focusAreas","avoidAreas","heatmapFocus","heatmapAvoid","showHeatmap","width","height","viewBox","style","filter","children","cx","cy","rx","ry","fill","stroke","strokeWidth","x","y","d","Object","entries","map","_ref2","area","opacity","count","c","r","toFixed","Math","min","textAnchor","fontSize","fontWeight","fontFamily","_ref3","i","SessionDetail","_ref4","session","client","onBack","onUpdate","notes","setNotes","therapist_notes","saving","setSaving","saved","setSaved","completing","setCompleting","history","setHistory","feedback","setFeedback","feedbackLink","setFeedbackLink","linkCopied","setLinkCopied","setShowHeatmap","loadHistory","loadFeedback","from","select","eq","therapist_id","maybeSingle","then","_ref5","data","t","code","feedback_code","id","window","location","origin","custom_url","e","copyLink","navigator","clipboard","writeText","setTimeout","order","ascending","limit","err","console","error","heatmapData","past","s","slice","n","length","frontFocus","frontAvoid","backFocus","backAvoid","ff","fa","bf","ba","forEach","front_focus","a","front_avoid","back_focus","back_avoid","toEntry","total","parseFloat","fromEntries","_ref6","k","v","_ref7","_ref8","_ref9","patterns","result","medSessions","med_flag","medNotes","med_note","Boolean","uniqueNotes","Set","noteText","push","icon","text","urgent","pressures","pressure","avg","round","reduce","b","goals","goal","topGoal","sort","pop","allAvoid","flatMap","avoidCounts","_ref0","pct","type","allFocus","focusCounts","_ref1","lights","lighting","size","medFlagValue","flag","note","flagIsGeneric","includes","String","toLowerCase","trim","saveNotes","update","single","markComplete","completed","completed_at","Date","toISOString","prefs","label","value","table_temp","room_temp","music","conversation","draping","oil_pref","client_notes","p","paddingBottom","display","alignItems","gap","marginBottom","flexWrap","onClick","background","border","color","padding","borderRadius","cursor","flex","margin","letterSpacing","name","created_at","toLocaleDateString","weekday","month","day","year","print","lineHeight","textTransform","className","gridTemplateColumns","flexDirection","boxShadow","whiteSpace","overflow","transition","onChange","target","placeholder","minHeight","resize","boxSizing","marginTop","disabled","AREA_LABELS_LOCAL","an","summaryCode","summaryUrl","lines","join","summary","alert","href","rel","textDecoration","justifyContent","textAlign","_objectSpread","_ref10","_ref11","pressure_rating","replace","focus_rating","overall_rating","communication_rating","return_likelihood","f","client_comment","fontStyle","textOverflow"],"sources":["/Users/harshkumar/Documents/bodymap/src/components/SessionDetail.js"],"sourcesContent":["// src/components/SessionDetail.js\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { db, supabase } from \"../lib/supabase\";\n\nconst C = {\n  sage: \"#6B9E80\", forest: \"#2A5741\", beige: \"#F5F0E8\",\n  darkGray: \"#1A1A2E\", gray: \"#6B7280\", lightGray: \"#E8E4DC\",\n  white: \"#FFFFFF\", gold: \"#C9A84C\", red: \"#EF4444\"\n};\n\nconst AREA_LABELS = {\n  \"f-head\": \"Head\", \"f-neck\": \"Neck\",\n  \"f-l-shldr\": \"L Shoulder\", \"f-r-shldr\": \"R Shoulder\",\n  \"f-l-chest\": \"L Chest\", \"f-r-chest\": \"R Chest\",\n  \"f-abdomen\": \"Abdomen\",\n  \"f-l-arm-u\": \"L Upper Arm\", \"f-r-arm-u\": \"R Upper Arm\",\n  \"f-l-forearm\": \"L Forearm\", \"f-r-forearm\": \"R Forearm\",\n  \"f-l-hand\": \"L Hand\", \"f-r-hand\": \"R Hand\",\n  \"f-l-hip\": \"L Hip\", \"f-r-hip\": \"R Hip\",\n  \"f-l-thigh\": \"L Thigh\", \"f-r-thigh\": \"R Thigh\",\n  \"f-l-knee\": \"L Knee\", \"f-r-knee\": \"R Knee\",\n  \"f-l-calf\": \"L Calf\", \"f-r-calf\": \"R Calf\",\n  \"f-l-foot\": \"L Foot\", \"f-r-foot\": \"R Foot\",\n  \"b-head\": \"Back of Head\", \"b-neck\": \"Back of Neck\",\n  \"b-l-shldr\": \"L Shoulder Blade\", \"b-r-shldr\": \"R Shoulder Blade\",\n  \"b-upper-bk\": \"Upper Back\", \"b-mid-bk\": \"Mid Back\", \"b-lower-bk\": \"Lower Back\",\n  \"b-l-arm-u\": \"L Upper Arm\", \"b-r-arm-u\": \"R Upper Arm\",\n  \"b-l-forearm\": \"L Forearm\", \"b-r-forearm\": \"R Forearm\",\n  \"b-l-hand\": \"L Hand\", \"b-r-hand\": \"R Hand\",\n  \"b-l-glute\": \"L Glute\", \"b-r-glute\": \"R Glute\",\n  \"b-l-hamstr\": \"L Hamstring\", \"b-r-hamstr\": \"R Hamstring\",\n  \"b-l-knee\": \"L Knee\", \"b-r-knee\": \"R Knee\",\n  \"b-l-calf\": \"L Calf\", \"b-r-calf\": \"R Calf\",\n  \"b-l-foot\": \"L Foot\", \"b-r-foot\": \"R Foot\"\n};\n\nconst AREA_COORDS = {\n  \"f-head\": [85,28], \"f-neck\": [85,52],\n  \"f-l-shldr\": [58,72], \"f-r-shldr\": [112,72],\n  \"f-l-chest\": [68,95], \"f-r-chest\": [102,95],\n  \"f-abdomen\": [85,125],\n  \"f-l-arm-u\": [45,100], \"f-r-arm-u\": [125,100],\n  \"f-l-forearm\": [42,130], \"f-r-forearm\": [128,130],\n  \"f-l-hand\": [40,155], \"f-r-hand\": [130,155],\n  \"f-l-hip\": [68,155], \"f-r-hip\": [102,155],\n  \"f-l-thigh\": [68,185], \"f-r-thigh\": [102,185],\n  \"f-l-knee\": [68,220], \"f-r-knee\": [102,220],\n  \"f-l-calf\": [68,248], \"f-r-calf\": [102,248],\n  \"f-l-foot\": [68,285], \"f-r-foot\": [102,285],\n  \"b-head\": [85,28], \"b-neck\": [85,52],\n  \"b-l-shldr\": [58,72], \"b-r-shldr\": [112,72],\n  \"b-upper-bk\": [85,88], \"b-mid-bk\": [85,112], \"b-lower-bk\": [85,136],\n  \"b-l-arm-u\": [45,100], \"b-r-arm-u\": [125,100],\n  \"b-l-forearm\": [42,130], \"b-r-forearm\": [128,130],\n  \"b-l-hand\": [40,155], \"b-r-hand\": [130,155],\n  \"b-l-glute\": [68,162], \"b-r-glute\": [102,162],\n  \"b-l-hamstr\": [68,192], \"b-r-hamstr\": [102,192],\n  \"b-l-knee\": [68,220], \"b-r-knee\": [102,220],\n  \"b-l-calf\": [68,248], \"b-r-calf\": [102,248],\n  \"b-l-foot\": [68,285], \"b-r-foot\": [102,285]\n};\n\nfunction BodySVG({ focusAreas = [], avoidAreas = [], heatmapFocus = {}, heatmapAvoid = {}, showHeatmap = false }) {\n  return (\n    <svg width=\"150\" height=\"290\" viewBox=\"0 0 170 310\" style={{ filter: \"drop-shadow(0 2px 6px rgba(0,0,0,0.08))\" }}>\n      <ellipse cx=\"85\" cy=\"28\" rx=\"20\" ry=\"24\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <rect x=\"77\" y=\"50\" width=\"16\" height=\"14\" rx=\"3\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M57 64 Q47 70 44 90 L40 155 Q40 162 48 162 L122 162 Q130 162 130 155 L126 90 Q123 70 113 64 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M57 66 Q42 74 38 115 Q36 128 40 138 Q46 141 50 138 Q54 112 60 85 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M113 66 Q128 74 132 115 Q134 128 130 138 Q124 141 120 138 Q116 112 110 85 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M60 162 Q56 195 54 232 Q52 260 56 278 Q62 284 70 282 Q76 278 76 260 L78 162 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      <path d=\"M110 162 Q114 195 116 232 Q118 260 114 278 Q108 284 100 282 Q94 278 94 260 L92 162 Z\" fill=\"#EDE8DF\" stroke=\"#C8BFB0\" strokeWidth=\"1.5\"/>\n      {showHeatmap && Object.entries(heatmapFocus).map(([area, { opacity, count }]) => {\n        const c = AREA_COORDS[area]; if (!c) return null;\n        const r = 8 + opacity * 10;\n        return (\n          <g key={\"hf-\" + area}>\n            <circle cx={c[0]} cy={c[1]} r={r + 8} fill={\"rgba(107,158,128,\" + (opacity * 0.2).toFixed(2) + \")\"} stroke=\"none\"/>\n            <circle cx={c[0]} cy={c[1]} r={r} fill={\"rgba(107,158,128,\" + (opacity * 0.55).toFixed(2) + \")\"} stroke=\"#6B9E80\" strokeWidth={opacity > 0.6 ? \"2.5\" : \"1.5\"}/>\n            <circle cx={c[0]} cy={c[1]} r=\"5\" fill={\"rgba(42,87,65,\" + Math.min(opacity + 0.2, 1).toFixed(2) + \")\"}/>\n            <circle cx={c[0] + r - 1} cy={c[1] - r + 1} r=\"7\" fill=\"#2A5741\" stroke=\"white\" strokeWidth=\"1.5\"/>\n            <text x={c[0] + r - 1} y={c[1] - r + 5} textAnchor=\"middle\" fill=\"white\" fontSize=\"8\" fontWeight=\"bold\" fontFamily=\"system-ui\">{count}</text>\n          </g>\n        );\n      })}\n      {showHeatmap && Object.entries(heatmapAvoid).map(([area, { opacity, count }]) => {\n        if (heatmapFocus[area]) return null;\n        const c = AREA_COORDS[area]; if (!c) return null;\n        const r = 8 + opacity * 10;\n        return (\n          <g key={\"ha-\" + area}>\n            <circle cx={c[0]} cy={c[1]} r={r + 8} fill={\"rgba(239,68,68,\" + (opacity * 0.15).toFixed(2) + \")\"} stroke=\"none\"/>\n            <circle cx={c[0]} cy={c[1]} r={r} fill={\"rgba(239,68,68,\" + (opacity * 0.4).toFixed(2) + \")\"} stroke=\"#EF4444\" strokeWidth={opacity > 0.6 ? \"2.5\" : \"1.5\"}/>\n            <circle cx={c[0]} cy={c[1]} r=\"5\" fill={\"rgba(185,28,28,\" + Math.min(opacity + 0.2, 1).toFixed(2) + \")\"}/>\n            <circle cx={c[0] + r - 1} cy={c[1] - r + 1} r=\"7\" fill=\"#991B1B\" stroke=\"white\" strokeWidth=\"1.5\"/>\n            <text x={c[0] + r - 1} y={c[1] - r + 5} textAnchor=\"middle\" fill=\"white\" fontSize=\"8\" fontWeight=\"bold\" fontFamily=\"system-ui\">{count}</text>\n          </g>\n        );\n      })}\n      {!showHeatmap && focusAreas.map((area, i) => {\n        const c = AREA_COORDS[area]; if (!c) return null;\n        return <g key={\"f\"+i}>\n          <circle cx={c[0]} cy={c[1]} r=\"12\" fill=\"rgba(107,158,128,0.25)\" stroke=\"#6B9E80\" strokeWidth=\"2\"/>\n          <circle cx={c[0]} cy={c[1]} r=\"5\" fill=\"#6B9E80\"/>\n        </g>;\n      })}\n      {!showHeatmap && avoidAreas.map((area, i) => {\n        const c = AREA_COORDS[area]; if (!c) return null;\n        return <g key={\"a\"+i}>\n          <circle cx={c[0]} cy={c[1]} r=\"12\" fill=\"rgba(239,68,68,0.2)\" stroke=\"#EF4444\" strokeWidth=\"2\"/>\n          <circle cx={c[0]} cy={c[1]} r=\"5\" fill=\"#EF4444\"/>\n        </g>;\n      })}\n    </svg>\n  );\n}\n\nexport default function SessionDetail({ session, client, onBack, onUpdate }) {\n  const [notes, setNotes] = useState(session.therapist_notes || \"\");\n  const [saving, setSaving] = useState(false);\n  const [saved, setSaved] = useState(false);\n  const [completing, setCompleting] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [feedback, setFeedback] = useState(null);\n  const [feedbackLink, setFeedbackLink] = useState(\"\");\n  const [linkCopied, setLinkCopied] = useState(false);\n  const [showHeatmap, setShowHeatmap] = useState(false);\n\n  useEffect(() => {\n    loadHistory();\n    loadFeedback();\n    supabase.from(\"therapists\").select(\"custom_url\").eq(\"id\", session.therapist_id).maybeSingle()\n      .then(({ data: t }) => {\n        if (t) {\n          const code = session.feedback_code || session.id;\n          setFeedbackLink(window.location.origin + \"/\" + t.custom_url + \"/feedback/\" + code);\n        }\n      });\n  }, [client?.id]);\n\n  async function loadFeedback() {\n    try {\n      const { data } = await supabase.from(\"feedback\").select(\"*\").eq(\"session_id\", session.id).maybeSingle();\n      setFeedback(data);\n    } catch(e) {}\n  }\n\n  function copyLink() {\n    navigator.clipboard.writeText(feedbackLink);\n    setLinkCopied(true);\n    setTimeout(() => setLinkCopied(false), 2000);\n  }\n\n  async function loadHistory() {\n    try {\n      const { data } = await supabase\n        .from(\"sessions\").select(\"*\")\n        .eq(\"client_id\", client.id)\n        .order(\"created_at\", { ascending: false })\n        .limit(10);\n      setHistory(data || []);\n    } catch (err) { console.error(err); }\n  }\n\n  const heatmapData = useMemo(() => {\n    const past = history.filter(s => s.id !== session.id).slice(0, 5);\n    const n = past.length;\n    if (n === 0) return { frontFocus: {}, frontAvoid: {}, backFocus: {}, backAvoid: {}, count: 0 };\n    const ff = {}, fa = {}, bf = {}, ba = {};\n    past.forEach(s => {\n      (s.front_focus || []).forEach(a => { ff[a] = (ff[a] || 0) + 1; });\n      (s.front_avoid || []).forEach(a => { fa[a] = (fa[a] || 0) + 1; });\n      (s.back_focus  || []).forEach(a => { bf[a] = (bf[a] || 0) + 1; });\n      (s.back_avoid  || []).forEach(a => { ba[a] = (ba[a] || 0) + 1; });\n    });\n    const toEntry = (c) => ({ count: c, total: n, opacity: parseFloat(Math.min(0.3 + (c / n) * 0.7, 1.0).toFixed(2)) });\n    return {\n      frontFocus: Object.fromEntries(Object.entries(ff).map(([k,v]) => [k, toEntry(v)])),\n      frontAvoid: Object.fromEntries(Object.entries(fa).map(([k,v]) => [k, toEntry(v)])),\n      backFocus:  Object.fromEntries(Object.entries(bf).map(([k,v]) => [k, toEntry(v)])),\n      backAvoid:  Object.fromEntries(Object.entries(ba).map(([k,v]) => [k, toEntry(v)])),\n      count: n,\n    };\n  }, [history, session.id]);\n\n  const patterns = useMemo(() => {\n    if (history.length < 2) return [];\n    const result = [];\n    const medSessions = history.filter(s => s.med_flag && s.med_flag !== \"none\" && s.med_flag !== \"no\");\n    if (medSessions.length > 0) {\n      const medNotes = medSessions.map(s => s.med_note).filter(Boolean);\n      const uniqueNotes = [...new Set(medNotes)];\n      const noteText = uniqueNotes.length > 0 ? \": \\\"\" + uniqueNotes[uniqueNotes.length-1] + \"\\\"\" : \"\";\n      result.push({ icon: \"üö®\", text: \"Medical flag\" + noteText + \" ‚Äî always check before session\", urgent: true });\n    }\n    const pressures = history.filter(s => s.pressure).map(s => s.pressure);\n    if (pressures.length >= 2) {\n      const avg = Math.round(pressures.reduce((a,b) => a+b, 0) / pressures.length);\n      result.push({ icon: \"üíÜ\", text: \"Consistently prefers pressure level \" + avg + \"/5\" });\n    }\n    const goals = history.filter(s => s.goal).map(s => s.goal);\n    const topGoal = goals.sort((a,b) => goals.filter(v=>v===a).length - goals.filter(v=>v===b).length).pop();\n    if (topGoal) result.push({ icon: \"üéØ\", text: \"Most common goal: \" + topGoal });\n    const allAvoid = history.flatMap(s => [...(s.front_avoid||[]), ...(s.back_avoid||[])]);\n    const avoidCounts = {};\n    allAvoid.forEach(a => avoidCounts[a] = (avoidCounts[a]||0)+1);\n    Object.entries(avoidCounts).sort((a,b) => b[1]-a[1]).slice(0,2).forEach(([area, count]) => {\n      if (count >= 2) result.push({ icon: \"‚ö†Ô∏è\", text: \"Always avoids: \" + (AREA_LABELS[area] || area), count, total: history.length, pct: Math.round(count/history.length*100), type: \"avoid\" });\n    });\n    const allFocus = history.flatMap(s => [...(s.front_focus||[]), ...(s.back_focus||[])]);\n    const focusCounts = {};\n    allFocus.forEach(a => focusCounts[a] = (focusCounts[a]||0)+1);\n    Object.entries(focusCounts).sort((a,b) => b[1]-a[1]).slice(0,2).forEach(([area, count]) => {\n      if (count >= 2) result.push({ icon: \"‚ú®\", text: \"Always focuses: \" + (AREA_LABELS[area] || area), count, total: history.length, pct: Math.round(count/history.length*100), type: \"focus\" });\n    });\n    const lights = history.filter(s => s.lighting).map(s => s.lighting);\n    if (lights.length >= 2 && new Set(lights).size === 1) result.push({ icon: \"üí°\", text: \"Always prefers \" + lights[0] + \" lighting\" });\n    return result.slice(0, 5);\n  }, [history]);\n\n  const medFlagValue = (() => {\n    const flag = session.med_flag;\n    const note = session.med_note;\n    if (!flag || flag === \"none\" || flag === \"no\" || flag === \"false\") return null;\n    const flagIsGeneric = [\"yes\",\"true\",\"flagged\",\"1\"].includes(String(flag).toLowerCase().trim());\n    if (flagIsGeneric) return note ? note : \"Medical condition flagged ‚Äî ask client for details\";\n    return note ? flag + \" ‚Äî \" + note : flag;\n  })();\n\n  async function saveNotes() {\n    setSaving(true);\n    try {\n      const { data } = await supabase.from(\"sessions\").update({ therapist_notes: notes }).eq(\"id\", session.id).select().single();\n      setSaved(true); setTimeout(() => setSaved(false), 2000);\n      if (onUpdate && data) onUpdate(data);\n    } catch (err) { console.error(err); }\n    finally { setSaving(false); }\n  }\n\n  async function markComplete() {\n    setCompleting(true);\n    try {\n      const { data } = await supabase.from(\"sessions\").update({ completed: true, therapist_notes: notes, completed_at: new Date().toISOString() }).eq(\"id\", session.id).select().single();\n      if (onUpdate && data) onUpdate(data);\n      onBack();\n    } catch (err) { console.error(err); }\n    finally { setCompleting(false); }\n  }\n\n  const prefs = [\n    { label: \"Pressure\", value: session.pressure ? \"Level \" + session.pressure + \"/5\" : null, icon: \"üíÜ\" },\n    { label: \"Goal\", value: session.goal, icon: \"üéØ\" },\n    { label: \"Table Temp\", value: session.table_temp, icon: \"üå°Ô∏è\" },\n    { label: \"Room Temp\", value: session.room_temp, icon: \"üè†\" },\n    { label: \"Music\", value: session.music, icon: \"üéµ\" },\n    { label: \"Lighting\", value: session.lighting, icon: \"üí°\" },\n    { label: \"Conversation\", value: session.conversation, icon: \"üí¨\" },\n    { label: \"Draping\", value: session.draping, icon: \"üõèÔ∏è\" },\n    { label: \"Oil Preference\", value: session.oil_pref !== \"none\" ? session.oil_pref : null, icon: \"üåø\" },\n    { label: \"Client Notes\", value: session.client_notes || null, icon: \"üìù\" },\n  ].filter(p => p.value);\n\n  return (\n    <div style={{ paddingBottom: \"100px\" }}>\n      <style>{`\n        @media (max-width: 640px) {\n          .bm-session-grid { grid-template-columns: 1fr !important; }\n        }\n      `}</style>\n      <div style={{ display: \"flex\", alignItems: \"flex-start\", gap: \"12px\", marginBottom: \"28px\", flexWrap: \"wrap\" }}>\n        <button onClick={onBack} style={{ background: \"transparent\", border: \"1.5px solid \" + C.lightGray, color: C.gray, padding: \"8px 16px\", borderRadius: \"8px\", fontSize: \"14px\", cursor: \"pointer\" }}>\n          ‚Üê Sessions\n        </button>\n        <div style={{ flex: 1 }}>\n          <h2 style={{ fontFamily: \"Georgia, serif\", fontSize: \"26px\", fontWeight: \"700\", color: C.darkGray, margin: \"0 0 2px 0\", letterSpacing: \"-0.5px\" }}>{client.name}</h2>\n          <p style={{ fontSize: \"14px\", color: C.gray, margin: 0 }}>\n            {new Date(session.created_at).toLocaleDateString(\"en-US\", { weekday: \"long\", month: \"long\", day: \"numeric\", year: \"numeric\" })}\n          </p>\n        </div>\n        <div style={{ display: \"flex\", gap: \"8px\", alignItems: \"center\", flexWrap: \"wrap\" }}>\n          <button onClick={() => window.print()} style={{ background: C.beige, border: \"1.5px solid \" + C.lightGray, color: C.gray, padding: \"8px 16px\", borderRadius: \"8px\", fontSize: \"14px\", cursor: \"pointer\" }}>üñ®Ô∏è Print Brief</button>\n          <span style={{ background: session.completed ? \"#D1FAE5\" : \"#FEF3C7\", color: session.completed ? \"#065F46\" : \"#92400E\", padding: \"6px 16px\", borderRadius: \"20px\", fontSize: \"13px\", fontWeight: \"600\" }}>\n            {session.completed ? \"‚úì Completed\" : \"‚è≥ Pending Review\"}\n          </span>\n        </div>\n      </div>\n\n      {medFlagValue && (\n        <div style={{ background: \"#FEF2F2\", border: \"2px solid #EF4444\", borderRadius: \"12px\", padding: \"14px 20px\", marginBottom: \"16px\", display: \"flex\", alignItems: \"flex-start\", gap: \"12px\" }}>\n          <span style={{ fontSize: \"22px\", lineHeight: 1 }}>üö®</span>\n          <div>\n            <p style={{ fontSize: \"12px\", fontWeight: \"800\", color: \"#991B1B\", margin: \"0 0 4px 0\", textTransform: \"uppercase\", letterSpacing: \"0.8px\" }}>Medical Flag ‚Äî Review Before Session</p>\n            <p style={{ fontSize: \"15px\", fontWeight: \"600\", color: \"#7F1D1D\", margin: 0 }}>{medFlagValue}</p>\n          </div>\n        </div>\n      )}\n\n      <div className=\"bm-session-grid\" style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"16px\" }}>\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n          <div style={{ background: C.white, borderRadius: \"14px\", padding: \"24px\", border: \"1px solid \" + C.lightGray, boxShadow: \"0 1px 4px rgba(0,0,0,0.05)\" }}>\n            <h3 style={{ fontFamily: \"Georgia, serif\", fontSize: \"17px\", fontWeight: \"700\", color: C.darkGray, marginBottom: \"16px\", letterSpacing: \"-0.3px\" }}>Client Preferences</h3>\n            {prefs.length === 0 ? <p style={{ color: C.gray, fontSize: \"14px\" }}>No preferences recorded</p> : (\n              <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"8px\" }}>\n                {prefs.map((p, i) => (\n                  <div key={i} style={{ padding: \"10px 12px\", background: C.beige, borderRadius: \"8px\", border: \"1px solid \" + C.lightGray }}>\n                    <p style={{ fontSize: \"11px\", color: C.gray, margin: \"0 0 3px 0\", textTransform: \"uppercase\", letterSpacing: \"0.5px\" }}>{p.icon} {p.label}</p>\n                    <p style={{ fontSize: \"14px\", fontWeight: \"600\", color: C.darkGray, margin: 0, textTransform: \"capitalize\" }}>{p.value}</p>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {patterns.length > 0 && (\n            <div style={{ background: \"linear-gradient(135deg, \" + C.forest + \"08, \" + C.sage + \"12)\", borderRadius: \"14px\", padding: \"24px\", border: \"1px solid \" + C.sage + \"30\" }}>\n              <h3 style={{ fontFamily: \"Georgia, serif\", fontSize: \"17px\", fontWeight: \"700\", color: C.forest, marginBottom: \"16px\", letterSpacing: \"-0.3px\" }}>üîç Client Patterns</h3>\n              <p style={{ fontSize: \"12px\", color: C.gray, margin: \"0 0 12px 0\" }}>Based on {history.length} sessions</p>\n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"10px\" }}>\n                {patterns.map((p, i) => (\n                  <div key={i} style={{ background: p.urgent ? \"#FEF2F2\" : C.white, borderRadius: \"10px\", padding: \"10px 14px\", border: \"1px solid \" + (p.urgent ? \"#EF4444\" : C.sage + \"25\") }}>\n                    <div style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\", marginBottom: p.pct ? \"8px\" : \"0\" }}>\n                      <span style={{ fontSize: \"16px\" }}>{p.icon}</span>\n                      <span style={{ fontSize: \"13px\", color: p.urgent ? \"#DC2626\" : C.darkGray, fontWeight: p.urgent ? \"700\" : \"600\", flex: 1 }}>{p.text}</span>\n                      {p.pct && (\n                        <span style={{ fontSize: \"12px\", fontWeight: \"800\", color: p.type === \"avoid\" ? \"#991B1B\" : C.forest, background: p.type === \"avoid\" ? \"rgba(239,68,68,0.1)\" : \"rgba(42,87,65,0.1)\", padding: \"2px 8px\", borderRadius: \"10px\", whiteSpace: \"nowrap\" }}>\n                          {p.count}/{p.total} ¬∑ {p.pct}%\n                        </span>\n                      )}\n                    </div>\n                    {p.pct && (\n                      <div style={{ height: \"6px\", background: C.lightGray, borderRadius: \"3px\", overflow: \"hidden\" }}>\n                        <div style={{ height: \"100%\", width: p.pct + \"%\", background: p.type === \"avoid\" ? \"linear-gradient(90deg, #EF4444, #DC2626)\" : \"linear-gradient(90deg, #6B9E80, #2A5741)\", borderRadius: \"3px\", transition: \"width 0.6s ease\" }}/>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div style={{ background: C.white, borderRadius: \"14px\", padding: \"24px\", border: \"1px solid \" + C.lightGray, boxShadow: \"0 1px 4px rgba(0,0,0,0.05)\" }}>\n            <h3 style={{ fontFamily: \"Georgia, serif\", fontSize: \"17px\", fontWeight: \"700\", color: C.darkGray, marginBottom: \"16px\", letterSpacing: \"-0.3px\" }}>Your Notes</h3>\n            <textarea value={notes} onChange={e => setNotes(e.target.value)} placeholder=\"Add session notes...\"\n              style={{ width: \"100%\", minHeight: \"100px\", padding: \"12px\", border: \"1.5px solid \" + C.lightGray, borderRadius: \"8px\", fontSize: \"14px\", fontFamily: \"Georgia, serif\", resize: \"vertical\", boxSizing: \"border-box\", background: C.beige, lineHeight: \"1.6\" }}\n            />\n            <div style={{ display: \"flex\", gap: \"10px\", marginTop: \"12px\" }}>\n              <button onClick={saveNotes} disabled={saving} style={{ flex: 1, background: C.sage, color: C.white, border: \"none\", padding: \"11px\", borderRadius: \"8px\", fontSize: \"14px\", fontWeight: \"600\", cursor: \"pointer\", fontFamily: \"system-ui\" }}>\n                {saving ? \"Saving...\" : saved ? \"‚úì Saved!\" : \"Save Notes\"}\n              </button>\n              {!session.completed && (\n                <button onClick={markComplete} disabled={completing} style={{ flex: 1, background: C.forest, color: C.white, border: \"none\", padding: \"11px\", borderRadius: \"8px\", fontSize: \"14px\", fontWeight: \"600\", cursor: \"pointer\", fontFamily: \"system-ui\" }}>\n                  {completing ? \"...\" : \"‚úì Mark Complete\"}\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Care Summary */}\n          {session.completed && (() => {\n            const AREA_LABELS_LOCAL = {\n              \"f-head\":\"Head\",\"f-neck\":\"Neck\",\"f-l-shldr\":\"L Shoulder\",\"f-r-shldr\":\"R Shoulder\",\n              \"f-l-chest\":\"L Chest\",\"f-r-chest\":\"R Chest\",\"f-abdomen\":\"Abdomen\",\n              \"f-l-arm-u\":\"L Upper Arm\",\"f-r-arm-u\":\"R Upper Arm\",\"f-l-forearm\":\"L Forearm\",\n              \"f-r-forearm\":\"R Forearm\",\"f-l-hand\":\"L Hand\",\"f-r-hand\":\"R Hand\",\n              \"f-l-hip\":\"L Hip\",\"f-r-hip\":\"R Hip\",\"f-l-thigh\":\"L Thigh\",\"f-r-thigh\":\"R Thigh\",\n              \"f-l-knee\":\"L Knee\",\"f-r-knee\":\"R Knee\",\"f-l-calf\":\"L Calf\",\"f-r-calf\":\"R Calf\",\n              \"f-l-foot\":\"L Foot\",\"f-r-foot\":\"R Foot\",\"b-head\":\"Back of Head\",\"b-neck\":\"Back of Neck\",\n              \"b-l-shldr\":\"L Shoulder Blade\",\"b-r-shldr\":\"R Shoulder Blade\",\"b-upper-bk\":\"Upper Back\",\n              \"b-mid-bk\":\"Mid Back\",\"b-lower-bk\":\"Lower Back\",\"b-l-arm-u\":\"L Upper Arm\",\n              \"b-r-arm-u\":\"R Upper Arm\",\"b-l-forearm\":\"L Forearm\",\"b-r-forearm\":\"R Forearm\",\n              \"b-l-hand\":\"L Hand\",\"b-r-hand\":\"R Hand\",\"b-l-glute\":\"L Glute\",\"b-r-glute\":\"R Glute\",\n              \"b-l-hamstr\":\"L Hamstring\",\"b-r-hamstr\":\"R Hamstring\",\"b-l-knee\":\"L Knee\",\n              \"b-r-knee\":\"R Knee\",\"b-l-calf\":\"L Calf\",\"b-r-calf\":\"R Calf\",\n              \"b-l-foot\":\"L Foot\",\"b-r-foot\":\"R Foot\"\n            };\n            const an = k => AREA_LABELS_LOCAL[k] || k;\n            const focusAreas = [...(session.front_focus||[]), ...(session.back_focus||[])].map(an);\n            const avoidAreas = [...(session.front_avoid||[]), ...(session.back_avoid||[])].map(an);\n            const summaryCode = session.feedback_code || session.id;\n            const summaryUrl = window.location.origin + \"/summary/\" + summaryCode;\n\n            const lines = [];\n            if (focusAreas.length > 0) lines.push(\"Today's session focused on \" + focusAreas.slice(0,3).join(\", \") + (session.goal ? \", with a goal to \" + session.goal : \"\") + \".\");\n            if (avoidAreas.length > 0) lines.push(\"Areas avoided: \" + avoidAreas.slice(0,3).join(\", \") + \".\");\n            if (session.pressure) lines.push(\"Pressure preference: Level \" + session.pressure + \"/5.\");\n            const summary = lines.join(\" \");\n\n            return (\n              <div style={{ background: \"linear-gradient(135deg, #2A574108, #6B9E8015)\", borderRadius: \"14px\", padding: \"20px 24px\", border: \"1px solid #6B9E8040\", marginTop: \"16px\" }}>\n                <p style={{ fontSize: \"12px\", fontWeight: \"700\", color: C.forest, margin: \"0 0 10px 0\", textTransform: \"uppercase\", letterSpacing: \"0.5px\" }}>üìã Care Summary</p>\n                <p style={{ fontSize: \"14px\", color: C.darkGray, lineHeight: \"1.7\", margin: \"0 0 16px 0\", fontFamily: \"Georgia, serif\" }}>{summary}</p>\n                <div style={{ display: \"flex\", gap: \"10px\", flexWrap: \"wrap\" }}>\n                  <button onClick={() => { navigator.clipboard.writeText(summaryUrl); alert(\"Summary link copied!\"); }}\n                    style={{ background: C.forest, color: C.white, border: \"none\", padding: \"10px 20px\", borderRadius: \"8px\", fontSize: \"13px\", fontWeight: \"700\", cursor: \"pointer\" }}>\n                    üì§ Share with Client\n                  </button>\n                  <a href={summaryUrl} target=\"_blank\" rel=\"noopener noreferrer\"\n                    style={{ background: C.beige, color: C.forest, border: \"1px solid \" + C.lightGray, padding: \"10px 20px\", borderRadius: \"8px\", fontSize: \"13px\", fontWeight: \"700\", textDecoration: \"none\" }}>\n                    üëÅ Preview\n                  </a>\n                </div>\n              </div>\n            );\n          })()}\n        </div>\n\n        <div style={{ background: C.white, borderRadius: \"14px\", padding: \"24px\", border: \"1px solid \" + C.lightGray, boxShadow: \"0 1px 4px rgba(0,0,0,0.05)\" }}>\n          <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: \"8px\" }}>\n            <h3 style={{ fontFamily: \"Georgia, serif\", fontSize: \"17px\", fontWeight: \"700\", color: C.darkGray, margin: 0, letterSpacing: \"-0.3px\" }}>Body Map</h3>\n            {heatmapData.count > 0 && (\n              <button onClick={() => setShowHeatmap(v => !v)} style={{ display: \"flex\", alignItems: \"center\", gap: \"7px\", padding: \"7px 16px\", borderRadius: \"20px\", border: \"none\", background: showHeatmap ? \"linear-gradient(135deg, #2A5741, #3D7A5C)\" : C.beige, color: showHeatmap ? C.white : C.gray, fontSize: \"13px\", fontWeight: \"700\", cursor: \"pointer\", boxShadow: showHeatmap ? \"0 2px 8px rgba(42,87,65,0.35)\" : \"0 1px 3px rgba(0,0,0,0.1)\", transition: \"all 0.2s ease\", fontFamily: \"system-ui\" }}>\n                {showHeatmap ? \"üî•\" : \"üìä\"} {showHeatmap ? \"Heatmap ON\" : \"History\"}\n                <span style={{ background: showHeatmap ? \"rgba(255,255,255,0.25)\" : C.lightGray, borderRadius: \"10px\", padding: \"2px 8px\", fontSize: \"11px\", fontWeight: \"800\", color: showHeatmap ? C.white : C.forest }}>\n                  {heatmapData.count}\n                </span>\n              </button>\n            )}\n          </div>\n\n          {showHeatmap && (\n            <div style={{ background: \"linear-gradient(135deg, #2A574108, #6B9E8015)\", border: \"1px solid #6B9E8040\", borderRadius: \"8px\", padding: \"8px 12px\", marginBottom: \"12px\", fontSize: \"12px\", color: C.forest, display: \"flex\", alignItems: \"center\", gap: \"8px\" }}>\n              <span>üî•</span>\n              <span><strong>Pattern history</strong> ‚Äî last {heatmapData.count} sessions. Badge = times marked.</span>\n            </div>\n          )}\n\n          <div style={{ display: \"flex\", gap: \"10px\", marginBottom: \"20px\", flexWrap: \"wrap\" }}>\n            {showHeatmap ? (\n              <>\n                <span style={{ fontSize: \"12px\", background: \"rgba(42,87,65,0.1)\", color: C.forest, padding: \"4px 12px\", borderRadius: \"20px\", fontWeight: \"600\" }}>üü¢ Consistent focus</span>\n                <span style={{ fontSize: \"12px\", background: \"rgba(239,68,68,0.1)\", color: \"#991B1B\", padding: \"4px 12px\", borderRadius: \"20px\", fontWeight: \"600\" }}>üî¥ Consistent avoid</span>\n              </>\n            ) : (\n              <>\n                <span style={{ fontSize: \"12px\", background: \"rgba(107,158,128,0.15)\", color: C.forest, padding: \"4px 12px\", borderRadius: \"20px\", fontWeight: \"500\" }}>üü¢ Focus</span>\n                <span style={{ fontSize: \"12px\", background: \"rgba(239,68,68,0.1)\", color: \"#991B1B\", padding: \"4px 12px\", borderRadius: \"20px\", fontWeight: \"500\" }}>üî¥ Avoid</span>\n              </>\n            )}\n          </div>\n\n          <div style={{ display: \"flex\", justifyContent: \"space-around\", marginBottom: \"20px\" }}>\n            <div style={{ textAlign: \"center\" }}>\n              <p style={{ fontSize: \"11px\", fontWeight: \"600\", color: C.gray, marginBottom: \"8px\", textTransform: \"uppercase\", letterSpacing: \"1px\" }}>Front</p>\n              <BodySVG focusAreas={session.front_focus || []} avoidAreas={session.front_avoid || []} heatmapFocus={heatmapData.frontFocus} heatmapAvoid={heatmapData.frontAvoid} showHeatmap={showHeatmap} />\n            </div>\n            <div style={{ textAlign: \"center\" }}>\n              <p style={{ fontSize: \"11px\", fontWeight: \"600\", color: C.gray, marginBottom: \"8px\", textTransform: \"uppercase\", letterSpacing: \"1px\" }}>Back</p>\n              <BodySVG focusAreas={session.back_focus || []} avoidAreas={session.back_avoid || []} heatmapFocus={heatmapData.backFocus} heatmapAvoid={heatmapData.backAvoid} showHeatmap={showHeatmap} />\n            </div>\n          </div>\n\n          {!showHeatmap && [...(session.front_focus||[]), ...(session.front_avoid||[]), ...(session.back_focus||[]), ...(session.back_avoid||[])].length > 0 && (\n            <div>\n              <p style={{ fontSize: \"12px\", color: C.gray, marginBottom: \"8px\", textTransform: \"uppercase\", letterSpacing: \"0.5px\" }}>Areas</p>\n              <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"6px\" }}>\n                {[...(session.front_focus||[]), ...(session.back_focus||[])].map((a, i) => (\n                  <span key={\"f\"+i} style={{ background: \"rgba(107,158,128,0.15)\", color: C.forest, padding: \"4px 10px\", borderRadius: \"20px\", fontSize: \"12px\", fontWeight: \"500\" }}>üü¢ {AREA_LABELS[a] || a}</span>\n                ))}\n                {[...(session.front_avoid||[]), ...(session.back_avoid||[])].map((a, i) => (\n                  <span key={\"a\"+i} style={{ background: \"rgba(239,68,68,0.1)\", color: \"#991B1B\", padding: \"4px 10px\", borderRadius: \"20px\", fontSize: \"12px\", fontWeight: \"500\" }}>üî¥ {AREA_LABELS[a] || a}</span>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {showHeatmap && (\n            <div>\n              <p style={{ fontSize: \"12px\", color: C.gray, marginBottom: \"8px\", textTransform: \"uppercase\", letterSpacing: \"0.5px\" }}>Top recurring areas</p>\n              <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"6px\" }}>\n                {Object.entries({ ...heatmapData.frontFocus, ...heatmapData.backFocus }).sort((a,b) => b[1].count - a[1].count).slice(0,5).map(([area, { count, total }]) => (\n                  <span key={\"hft-\"+area} style={{ background: \"rgba(42,87,65,0.1)\", color: C.forest, padding: \"4px 10px\", borderRadius: \"20px\", fontSize: \"12px\", fontWeight: \"700\", border: \"1px solid \" + C.sage + \"40\" }}>\n                    üü¢ {AREA_LABELS[area] || area} <span style={{ opacity: 0.7 }}>{count}/{total}</span>\n                  </span>\n                ))}\n                {Object.entries({ ...heatmapData.frontAvoid, ...heatmapData.backAvoid }).sort((a,b) => b[1].count - a[1].count).slice(0,3).map(([area, { count, total }]) => {\n                  if (heatmapData.frontFocus[area] || heatmapData.backFocus[area]) return null;\n                  return (\n                    <span key={\"hat-\"+area} style={{ background: \"rgba(239,68,68,0.1)\", color: \"#991B1B\", padding: \"4px 10px\", borderRadius: \"20px\", fontSize: \"12px\", fontWeight: \"700\", border: \"1px solid rgba(239,68,68,0.25)\" }}>\n                      üî¥ {AREA_LABELS[area] || area} <span style={{ opacity: 0.7 }}>{count}/{total}</span>\n                    </span>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div style={{ background:C.white, borderRadius:\"14px\", padding:\"24px\", border:\"1px solid #E8E4DC\", boxShadow:\"0 1px 4px rgba(0,0,0,0.05)\", marginTop:\"16px\" }}>\n        <h3 style={{ fontFamily:\"Georgia, serif\", fontSize:\"17px\", fontWeight:\"700\", color:C.darkGray, marginBottom:\"16px\" }}>üí¨ Client Feedback</h3>\n        {feedback ? (\n          <div>\n            <div style={{ display:\"grid\", gridTemplateColumns:\"1fr 1fr\", gap:\"10px\", marginBottom:\"12px\" }}>\n              {[\n                { label:\"Pressure\", value: feedback.pressure_rating ? feedback.pressure_rating.replace(/_/g,\" \") : null },\n                { label:\"Focus Areas\", value: feedback.focus_rating },\n                { label:\"Overall\", value: feedback.overall_rating ? feedback.overall_rating + \"/5 ‚≠ê\" : null },\n                { label:\"Communication\", value: feedback.communication_rating },\n                { label:\"Return\", value: feedback.return_likelihood },\n              ].filter(f => f.value).map((f, i) => (\n                <div key={i} style={{ background:C.beige, borderRadius:\"10px\", padding:\"10px 12px\" }}>\n                  <p style={{ fontSize:\"10px\", fontWeight:\"700\", color:C.gray, textTransform:\"uppercase\", margin:\"0 0 3px 0\" }}>{f.label}</p>\n                  <p style={{ fontSize:\"14px\", fontWeight:\"600\", color:C.darkGray, margin:0, textTransform:\"capitalize\" }}>{f.value}</p>\n                </div>\n              ))}\n            </div>\n            {feedback.client_comment && (\n              <div style={{ background:\"#FFFBEB\", borderRadius:\"10px\", padding:\"12px 14px\", border:\"1px solid #D97706\" }}>\n                <p style={{ fontSize:\"11px\", fontWeight:\"700\", color:\"#D97706\", margin:\"0 0 4px 0\" }}>üìù CLIENT COMMENT</p>\n                <p style={{ fontSize:\"13px\", color:C.darkGray, margin:0, fontStyle:\"italic\" }}>\"{feedback.client_comment}\"</p>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div>\n            <p style={{ fontSize:\"13px\", color:C.gray, marginBottom:\"14px\" }}>No feedback yet. Send this link to your client after the session.</p>\n            {feedbackLink && (\n              <div style={{ display:\"flex\", gap:8, alignItems:\"center\" }}>\n                <div style={{ flex:1, background:C.beige, borderRadius:\"8px\", padding:\"10px 12px\", fontSize:\"12px\", color:C.gray, overflow:\"hidden\", textOverflow:\"ellipsis\", whiteSpace:\"nowrap\" }}>{feedbackLink}</div>\n                <button onClick={copyLink} style={{ background:\"#2A5741\", color:\"#fff\", border:\"none\", padding:\"10px 16px\", borderRadius:\"8px\", fontSize:\"12px\", fontWeight:\"700\", cursor:\"pointer\", whiteSpace:\"nowrap\" }}>\n                  {linkCopied ? \"‚úì Copied!\" : \"Copy Link\"}\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      <style>{\"@media print { header, nav, button, .no-print { display: none !important; } body { background: white !important; font-size: 11px !important; } * { box-shadow: none !important; } h2 { font-size: 16px !important; } h3 { font-size: 13px !important; } svg { width: 100px !important; height: 160px !important; } }\"}</style>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}