{"ast":null,"code":"import _objectWithoutProperties from\"/Users/harshkumar/Documents/bodymap/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"/Users/harshkumar/Documents/bodymap/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"style\"],_excluded2=[\"style\"];// BodyMap v5.0 â€” Loyalty Program Â· 5-Dimension Review Â· AI Insights\nimport{useState,useEffect,useCallback}from\"react\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const C={bg:\"#F0EAD9\",cardBg:\"#FDFAF3\",green:\"#2A5741\",sage:\"#6B9E80\",sagePale:\"#D0E8D8\",sageMid:\"#A8CDBA\",focus:\"#3D8C55\",avoid:\"#B84A42\",skin:\"#E8D0B0\",skinDark:\"#C9A87A\",neutral:\"#C4B49A\",text:\"#1C3024\",textMid:\"#4A6154\",textLight:\"#7A9485\",border:\"#DDD5C0\",white:\"#FFFFFF\",shadow:\"rgba(42,87,65,0.10)\",aiGold:\"#B87840\",aiGoldPale:\"#F5EDD8\",aiGoldBorder:\"#D4B070\",gold:\"#D4AC4A\",goldPale:\"#FDF6DC\"};const F={display:\"'Cormorant Garamond', Georgia, serif\",body:\"'Nunito', 'Helvetica Neue', sans-serif\"};const SESSIONS_FOR_FREE=10;const PLABELS=[\"\",\"Feather\",\"Light\",\"Medium\",\"Firm\",\"Deep\"];const PLICONS=[\"\",\"ðŸª¶\",\"ðŸ˜Œ\",\"ðŸ‘Œ\",\"ðŸ’ª\",\"âš¡\"];const GOAL_LABELS={relax:\"Relaxation\",pain:\"Pain Relief\",athletic:\"Athletic Recovery\",stress:\"Stress Relief\",injury:\"Injury Rehab\"};const DEFAULT_PREFS={pressure:3,goal:\"relax\",tableTemp:\"warm\",roomTemp:\"comfortable\",music:\"soft\",lighting:\"dim\",conversation:\"quiet\",draping:\"standard\",oilPref:\"none\",medFlag:\"none\"};// Claude API\nconst SYSTEM=\"You are a wellness session preference observer for BodyMap. Notice patterns in self-reported preferences only.\\nRULES: Never diagnose. Never use: diagnosis, condition, injury, treatment, syndrome, disorder, symptom, prognosis, risk.\\nFrame everything as preference patterns: \\\"you tend to prefer\\\", \\\"your sessions show a pattern of\\\".\\nEnd every response with: \\\"\\u2728 These are observations from your personal session preferences only \\u2014 not medical advice.\\\"\";async function callClaude(prompt){try{var _d$content,_d$content$;const res=await fetch(\"https://api.anthropic.com/v1/messages\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({model:\"claude-sonnet-4-20250514\",max_tokens:1000,system:SYSTEM,messages:[{role:\"user\",content:prompt}]})});const d=await res.json();return((_d$content=d.content)===null||_d$content===void 0?void 0:(_d$content$=_d$content[0])===null||_d$content$===void 0?void 0:_d$content$.text)||null;}catch(_unused){return null;}}// Region data\nconst FRONT_REGIONS=[{id:\"f-head\",label:\"Head\",type:\"ellipse\",cx:100,cy:44,rx:27,ry:31},{id:\"f-neck\",label:\"Neck\",type:\"rect\",x:90,y:73,w:20,h:17,rx:7},{id:\"f-l-shldr\",label:\"L. Shoulder\",type:\"ellipse\",cx:62,cy:100,rx:19,ry:14},{id:\"f-r-shldr\",label:\"R. Shoulder\",type:\"ellipse\",cx:138,cy:100,rx:19,ry:14},{id:\"f-l-chest\",label:\"L. Chest\",type:\"rect\",x:78,y:91,w:23,h:29,rx:5},{id:\"f-r-chest\",label:\"R. Chest\",type:\"rect\",x:99,y:91,w:23,h:29,rx:5},{id:\"f-abdomen\",label:\"Abdomen\",type:\"rect\",x:77,y:119,w:46,h:33,rx:6},{id:\"f-l-arm-u\",label:\"L. Upper Arm\",type:\"rect\",x:46,y:110,w:18,h:46,rx:9},{id:\"f-r-arm-u\",label:\"R. Upper Arm\",type:\"rect\",x:136,y:110,w:18,h:46,rx:9},{id:\"f-l-forearm\",label:\"L. Forearm\",type:\"rect\",x:40,y:154,w:16,h:42,rx:8},{id:\"f-r-forearm\",label:\"R. Forearm\",type:\"rect\",x:144,y:154,w:16,h:42,rx:8},{id:\"f-l-hand\",label:\"L. Hand\",type:\"ellipse\",cx:48,cy:204,rx:10,ry:12},{id:\"f-r-hand\",label:\"R. Hand\",type:\"ellipse\",cx:152,cy:204,rx:10,ry:12},{id:\"f-l-hip\",label:\"L. Hip\",type:\"rect\",x:76,y:151,w:24,h:24,rx:6},{id:\"f-r-hip\",label:\"R. Hip\",type:\"rect\",x:100,y:151,w:24,h:24,rx:6},{id:\"f-l-thigh\",label:\"L. Thigh\",type:\"rect\",x:76,y:173,w:23,h:62,rx:9},{id:\"f-r-thigh\",label:\"R. Thigh\",type:\"rect\",x:101,y:173,w:23,h:62,rx:9},{id:\"f-l-knee\",label:\"L. Knee\",type:\"ellipse\",cx:87,cy:242,rx:13,ry:12},{id:\"f-r-knee\",label:\"R. Knee\",type:\"ellipse\",cx:113,cy:242,rx:13,ry:12},{id:\"f-l-calf\",label:\"L. Calf\",type:\"rect\",x:76,y:251,w:21,h:54,rx:9},{id:\"f-r-calf\",label:\"R. Calf\",type:\"rect\",x:103,y:251,w:21,h:54,rx:9},{id:\"f-l-foot\",label:\"L. Foot\",type:\"ellipse\",cx:84,cy:312,rx:17,ry:9},{id:\"f-r-foot\",label:\"R. Foot\",type:\"ellipse\",cx:116,cy:312,rx:17,ry:9}];const BACK_REGIONS=[{id:\"b-head\",label:\"Head\",type:\"ellipse\",cx:100,cy:44,rx:27,ry:31},{id:\"b-neck\",label:\"Neck\",type:\"rect\",x:90,y:73,w:20,h:17,rx:7},{id:\"b-l-shldr\",label:\"L. Shoulder\",type:\"ellipse\",cx:62,cy:100,rx:19,ry:14},{id:\"b-r-shldr\",label:\"R. Shoulder\",type:\"ellipse\",cx:138,cy:100,rx:19,ry:14},{id:\"b-upper-bk\",label:\"Upper Back\",type:\"rect\",x:77,y:90,w:46,h:29,rx:5},{id:\"b-mid-bk\",label:\"Mid Back\",type:\"rect\",x:77,y:118,w:46,h:28,rx:5},{id:\"b-lower-bk\",label:\"Lower Back\",type:\"rect\",x:77,y:145,w:46,h:26,rx:5},{id:\"b-l-arm-u\",label:\"L. Upper Arm\",type:\"rect\",x:46,y:110,w:18,h:46,rx:9},{id:\"b-r-arm-u\",label:\"R. Upper Arm\",type:\"rect\",x:136,y:110,w:18,h:46,rx:9},{id:\"b-l-forearm\",label:\"L. Forearm\",type:\"rect\",x:40,y:154,w:16,h:42,rx:8},{id:\"b-r-forearm\",label:\"R. Forearm\",type:\"rect\",x:144,y:154,w:16,h:42,rx:8},{id:\"b-l-hand\",label:\"L. Hand\",type:\"ellipse\",cx:48,cy:204,rx:10,ry:12},{id:\"b-r-hand\",label:\"R. Hand\",type:\"ellipse\",cx:152,cy:204,rx:10,ry:12},{id:\"b-l-glute\",label:\"L. Glute\",type:\"ellipse\",cx:89,cy:184,rx:17,ry:16},{id:\"b-r-glute\",label:\"R. Glute\",type:\"ellipse\",cx:111,cy:184,rx:17,ry:16},{id:\"b-l-hamstr\",label:\"L. Hamstring\",type:\"rect\",x:76,y:197,w:23,h:53,rx:9},{id:\"b-r-hamstr\",label:\"R. Hamstring\",type:\"rect\",x:101,y:197,w:23,h:53,rx:9},{id:\"b-l-knee\",label:\"L. Knee\",type:\"ellipse\",cx:87,cy:257,rx:13,ry:12},{id:\"b-r-knee\",label:\"R. Knee\",type:\"ellipse\",cx:113,cy:257,rx:13,ry:12},{id:\"b-l-calf\",label:\"L. Calf\",type:\"rect\",x:76,y:266,w:21,h:52,rx:9},{id:\"b-r-calf\",label:\"R. Calf\",type:\"rect\",x:103,y:266,w:21,h:52,rx:9},{id:\"b-l-foot\",label:\"L. Foot\",type:\"ellipse\",cx:84,cy:325,rx:17,ry:9},{id:\"b-r-foot\",label:\"R. Foot\",type:\"ellipse\",cx:116,cy:325,rx:17,ry:9}];const ALL_REGIONS=[...FRONT_REGIONS,...BACK_REGIONS];function buildPattern(sessions){var _Object$entries$sort$;if(!sessions.length)return null;const m={};sessions.forEach(s=>Object.entries(s.bodyMap||{}).forEach(_ref=>{let[id,st]=_ref;if(!m[id])m[id]={focus:0,avoid:0};m[id][st]=(m[id][st]||0)+1;}));const tf=Object.entries(m).filter(_ref2=>{let[,v]=_ref2;return v.focus>0;}).sort((_ref3,_ref4)=>{let[,a]=_ref3;let[,b]=_ref4;return b.focus-a.focus;}).slice(0,5).map(_ref5=>{var _ALL_REGIONS$find;let[id,v]=_ref5;return{label:((_ALL_REGIONS$find=ALL_REGIONS.find(r=>r.id===id))===null||_ALL_REGIONS$find===void 0?void 0:_ALL_REGIONS$find.label)||id,count:v.focus,pct:Math.round(v.focus/sessions.length*100)};});const ta=Object.entries(m).filter(_ref6=>{let[,v]=_ref6;return v.avoid>0;}).sort((_ref7,_ref8)=>{let[,a]=_ref7;let[,b]=_ref8;return b.avoid-a.avoid;}).slice(0,3).map(_ref9=>{var _ALL_REGIONS$find2;let[id,v]=_ref9;return{label:((_ALL_REGIONS$find2=ALL_REGIONS.find(r=>r.id===id))===null||_ALL_REGIONS$find2===void 0?void 0:_ALL_REGIONS$find2.label)||id,count:v.avoid,pct:Math.round(v.avoid/sessions.length*100)};});const ps=sessions.map(s=>{var _s$prefs;return(_s$prefs=s.prefs)===null||_s$prefs===void 0?void 0:_s$prefs.pressure;}).filter(Boolean);const avg=ps.length?Math.round(ps.reduce((a,b)=>a+b,0)/ps.length):3;const gs={};sessions.forEach(s=>{var _s$prefs2;if((_s$prefs2=s.prefs)!==null&&_s$prefs2!==void 0&&_s$prefs2.goal)gs[s.prefs.goal]=(gs[s.prefs.goal]||0)+1;});const tg=(_Object$entries$sort$=Object.entries(gs).sort((_ref0,_ref1)=>{let[,a]=_ref0;let[,b]=_ref1;return b-a;})[0])===null||_Object$entries$sort$===void 0?void 0:_Object$entries$sort$[0];return{topFocus:tf,topAvoid:ta,avgPressure:avg,topGoal:tg,total:sessions.length};}function getLoyalty(sessions){const paid=sessions.filter(s=>!s.isFreeSession).length;const cycleProgress=paid%SESSIONS_FOR_FREE;const nextFreeIn=SESSIONS_FOR_FREE-cycleProgress;const hasEarned=cycleProgress===0&&paid>0;return{paid,cycleProgress,nextFreeIn,hasEarned};}// SVG Body\nconst Sil=_ref10=>{let{isFront}=_ref10;const sk=C.skin,ol=C.skinDark,sw=1.2;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"ellipse\",{cx:\"100\",cy:\"44\",rx:\"28\",ry:\"32\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"90\",y:\"73\",width:\"20\",height:\"18\",rx:\"7\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"67\",y:\"87\",width:\"66\",height:\"75\",rx:\"13\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"71\",y:\"148\",width:\"58\",height:\"38\",rx:\"9\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"45\",y:\"108\",width:\"20\",height:\"48\",rx:\"10\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"135\",y:\"108\",width:\"20\",height:\"48\",rx:\"10\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"39\",y:\"154\",width:\"18\",height:\"44\",rx:\"9\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"143\",y:\"154\",width:\"18\",height:\"44\",rx:\"9\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"48\",cy:\"205\",rx:\"11\",ry:\"13\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"152\",cy:\"205\",rx:\"11\",ry:\"13\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"75\",y:\"183\",width:\"25\",height:\"65\",rx:\"11\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"100\",y:\"183\",width:\"25\",height:\"65\",rx:\"11\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"87\",cy:\"253\",rx:\"14\",ry:\"13\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"113\",cy:\"253\",rx:\"14\",ry:\"13\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"75\",y:\"262\",width:\"23\",height:\"56\",rx:\"11\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"rect\",{x:\"102\",y:\"262\",width:\"23\",height:\"56\",rx:\"11\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"84\",cy:\"325\",rx:\"18\",ry:\"10\",fill:sk,stroke:ol,strokeWidth:sw}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"116\",cy:\"325\",rx:\"18\",ry:\"10\",fill:sk,stroke:ol,strokeWidth:sw}),isFront?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ellipse\",{cx:\"93\",cy:\"42\",rx:\"3\",ry:\"3.5\",fill:ol,opacity:\"0.25\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"107\",cy:\"42\",rx:\"3\",ry:\"3.5\",fill:ol,opacity:\"0.25\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 94 52 Q 100 56 106 52\",stroke:ol,strokeWidth:\"1.5\",fill:\"none\",opacity:\"0.25\",strokeLinecap:\"round\"})]}):/*#__PURE__*/_jsx(\"path\",{d:\"M100,88 L100,218\",stroke:ol,strokeWidth:\"1\",strokeDasharray:\"3,5\",opacity:\"0.2\"})]});};const BR=_ref11=>{let{r,state,onToggle,readOnly}=_ref11;const fill=state===\"focus\"?C.focus:state===\"avoid\"?C.avoid:C.neutral;const s={fill,opacity:state?0.88:0.4,onClick:readOnly?undefined:()=>onToggle(r.id),style:{cursor:readOnly?\"default\":\"pointer\",transition:\"all 0.18s\"}};return r.type===\"ellipse\"?/*#__PURE__*/_jsx(\"ellipse\",_objectSpread(_objectSpread({},s),{},{cx:r.cx,cy:r.cy,rx:r.rx,ry:r.ry})):/*#__PURE__*/_jsx(\"rect\",_objectSpread(_objectSpread({},s),{},{x:r.x,y:r.y,width:r.w,height:r.h,rx:r.rx||0}));};const BMSVG=_ref12=>{var _regions$,_regions$$id;let{regions,selections,onToggle,readOnly=false,scale=1}=_ref12;const[tip,setTip]=useState(null);const front=(_regions$=regions[0])===null||_regions$===void 0?void 0:(_regions$$id=_regions$.id)===null||_regions$$id===void 0?void 0:_regions$$id.startsWith(\"f-\");return/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",userSelect:\"none\"},children:[/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 200 340\",style:{width:\"100%\",maxWidth:200*scale,display:\"block\",margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(Sil,{isFront:front}),regions.map(r=>/*#__PURE__*/_jsx(\"g\",{onMouseEnter:()=>!readOnly&&setTip(r.label),onMouseLeave:()=>setTip(null),children:/*#__PURE__*/_jsx(BR,{r:r,state:selections[r.id],onToggle:onToggle,readOnly:readOnly})},r.id))]}),tip&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",top:6,left:\"50%\",transform:\"translateX(-50%)\",background:C.green,color:\"#fff\",padding:\"4px 14px\",borderRadius:20,fontSize:12,fontFamily:F.body,fontWeight:700,pointerEvents:\"none\",whiteSpace:\"nowrap\",zIndex:9},children:tip})]});};const Mini=_ref13=>{let{regions,selections,label}=_ref13;return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",flex:1},children:[label&&/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:11,fontWeight:800,color:C.textLight,marginBottom:4,letterSpacing:1,textTransform:\"uppercase\"},children:label}),/*#__PURE__*/_jsx(BMSVG,{regions:regions,selections:selections,onToggle:()=>{},readOnly:true,scale:0.54})]});};// UI primitives\nconst Card=_ref14=>{let{children,style={},onClick}=_ref14;return/*#__PURE__*/_jsx(\"div\",{onClick:onClick,style:_objectSpread({background:C.cardBg,borderRadius:20,padding:18,boxShadow:\"0 4px 18px \".concat(C.shadow),marginBottom:12,cursor:onClick?\"pointer\":\"default\"},style),children:children});};const Btn=_ref15=>{let{children,onClick,ghost=false,disabled=false,style={}}=_ref15;return/*#__PURE__*/_jsx(\"button\",{onClick:disabled?undefined:onClick,style:_objectSpread({background:ghost?\"transparent\":disabled?C.border:C.green,color:ghost?C.textMid:disabled?C.textLight:\"#fff\",border:ghost?\"2px solid \".concat(C.border):\"none\",padding:\"14px 22px\",borderRadius:50,fontFamily:F.body,fontSize:14,fontWeight:800,cursor:disabled?\"not-allowed\":\"pointer\",transition:\"all 0.2s\",boxShadow:!ghost&&!disabled?\"0 4px 14px \".concat(C.shadow):\"none\",flex:1},style),children:children});};const Inp=_ref16=>{let{style={}}=_ref16,p=_objectWithoutProperties(_ref16,_excluded);return/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},p),{},{style:_objectSpread({fontFamily:F.body,border:\"2px solid \".concat(C.border),borderRadius:12,padding:\"12px 14px\",fontSize:15,width:\"100%\",color:C.text,background:C.white,outline:\"none\",boxSizing:\"border-box\"},style)}));};const TA=_ref17=>{let{style={}}=_ref17,p=_objectWithoutProperties(_ref17,_excluded2);return/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({},p),{},{style:_objectSpread({fontFamily:F.body,border:\"2px solid \".concat(C.border),borderRadius:12,padding:\"12px 14px\",fontSize:14,width:\"100%\",color:C.text,background:C.white,outline:\"none\",resize:\"vertical\",minHeight:80,boxSizing:\"border-box\",lineHeight:1.6},style)}));};const PT=_ref18=>{let{icon,label,selected,onClick}=_ref18;return/*#__PURE__*/_jsxs(\"button\",{onClick:onClick,style:{flex:1,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",gap:5,padding:\"11px 4px\",borderRadius:14,border:\"2px solid \".concat(selected?C.green:C.border),background:selected?C.sagePale:C.white,cursor:\"pointer\",transition:\"all 0.2s\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:20},children:icon}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:10,fontWeight:800,color:selected?C.green:C.textLight,fontFamily:F.body,textAlign:\"center\",lineHeight:1.2},children:label})]});};const PS=_ref19=>{let{icon,title}=_ref19;return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:7,marginBottom:9},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:15},children:icon}),/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green},children:title})]});};const Slider=_ref20=>{let{value,onChange}=_ref20;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:6},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:F.body,fontSize:11,color:C.textLight},children:\"\\uD83E\\uDEB6 Feather\"}),/*#__PURE__*/_jsxs(\"span\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green},children:[PLICONS[value],\" \",PLABELS[value]]}),/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:F.body,fontSize:11,color:C.textLight},children:\"\\u26A1 Deep\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:1,max:5,value:value,onChange:e=>onChange(+e.target.value),style:{width:\"100%\",accentColor:C.green,cursor:\"pointer\"}}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginTop:5},children:[1,2,3,4,5].map(n=>/*#__PURE__*/_jsx(\"div\",{style:{width:8,height:8,borderRadius:\"50%\",background:n<=value?C.green:C.border,transition:\"background 0.2s\"}},n))})]});};const Step=_ref21=>{let{step}=_ref21;const steps=[\"Front\",\"Back\",\"Preferences\"];return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",marginBottom:22},children:steps.map((l,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",gap:4},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:30,height:30,borderRadius:\"50%\",fontFamily:F.body,background:i+1<step?C.sage:i+1===step?C.green:C.border,color:i+1<=step?\"#fff\":C.textLight,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:12,fontWeight:800,boxShadow:i+1===step?\"0 0 0 4px \".concat(C.sagePale):\"none\"},children:i+1<step?\"âœ“\":i+1}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:10,fontWeight:700,fontFamily:F.body,color:i+1<=step?C.green:C.textLight},children:l})]}),i<steps.length-1&&/*#__PURE__*/_jsx(\"div\",{style:{width:40,height:2,background:i+1<step?C.sage:C.border,marginBottom:14}})]},i))});};const MT=_ref22=>{let{mode,setMode}=_ref22;return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",background:\"#E2D9CB\",borderRadius:50,padding:4,marginBottom:12},children:[{v:\"focus\",e:\"ðŸŸ¢\",l:\"Focus Here\",a:C.focus},{v:\"avoid\",e:\"ðŸ”´\",l:\"Avoid\",a:C.avoid}].map(_ref23=>{let{v,e,l,a}=_ref23;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setMode(v),style:{flex:1,padding:\"10px 8px\",borderRadius:50,border:\"none\",fontFamily:F.body,fontSize:13,fontWeight:700,cursor:\"pointer\",background:mode===v?a:\"transparent\",color:mode===v?\"#fff\":C.textLight,transition:\"all 0.2s\"},children:[e,\" \",l]},v);})});};const AT=_ref24=>{let{regions,selections}=_ref24;const sel=regions.filter(r=>selections[r.id]);if(!sel.length)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12,padding:\"10px 12px\",background:C.sagePale,borderRadius:12},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:C.green,marginBottom:6,textTransform:\"uppercase\"},children:\"Selected:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:5},children:sel.map(r=>/*#__PURE__*/_jsxs(\"span\",{style:{background:selections[r.id]===\"focus\"?C.focus:C.avoid,color:\"#fff\",padding:\"3px 9px\",borderRadius:20,fontSize:11,fontWeight:700,fontFamily:F.body},children:[selections[r.id]===\"focus\"?\"ðŸŸ¢\":\"ðŸ”´\",\" \",r.label]},r.id))})]});};// AI UI\nconst Shimmer=()=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"16px 0\"},children:[[80,95,70,88].map((w,i)=>/*#__PURE__*/_jsx(\"div\",{style:{height:12,background:\"linear-gradient(90deg,\".concat(C.aiGoldPale,\" 25%,#EDE0C8 50%,\").concat(C.aiGoldPale,\" 75%)\"),backgroundSize:\"200% 100%\",borderRadius:6,marginBottom:10,width:\"\".concat(w,\"%\"),animation:\"shimmer 1.5s infinite\"}},i)),/*#__PURE__*/_jsx(\"style\",{children:\"@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}\"})]});const AIC=_ref25=>{let{children,style={}}=_ref25;return/*#__PURE__*/_jsx(\"div\",{style:_objectSpread({background:\"linear-gradient(135deg,\".concat(C.aiGoldPale,\" 0%,#FDF6E8 100%)\"),border:\"1.5px solid \".concat(C.aiGoldBorder),borderRadius:20,padding:18,marginBottom:12,boxShadow:\"0 4px 20px rgba(184,120,64,0.12)\"},style),children:children});};const AIB=_ref26=>{let{label=\"AI Insight\"}=_ref26;return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:7,marginBottom:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:26,height:26,borderRadius:\"50%\",background:C.aiGold,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:14},children:\"\\u2726\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:F.body,fontSize:11,fontWeight:800,color:C.aiGold,textTransform:\"uppercase\",letterSpacing:1},children:label})]});};// Loyalty bar (client-facing)\nconst LoyaltyBar=_ref27=>{let{sessions}=_ref27;const{paid,cycleProgress,nextFreeIn,hasEarned}=getLoyalty(sessions);if(!paid)return null;if(hasEarned)return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg,\".concat(C.gold,\" 0%,#E8C84A 100%)\"),borderRadius:20,padding:18,marginBottom:12,boxShadow:\"0 4px 20px rgba(212,172,74,0.3)\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:12,marginBottom:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:36},children:\"\\uD83C\\uDF81\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.display,fontSize:22,fontWeight:600,color:C.text,marginBottom:4},children:\"You've earned a free session!\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:C.textMid},children:\"Show this to your therapist to redeem your complimentary session.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"rgba(255,255,255,0.5)\",borderRadius:12,padding:\"10px 14px\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,fontWeight:800,color:C.text},children:\"\\uD83C\\uDD93 1 FREE SESSION READY TO REDEEM\"})})]});return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.goldPale,border:\"1.5px solid \".concat(C.gold,\"40\"),borderRadius:20,padding:18,marginBottom:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18},children:\"\\uD83C\\uDF81\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.text},children:\"Loyalty Reward\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:11,color:C.textLight},children:[nextFreeIn,\" session\",nextFreeIn!==1?\"s\":\"\",\" until your free session\"]})]})]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.display,fontSize:24,fontWeight:600,color:C.aiGold},children:[cycleProgress,/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:14,color:C.textLight},children:[\"/\",SESSIONS_FOR_FREE]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:6,alignItems:\"center\"},children:[Array.from({length:SESSIONS_FOR_FREE}).map((_,i)=>/*#__PURE__*/_jsx(\"div\",{style:{flex:1,height:10,borderRadius:5,background:i<cycleProgress?\"linear-gradient(90deg,\".concat(C.aiGold,\",\").concat(C.gold,\")\"):C.border,transition:\"background 0.3s\"}},i)),/*#__PURE__*/_jsx(\"div\",{style:{width:28,height:28,borderRadius:\"50%\",background:cycleProgress===SESSIONS_FOR_FREE?C.gold:C.border,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:14,flexShrink:0},children:\"\\uD83C\\uDF81\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:11,color:C.textLight,marginTop:8,textAlign:\"center\"},children:[\"Every \",SESSIONS_FOR_FREE,\" sessions = 1 complimentary session\"]})]});};// Loyalty alert (therapist-facing)\nconst TherapistLoyalty=_ref28=>{let{sessions,clientName}=_ref28;const{paid,cycleProgress,nextFreeIn,hasEarned}=getLoyalty(sessions);if(!paid)return null;if(hasEarned)return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg,\".concat(C.gold,\" 0%,#E8C84A 100%)\"),borderRadius:16,padding:16,marginBottom:12,boxShadow:\"0 4px 16px rgba(212,172,74,0.3)\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:10,marginBottom:10},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:28},children:\"\\uD83C\\uDF81\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.text},children:\"Free Session Earned!\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textMid},children:[clientName,\" has completed \",paid,\" paid sessions\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"rgba(255,255,255,0.6)\",borderRadius:10,padding:\"10px 14px\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.text},children:\"\\uD83C\\uDD93 This session is complimentary\"}),/*#__PURE__*/_jsx(\"button\",{style:{background:C.green,color:\"#fff\",border:\"none\",padding:\"6px 14px\",borderRadius:50,fontFamily:F.body,fontSize:11,fontWeight:800,cursor:\"pointer\"},children:\"Mark Redeemed\"})]})]});return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.goldPale,border:\"1.5px solid \".concat(C.gold,\"40\"),borderRadius:14,padding:13,marginBottom:12,display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18},children:\"\\uD83C\\uDF81\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:12,fontWeight:800,color:C.text},children:[cycleProgress,\" of \",SESSIONS_FOR_FREE,\" sessions\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:11,color:C.textLight},children:[nextFreeIn,\" more until \",clientName,\"'s free session\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:4},children:Array.from({length:SESSIONS_FOR_FREE}).map((_,i)=>/*#__PURE__*/_jsx(\"div\",{style:{width:10,height:10,borderRadius:\"50%\",background:i<cycleProgress?C.aiGold:C.border}},i))})]});};// AI brief for therapist\nconst AIBrief=_ref29=>{let{clientInfo,bodyMap,prefs,notes,sessions}=_ref29;const[brief,setBrief]=useState(null);const[loading,setLoading]=useState(false);const[done,setDone]=useState(false);const gen=async()=>{setLoading(true);const focus=ALL_REGIONS.filter(r=>bodyMap[r.id]===\"focus\").map(r=>r.label);const avoid=ALL_REGIONS.filter(r=>bodyMap[r.id]===\"avoid\").map(r=>r.label);const p=buildPattern(sessions);const prompt=\"Professional massage therapist session brief. Client: \".concat(clientInfo.name,\". Focus: \").concat(focus.join(\", \")||\"none\",\". Avoid: \").concat(avoid.join(\", \")||\"none\",\". Pressure: \").concat(PLABELS[prefs.pressure],\". Goal: \").concat(GOAL_LABELS[prefs.goal]||\"Relaxation\",\". Conversation: \").concat(prefs.conversation,\". \").concat(notes?\"Notes: \\\"\".concat(notes,\"\\\".\"):\"\").concat(prefs.medFlag===\"yes\"&&prefs.medNote?\"Area of awareness: \\\"\".concat(prefs.medNote,\"\\\".\"):\"\").concat(p&&sessions.length>=2?\"History: \".concat(sessions.length,\" sessions. Top focus: \").concat(p.topFocus.slice(0,3).map(f=>\"\".concat(f.label,\" \").concat(f.pct,\"%\")).join(\", \"),\".\"):\"\",\" Write warm professional 3-4 sentence brief. Never diagnose.\");const r=await callClaude(prompt);setBrief(r);setLoading(false);setDone(true);};return/*#__PURE__*/_jsxs(AIC,{children:[/*#__PURE__*/_jsx(AIB,{label:\"AI Session Brief\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textMid,marginBottom:14},children:\"AI-generated overview from intake & session history\"}),!done&&!loading&&/*#__PURE__*/_jsx(\"button\",{onClick:gen,style:{background:C.aiGold,color:\"#fff\",border:\"none\",padding:\"12px 20px\",borderRadius:50,fontFamily:F.body,fontSize:13,fontWeight:800,cursor:\"pointer\",width:\"100%\"},children:\"\\u2726 Generate Session Brief\"}),loading&&/*#__PURE__*/_jsx(Shimmer,{}),brief&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:14,color:C.text,lineHeight:1.8,fontStyle:\"italic\"},children:brief}),/*#__PURE__*/_jsx(\"button\",{onClick:gen,style:{background:\"transparent\",border:\"1px solid \".concat(C.aiGoldBorder),color:C.aiGold,padding:\"7px 14px\",borderRadius:50,fontFamily:F.body,fontSize:12,fontWeight:700,cursor:\"pointer\",marginTop:10},children:\"\\u21BA Regenerate\"})]})]});};// AI wellness insights (client-facing)\nconst Insights=_ref30=>{let{sessions,clientName}=_ref30;const[ins,setIns]=useState(null);const[loading,setLoading]=useState(false);const[done,setDone]=useState(false);const gen=useCallback(async()=>{if(sessions.length<2)return;setLoading(true);const p=buildPattern(sessions);const ps=sessions.slice(0,5).map(s=>{var _s$prefs3;return(_s$prefs3=s.prefs)===null||_s$prefs3===void 0?void 0:_s$prefs3.pressure;}).filter(Boolean);const trend=ps.length>1&&ps[0]>ps[ps.length-1]?\"lighter\":ps.length>1&&ps[0]<ps[ps.length-1]?\"deeper\":\"consistent\";const prompt=\"Wellness pattern observations for \".concat(clientName||\"this person\",\". \").concat(sessions.length,\" sessions. Focus: \").concat(p===null||p===void 0?void 0:p.topFocus.slice(0,4).map(f=>\"\".concat(f.label,\" \").concat(f.count,\"/\").concat(sessions.length,\" sessions\")).join(\", \"),\". Avoid: \").concat((p===null||p===void 0?void 0:p.topAvoid.slice(0,3).map(a=>\"\".concat(a.label,\" \").concat(a.pct,\"%\")).join(\", \"))||\"none\",\". Pressure: \").concat(PLABELS[(p===null||p===void 0?void 0:p.avgPressure)||3],\", trending \").concat(trend,\". Write 2-3 warm curious observations as wellness companion. 4-5 sentences. End with disclaimer.\");const r=await callClaude(prompt);setIns(r);setLoading(false);setDone(true);},[sessions,clientName]);if(sessions.length<2)return/*#__PURE__*/_jsxs(AIC,{children:[/*#__PURE__*/_jsx(AIB,{label:\"Wellness Intelligence\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:C.textMid},children:\"Complete 2+ sessions to unlock your personal wellness pattern insights.\"})]});return/*#__PURE__*/_jsxs(AIC,{children:[/*#__PURE__*/_jsx(AIB,{label:\"Wellness Intelligence\"}),/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.aiGold,marginBottom:4,textTransform:\"uppercase\"},children:\"Your Wellness Patterns\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textMid,marginBottom:14},children:[\"AI observations from your \",sessions.length,\" sessions \\u2014 not medical advice\"]}),!done&&!loading&&/*#__PURE__*/_jsx(\"button\",{onClick:gen,style:{background:C.aiGold,color:\"#fff\",border:\"none\",padding:\"12px 20px\",borderRadius:50,fontFamily:F.body,fontSize:13,fontWeight:800,cursor:\"pointer\",width:\"100%\"},children:\"\\u2726 Reveal My Wellness Patterns\"}),loading&&/*#__PURE__*/_jsx(Shimmer,{}),ins&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:14,color:C.text,lineHeight:1.9},children:ins}),/*#__PURE__*/_jsx(\"button\",{onClick:gen,style:{background:\"transparent\",border:\"1px solid \".concat(C.aiGoldBorder),color:C.aiGold,padding:\"7px 14px\",borderRadius:50,fontFamily:F.body,fontSize:11,fontWeight:700,cursor:\"pointer\",marginTop:10},children:\"\\u21BA Refresh\"})]})]});};// Smart pre-fill\nconst PreFill=_ref31=>{var _last$clientInfo;let{sessions,onPreFill}=_ref31;if(!sessions.length)return null;const last=sessions[0];const fc=Object.values(last.bodyMap||{}).filter(v=>v===\"focus\").length;const d=Math.floor((Date.now()-new Date(last.date))/86400000);return/*#__PURE__*/_jsxs(AIC,{style:{marginBottom:14},children:[/*#__PURE__*/_jsx(AIB,{label:\"Smart Session Start\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"flex-start\",marginBottom:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:13,fontWeight:700,color:C.text,marginBottom:4},children:[\"Welcome back\",(_last$clientInfo=last.clientInfo)!==null&&_last$clientInfo!==void 0&&_last$clientInfo.name?\", \".concat(last.clientInfo.name):\"\",\"!\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textMid},children:[\"Last session\",\" \",d===0?\"today\":d===1?\"yesterday\":\"\".concat(d,\" days ago\"),\" \\xB7 \",fc,\" \",\"focus area\",fc!==1?\"s\":\"\"]})]}),/*#__PURE__*/_jsx(Mini,{regions:FRONT_REGIONS,selections:last.bodyMap||{},label:\"\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onPreFill(last),style:{background:C.aiGold,color:\"#fff\",border:\"none\",padding:\"11px 18px\",borderRadius:50,fontFamily:F.body,fontSize:13,fontWeight:800,cursor:\"pointer\",width:\"100%\"},children:\"\\u2726 Start from Last Session's Preferences\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:11,color:C.textLight,textAlign:\"center\",marginTop:8},children:\"Pre-fills your map and preferences \\u2014 modify anything\"})]});};// Pattern prediction\nconst Prediction=_ref32=>{let{sessions,onApply}=_ref32;if(sessions.length<3)return null;const p=buildPattern(sessions);if(!p||!p.topFocus.length)return null;const top=p.topFocus[0];const cc=top.pct>=80?C.focus:top.pct>=60?C.aiGold:C.sage;const cl=top.pct>=80?\"Strong pattern\":top.pct>=60?\"Clear pattern\":\"Emerging pattern\";return/*#__PURE__*/_jsxs(AIC,{children:[/*#__PURE__*/_jsx(AIB,{label:\"Session Intelligence\"}),/*#__PURE__*/_jsxs(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.aiGold,marginBottom:12,textTransform:\"uppercase\"},children:[\"Based on your \",sessions.length,\" sessions\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"rgba(255,255,255,0.6)\",borderRadius:14,padding:\"12px 14px\",marginBottom:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:6},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,fontWeight:800,color:C.textMid},children:\"Most Chosen Focus Area\"}),/*#__PURE__*/_jsx(\"span\",{style:{background:cc,color:\"#fff\",fontSize:10,fontWeight:800,padding:\"2px 8px\",borderRadius:20,fontFamily:F.body},children:cl})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:10},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.display,fontSize:22,fontWeight:600,color:C.green,flex:1},children:top.label}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:20,fontWeight:800,color:cc},children:[top.pct,\"%\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,color:C.textLight},children:\"of sessions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:6,background:C.border,borderRadius:3,marginTop:8},children:/*#__PURE__*/_jsx(\"div\",{style:{height:\"100%\",width:\"\".concat(top.pct,\"%\"),background:\"linear-gradient(90deg,\".concat(C.focus,\",\").concat(C.sage,\")\"),borderRadius:3}})})]}),p.topFocus.length>1&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:12},children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:6},children:p.topFocus.slice(0,5).map(f=>/*#__PURE__*/_jsxs(\"span\",{style:{background:\"\".concat(C.focus,\"18\"),color:C.focus,border:\"1px solid \".concat(C.focus,\"30\"),padding:\"4px 10px\",borderRadius:20,fontSize:11,fontWeight:700,fontFamily:F.body},children:[\"\\uD83D\\uDFE2 \",f.label,\" \\xB7 \",f.pct,\"%\"]},f.label))})}),/*#__PURE__*/_jsx(\"button\",{onClick:onApply,style:{background:C.green,color:\"#fff\",border:\"none\",padding:\"12px 20px\",borderRadius:50,fontFamily:F.body,fontSize:13,fontWeight:800,cursor:\"pointer\",width:\"100%\"},children:\"\\u2726 Pre-fill from My Patterns\"})]});};// â”€â”€ 5-DIMENSION REVIEW â”€â”€\nconst DIMS=[{id:\"pressure\",icon:\"ðŸ’†\",label:\"Pressure Match\",q:\"Did the pressure match what you asked for?\",opts:[{v:1,e:\"ðŸ˜£\",l:\"Way off\"},{v:2,e:\"ðŸ˜•\",l:\"A bit off\"},{v:3,e:\"ðŸ˜Š\",l:\"Pretty good\"},{v:4,e:\"ðŸ˜Œ\",l:\"Just right\"},{v:5,e:\"ðŸ¤©\",l:\"Perfect\"}]},{id:\"focus\",icon:\"ðŸŽ¯\",label:\"Focus Accuracy\",q:\"Did your therapist work on the right areas?\",opts:[{v:1,e:\"ðŸ˜ž\",l:\"Missed them\"},{v:2,e:\"ðŸ˜\",l:\"Partially\"},{v:3,e:\"ðŸ™‚\",l:\"Mostly yes\"},{v:4,e:\"ðŸ˜„\",l:\"Very accurate\"},{v:5,e:\"â­\",l:\"Spot on\"}]},{id:\"comfort\",icon:\"ðŸ›¡ï¸\",label:\"Comfort & Communication\",q:\"Did you feel comfortable and heard?\",opts:[{v:1,e:\"ðŸ˜°\",l:\"Uncomfortable\"},{v:2,e:\"ðŸ˜Ÿ\",l:\"Somewhat\"},{v:3,e:\"ðŸ˜Œ\",l:\"Fairly good\"},{v:4,e:\"ðŸ¥°\",l:\"Very at ease\"},{v:5,e:\"ðŸ’š\",l:\"Completely\"}]},{id:\"atmosphere\",icon:\"ðŸŒ¿\",label:\"Atmosphere\",q:\"Music, lighting, temperature â€” how was the setting?\",opts:[{v:1,e:\"ðŸ˜©\",l:\"Distracting\"},{v:2,e:\"ðŸ˜‘\",l:\"Okay\"},{v:3,e:\"ðŸ™‚\",l:\"Good\"},{v:4,e:\"ðŸ˜Š\",l:\"Very nice\"},{v:5,e:\"âœ¨\",l:\"Heavenly\"}]},{id:\"overall\",icon:\"ðŸŒŸ\",label:\"Overall Experience\",q:\"How do you feel walking out?\",opts:[{v:1,e:\"ðŸ˜”\",l:\"Disappointed\"},{v:2,e:\"ðŸ˜\",l:\"Fine\"},{v:3,e:\"ðŸ™‚\",l:\"Good\"},{v:4,e:\"ðŸ˜„\",l:\"Really good\"},{v:5,e:\"ðŸš€\",l:\"Amazing\"}]}];const DimRater=_ref33=>{let{dim,value,onChange}=_ref33;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:20},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:8,marginBottom:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18},children:dim.icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green},children:dim.label}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textLight},children:dim.q})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:5},children:dim.opts.map(o=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onChange(dim.id,o.v),style:{flex:1,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",gap:4,padding:\"10px 2px\",borderRadius:14,border:\"none\",background:value===o.v?\"\".concat(C.focus,\"20\"):\"rgba(255,255,255,0.7)\",outline:\"2px solid \".concat(value===o.v?C.focus:\"transparent\"),cursor:\"pointer\",transition:\"all 0.18s\",transform:value===o.v?\"scale(1.05)\":\"scale(1)\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:24},children:o.e}),/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:F.body,fontSize:9,fontWeight:800,color:value===o.v?C.focus:C.textLight,textAlign:\"center\",lineHeight:1.2},children:o.l})]},o.v))}),value>0&&/*#__PURE__*/_jsx(\"div\",{style:{height:3,background:C.border,borderRadius:2,marginTop:8},children:/*#__PURE__*/_jsx(\"div\",{style:{height:\"100%\",width:\"\".concat(value/5*100,\"%\"),background:\"linear-gradient(90deg,\".concat(C.sage,\",\").concat(C.focus,\")\"),borderRadius:2,transition:\"width 0.3s\"}})})]});};const ReviewScreen=_ref34=>{let{clientInfo,onDone}=_ref34;const[ratings,setR]=useState({});const[returning,setRet]=useState(null);const[note,setNote]=useState(\"\");const[submitted,setSub]=useState(false);const setRating=(id,v)=>setR(r=>_objectSpread(_objectSpread({},r),{},{[id]:v}));const allRated=DIMS.every(d=>ratings[d.id]);const avg=allRated?Math.round(Object.values(ratings).reduce((a,b)=>a+b,0)/DIMS.length):0;const OC=[\"\",\"#E57373\",\"#FFA726\",\"#66BB6A\",\"#42A5F5\",\"#AB47BC\"];const OL=[\"\",\"Needs work\",\"Getting there\",\"Good session\",\"Great session\",\"Exceptional!\"];const submit=()=>{try{const r=JSON.parse(localStorage.getItem(\"bodymap-reviews\")||\"[]\");r.unshift({id:Date.now(),client:clientInfo.name,ratings,avg,returning,note,date:new Date().toISOString()});localStorage.setItem(\"bodymap-reviews\",JSON.stringify(r));}catch(_unused2){}setSub(true);};if(submitted)return/*#__PURE__*/_jsx(\"div\",{style:{background:C.bg,padding:\"60px 20px\",minHeight:\"100vh\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",maxWidth:380},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:60,marginBottom:16},children:\"\\uD83C\\uDF3F\"}),/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:F.display,fontSize:36,fontWeight:600,color:C.green,marginBottom:8},children:\"Thank you!\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:15,color:C.textMid,marginBottom:28,lineHeight:1.7},children:\"Your detailed feedback helps your therapist grow their practice.\"}),/*#__PURE__*/_jsxs(Card,{style:{background:C.sagePale,marginBottom:20},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:11,fontWeight:800,color:C.textLight,textTransform:\"uppercase\",marginBottom:14},children:\"Your Feedback Summary\"}),DIMS.map(d=>{var _d$opts$find;return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:16},children:d.icon}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.text},children:d.label})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:6},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:20},children:((_d$opts$find=d.opts.find(o=>o.v===ratings[d.id]))===null||_d$opts$find===void 0?void 0:_d$opts$find.e)||\"â€”\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:40,height:6,background:C.border,borderRadius:3},children:/*#__PURE__*/_jsx(\"div\",{style:{height:\"100%\",width:\"\".concat((ratings[d.id]||0)/5*100,\"%\"),background:C.focus,borderRadius:3}})})]})]},d.id);}),avg>0&&/*#__PURE__*/_jsxs(\"div\",{style:{borderTop:\"1px solid \".concat(C.border),paddingTop:12,marginTop:4,display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green},children:\"Overall\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.display,fontSize:20,fontWeight:600,color:OC[avg]},children:OL[avg]})]})]}),/*#__PURE__*/_jsx(Btn,{onClick:onDone,style:{width:\"100%\"},children:\"Back to Home \\uD83C\\uDFE0\"})]})});return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.bg,padding:\"24px 20px 60px\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginBottom:24},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:F.display,fontSize:34,fontWeight:600,color:C.green},children:\"How was your session?\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:C.textLight,marginTop:6},children:\"5 quick ratings across what matters most\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:5,marginBottom:16},children:DIMS.map(d=>/*#__PURE__*/_jsx(\"div\",{style:{flex:1,height:4,borderRadius:2,background:ratings[d.id]?C.focus:C.border,transition:\"background 0.3s\"}},d.id))}),allRated&&/*#__PURE__*/_jsxs(\"div\",{style:{background:OC[avg]+\"18\",border:\"2px solid \".concat(OC[avg],\"40\"),borderRadius:16,padding:\"14px 18px\",marginBottom:16,textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.display,fontSize:24,fontWeight:600,color:OC[avg]},children:OL[avg]}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textMid,marginTop:4},children:\"Average across all dimensions\"})]}),/*#__PURE__*/_jsx(Card,{children:DIMS.map(d=>/*#__PURE__*/_jsx(DimRater,{dim:d,value:ratings[d.id]||0,onChange:setRating},d.id))}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\uD83D\\uDD04\",title:\"Would you return?\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:8},children:[{v:true,i:\"ðŸ’š\",l:\"Absolutely\"},{v:\"maybe\",i:\"ðŸ¤”\",l:\"Maybe\"},{v:false,i:\"âŒ\",l:\"Probably not\"}].map(_ref35=>{let{v,i,l}=_ref35;return/*#__PURE__*/_jsx(PT,{icon:i,label:l,selected:returning===v,onClick:()=>setRet(v)},l);})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\u270D\\uFE0F\",title:\"Anything else? (optional)\"}),/*#__PURE__*/_jsx(TA,{placeholder:\"What you loved, or suggestions for next time...\",value:note,onChange:e=>setNote(e.target.value),style:{minHeight:90}})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:C.sagePale,borderRadius:14,padding:\"11px 15px\",marginBottom:16},children:/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textMid},children:[\"\\uD83D\\uDD12 Shared with your therapist only. Your name\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:clientInfo.name}),\" will be visible.\"]})}),/*#__PURE__*/_jsx(Btn,{onClick:submit,disabled:!allRated,style:{width:\"100%\"},children:allRated?\"Submit Feedback âœ“\":\"Rate all 5 dimensions to submit\"})]});};// Preferences screen\nconst PrefScreen=_ref36=>{let{prefs,setPrefs,notes,setNotes,consent,setConsent,onNext,onBack}=_ref36;const upd=(k,v)=>setPrefs(p=>_objectSpread(_objectSpread({},p),{},{[k]:v}));return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.bg,padding:\"18px 20px 60px\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsx(Step,{step:3}),/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:F.display,fontSize:26,fontWeight:600,color:C.green,textAlign:\"center\",marginBottom:4},children:\"Your Preferences\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:C.textLight,textAlign:\"center\",marginBottom:18},children:\"Help your therapist create the perfect session\"}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\uD83D\\uDC86\",title:\"Pressure\"}),/*#__PURE__*/_jsx(Slider,{value:prefs.pressure,onChange:v=>upd(\"pressure\",v)})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\uD83C\\uDFAF\",title:\"Session Goal\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6},children:[{v:\"relax\",i:\"ðŸ˜Œ\",l:\"Relax\"},{v:\"pain\",i:\"ðŸ’Š\",l:\"Pain Relief\"},{v:\"athletic\",i:\"ðŸƒ\",l:\"Athletic\"},{v:\"stress\",i:\"ðŸ§˜\",l:\"Stress\"},{v:\"injury\",i:\"ðŸ©¹\",l:\"Rehab\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.goal===o.v,onClick:()=>upd(\"goal\",o.v)},o.v))})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\uD83C\\uDF21\\uFE0F\",title:\"Table Temperature\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6,marginBottom:16},children:[{v:\"cool\",i:\"â„ï¸\",l:\"Cool\"},{v:\"neutral\",i:\"ðŸ˜Š\",l:\"Neutral\"},{v:\"warm\",i:\"â˜€ï¸\",l:\"Warm\"},{v:\"hot\",i:\"ðŸ”¥\",l:\"Hot\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.tableTemp===o.v,onClick:()=>upd(\"tableTemp\",o.v)},o.v))}),/*#__PURE__*/_jsx(PS,{icon:\"\\uD83C\\uDF3F\",title:\"Room Temperature\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6},children:[{v:\"cool\",i:\"ðŸŒ¬ï¸\",l:\"Cool\"},{v:\"comfortable\",i:\"âœ…\",l:\"Comfortable\"},{v:\"warm\",i:\"ðŸŒž\",l:\"Warm\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.roomTemp===o.v,onClick:()=>upd(\"roomTemp\",o.v)},o.v))})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\uD83C\\uDFB5\",title:\"Music\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6,marginBottom:16},children:[{v:\"silence\",i:\"ðŸ”‡\",l:\"Silence\"},{v:\"soft\",i:\"ðŸŽµ\",l:\"Soft\"},{v:\"nature\",i:\"ðŸŒ¿\",l:\"Nature\"},{v:\"upbeat\",i:\"ðŸŽ¶\",l:\"Upbeat\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.music===o.v,onClick:()=>upd(\"music\",o.v)},o.v))}),/*#__PURE__*/_jsx(PS,{icon:\"\\uD83D\\uDCA1\",title:\"Lighting\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6},children:[{v:\"dark\",i:\"ðŸŒ‘\",l:\"Very Dim\"},{v:\"dim\",i:\"ðŸŒ“\",l:\"Soft\"},{v:\"normal\",i:\"ðŸ’¡\",l:\"Normal\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.lighting===o.v,onClick:()=>upd(\"lighting\",o.v)},o.v))})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\uD83D\\uDDE3\\uFE0F\",title:\"Conversation\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6,marginBottom:16},children:[{v:\"quiet\",i:\"ðŸ¤«\",l:\"Quiet please\"},{v:\"open\",i:\"ðŸ’¬\",l:\"Happy to chat\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.conversation===o.v,onClick:()=>upd(\"conversation\",o.v)},o.v))}),/*#__PURE__*/_jsx(PS,{icon:\"\\uD83D\\uDECF\\uFE0F\",title:\"Draping\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6},children:[{v:\"standard\",i:\"ðŸ›ï¸\",l:\"Standard\"},{v:\"extra\",i:\"ðŸ”’\",l:\"Extra Coverage\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.draping===o.v,onClick:()=>upd(\"draping\",o.v)},o.v))})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\uD83C\\uDF38\",title:\"Oil & Fragrance\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6,marginBottom:10},children:[{v:\"none\",i:\"âœ…\",l:\"No Issues\"},{v:\"noscent\",i:\"ðŸš«\",l:\"Fragrance-free\"},{v:\"allergy\",i:\"âš ï¸\",l:\"Allergies\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.oilPref===o.v,onClick:()=>upd(\"oilPref\",o.v)},o.v))}),prefs.oilPref===\"allergy\"&&/*#__PURE__*/_jsx(Inp,{placeholder:\"Describe your allergy...\",value:prefs.allergyNote||\"\",onChange:e=>upd(\"allergyNote\",e.target.value)})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\uD83D\\uDCCB\",title:\"Medical or Injury Notes\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6,marginBottom:10},children:[{v:\"none\",i:\"âœ…\",l:\"Nothing to note\"},{v:\"yes\",i:\"âš ï¸\",l:\"I have a note\"}].map(o=>/*#__PURE__*/_jsx(PT,{icon:o.i,label:o.l,selected:prefs.medFlag===o.v,onClick:()=>upd(\"medFlag\",o.v)},o.v))}),prefs.medFlag===\"yes\"&&/*#__PURE__*/_jsx(TA,{placeholder:\"Describe any areas of awareness your therapist should know about...\",value:prefs.medNote||\"\",onChange:e=>upd(\"medNote\",e.target.value)}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:11,color:C.textLight,marginTop:8},children:\"\\u2139\\uFE0F BodyMap is a communication tool, not a medical service.\"})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(PS,{icon:\"\\u270F\\uFE0F\",title:\"Anything else?\"}),/*#__PURE__*/_jsx(TA,{placeholder:\"Special requests, things you love, anything your therapist should know...\",value:notes,onChange:e=>setNotes(e.target.value)})]}),/*#__PURE__*/_jsx(Card,{style:{background:C.sagePale},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,alignItems:\"flex-start\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:consent,onChange:e=>setConsent(e.target.checked),style:{width:18,height:18,marginTop:2,accentColor:C.green,cursor:\"pointer\",flexShrink:0}}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textMid,lineHeight:1.6},children:\"I confirm this is a communication tool, not a medical service. I authorize sharing this information with my massage therapist.\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:10,marginTop:6},children:[/*#__PURE__*/_jsx(Btn,{ghost:true,onClick:onBack,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(Btn,{onClick:onNext,disabled:!consent,style:{flex:2},children:\"Send to Therapist \\uD83D\\uDCE4\"})]})]});};// Therapist view\nconst PMAP={goal:{relax:[\"ðŸ˜Œ\",\"Relaxation\"],pain:[\"ðŸ’Š\",\"Pain Relief\"],athletic:[\"ðŸƒ\",\"Athletic Recovery\"],stress:[\"ðŸ§˜\",\"Stress Relief\"],injury:[\"ðŸ©¹\",\"Injury Rehab\"]},tableTemp:{cool:[\"â„ï¸\",\"Cool\"],neutral:[\"ðŸ˜Š\",\"Neutral\"],warm:[\"â˜€ï¸\",\"Warm\"],hot:[\"ðŸ”¥\",\"Hot\"]},roomTemp:{cool:[\"ðŸŒ¬ï¸\",\"Cool\"],comfortable:[\"âœ…\",\"Comfortable\"],warm:[\"ðŸŒž\",\"Warm\"]},music:{silence:[\"ðŸ”‡\",\"Silence\"],soft:[\"ðŸŽµ\",\"Soft Music\"],nature:[\"ðŸŒ¿\",\"Nature Sounds\"],upbeat:[\"ðŸŽ¶\",\"Upbeat\"]},lighting:{dark:[\"ðŸŒ‘\",\"Very Dim\"],dim:[\"ðŸŒ“\",\"Soft\"],normal:[\"ðŸ’¡\",\"Normal\"]},conversation:{quiet:[\"ðŸ¤«\",\"Quiet Please\"],open:[\"ðŸ’¬\",\"Happy to Chat\"]},draping:{standard:[\"ðŸ›ï¸\",\"Standard\"],extra:[\"ðŸ”’\",\"Extra Coverage\"]},oilPref:{none:[\"âœ…\",\"No Issues\"],noscent:[\"ðŸš«\",\"Fragrance-Free\"],allergy:[\"âš ï¸\",\"Has Allergy\"]}};const TherapistView=_ref37=>{let{clientInfo,bodyMap,prefs,notes,sessions,onBack,onReview}=_ref37;const[tN,setTN]=useState(\"\");const[saved,setSaved]=useState(false);const fa=ALL_REGIONS.filter(r=>bodyMap[r.id]===\"focus\");const av=ALL_REGIONS.filter(r=>bodyMap[r.id]===\"avoid\");return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#EEF2EC\",minHeight:\"100vh\",padding:\"0 20px 60px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:\"linear-gradient(135deg,\".concat(C.green,\" 0%,#1E4230 100%)\"),borderRadius:\"0 0 28px 28px\",padding:\"28px 22px 22px\",marginLeft:-20,marginRight:-20,width:\"calc(100% + 40px)\",marginBottom:18},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"flex-start\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,color:C.sagePale,fontWeight:700,letterSpacing:1,textTransform:\"uppercase\",marginBottom:3},children:\"Therapist View \\xB7 Pre-Session\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:F.display,fontSize:30,fontWeight:600,color:\"#fff\"},children:clientInfo.name}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.sagePale,marginTop:4},children:new Date().toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\",year:\"numeric\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:46,height:46,borderRadius:\"50%\",background:\"rgba(255,255,255,0.15)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:22},children:\"\\uD83C\\uDF3F\"})]})}),/*#__PURE__*/_jsx(TherapistLoyalty,{sessions:sessions,clientName:clientInfo.name}),/*#__PURE__*/_jsx(AIBrief,{clientInfo:clientInfo,bodyMap:bodyMap,prefs:prefs,notes:notes,sessions:sessions}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green,marginBottom:14,textTransform:\"uppercase\"},children:\"Body Focus Map\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:14,justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(Mini,{regions:FRONT_REGIONS,selections:bodyMap,label:\"Front\"}),/*#__PURE__*/_jsx(Mini,{regions:BACK_REGIONS,selections:bodyMap,label:\"Back\"})]}),fa.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:14},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:C.focus,marginBottom:6,textTransform:\"uppercase\"},children:[\"\\uD83D\\uDFE2 Focus (\",fa.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:5},children:fa.map(r=>/*#__PURE__*/_jsx(\"span\",{style:{background:\"\".concat(C.focus,\"18\"),color:C.focus,border:\"1px solid \".concat(C.focus,\"40\"),padding:\"3px 9px\",borderRadius:20,fontSize:11,fontWeight:700,fontFamily:F.body},children:r.label},r.id))})]}),av.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:C.avoid,marginBottom:6,textTransform:\"uppercase\"},children:[\"\\uD83D\\uDD34 Avoid (\",av.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:5},children:av.map(r=>/*#__PURE__*/_jsx(\"span\",{style:{background:\"\".concat(C.avoid,\"18\"),color:C.avoid,border:\"1px solid \".concat(C.avoid,\"40\"),padding:\"3px 9px\",borderRadius:20,fontSize:11,fontWeight:700,fontFamily:F.body},children:r.label},r.id))})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green,marginBottom:14,textTransform:\"uppercase\"},children:\"Session Preferences\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.sagePale,borderRadius:14,padding:\"13px 15px\",marginBottom:12,display:\"flex\",alignItems:\"center\",gap:10},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:26},children:\"\\uD83D\\uDC86\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:700,color:C.textLight,textTransform:\"uppercase\"},children:\"Pressure\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.display,fontSize:22,fontWeight:600,color:C.green},children:[PLICONS[prefs.pressure],\" \",PLABELS[prefs.pressure]]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:8},children:[[\"Goal\",PMAP.goal[prefs.goal]],[\"Table\",PMAP.tableTemp[prefs.tableTemp]],[\"Room\",PMAP.roomTemp[prefs.roomTemp]],[\"Music\",PMAP.music[prefs.music]],[\"Lighting\",PMAP.lighting[prefs.lighting]],[\"Chat\",PMAP.conversation[prefs.conversation]],[\"Draping\",PMAP.draping[prefs.draping]],[\"Oil\",PMAP.oilPref[prefs.oilPref]]].filter(_ref38=>{let[,v]=_ref38;return v;}).map(_ref39=>{let[label,[icon,val]]=_ref39;return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.bg,borderRadius:12,padding:\"10px 11px\",display:\"flex\",alignItems:\"center\",gap:7},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18},children:icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:700,color:C.textLight,textTransform:\"uppercase\"},children:label}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,fontWeight:700,color:C.text},children:val})]})]},label);})}),prefs.oilPref===\"allergy\"&&prefs.allergyNote&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,background:\"#FFE4E0\",border:\"1px solid #E57373\",borderRadius:12,padding:12},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:\"#B71C1C\",marginBottom:3},children:\"\\uD83D\\uDEAB ALLERGY ALERT\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:\"#7F0000\"},children:prefs.allergyNote})]}),prefs.medFlag===\"yes\"&&prefs.medNote&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,background:\"#FFF8E1\",border:\"1px solid #FFC107\",borderRadius:12,padding:12},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:\"#856404\",marginBottom:3},children:\"\\u26A0\\uFE0F CLIENT-NOTED AREA OF AWARENESS\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:\"#533F00\"},children:prefs.medNote})]})]}),notes&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green,marginBottom:8,textTransform:\"uppercase\"},children:\"Client Notes\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:14,color:C.textMid,fontStyle:\"italic\",lineHeight:1.6},children:[\"\\\"\",notes,\"\\\"\"]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green,marginBottom:4,textTransform:\"uppercase\"},children:\"Therapist Session Notes\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textLight,marginBottom:10},children:\"For your records (saved to client history)\"}),/*#__PURE__*/_jsx(TA,{placeholder:\"What did you focus on? How did the client respond? Recommendations for next session?\",value:tN,onChange:e=>{setTN(e.target.value);setSaved(false);}}),/*#__PURE__*/_jsx(Btn,{onClick:()=>setSaved(true),disabled:!tN,style:{marginTop:10,width:\"100%\"},children:saved?\"âœ… Notes Saved\":\"Save Session Notes\"})]}),sessions.length>0&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green,marginBottom:12,textTransform:\"uppercase\"},children:[\"Session History (\",sessions.length,\")\"]}),sessions.slice(0,3).map((s,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid \".concat(C.border),borderRadius:14,padding:13,marginBottom:8,background:C.bg},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:4},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:6},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontWeight:800,fontSize:13,color:C.green},children:[\"Session \",sessions.length-i]}),s.isFreeSession&&/*#__PURE__*/_jsx(\"span\",{style:{background:C.gold,color:C.text,fontSize:9,fontWeight:800,padding:\"1px 6px\",borderRadius:20,fontFamily:F.body},children:\"FREE\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:11,color:C.textLight},children:new Date(s.date).toLocaleDateString(\"en-US\",{month:\"short\",day:\"numeric\",year:\"numeric\"})})]}),s.therapistNotes?/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textMid,fontStyle:\"italic\"},children:[\"\\\"\",s.therapistNotes,\"\\\"\"]}):/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textLight},children:\"No notes recorded\"})]},s.id)),sessions.length>3&&/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:11,color:C.textMid,textAlign:\"center\",marginTop:8},children:[\"+ \",sessions.length-3,\" more session\",sessions.length-3>1?\"s\":\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(135deg,\".concat(C.sagePale,\" 0%,#E8F4ED 100%)\"),border:\"1.5px solid \".concat(C.sage,\"40\"),borderRadius:14,padding:\"12px 14px\",marginBottom:12},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:11,fontWeight:800,color:C.green,marginBottom:5,textTransform:\"uppercase\"},children:\"\\uD83D\\uDCCB Demo: Session Complete\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.text,lineHeight:1.5},children:[\"After the massage, you'd send \",clientInfo.name,\" a link to rate their experience. Click below to see the client feedback screen.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:10},children:[/*#__PURE__*/_jsx(Btn,{ghost:true,onClick:onBack,style:{flex:1},children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(Btn,{onClick:onReview,style:{flex:2},children:\"Preview: Client Feedback \\u2192\"})]})]});};// History screen\nconst HistoryScreen=_ref40=>{let{sessions,clientName,onBack,onNewSession}=_ref40;const[exp,setExp]=useState(null);if(!sessions.length)return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.bg,padding:\"60px 20px\",minHeight:\"100vh\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:50,marginBottom:16},children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:F.display,fontSize:28,fontWeight:600,color:C.green,marginBottom:8},children:\"No history yet\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:14,color:C.textLight,marginBottom:28},children:\"Complete your first session to start building your wellness timeline.\"}),/*#__PURE__*/_jsx(Btn,{onClick:onNewSession,style:{width:\"100%\"},children:\"Start First Session\"})]});const cm={};sessions.forEach(s=>Object.entries(s.bodyMap||{}).forEach(_ref41=>{let[id,st]=_ref41;if(!cm[id])cm[id]={focus:0,avoid:0};cm[id][st]=(cm[id][st]||0)+1;}));const tf=Object.entries(cm).filter(_ref42=>{let[,v]=_ref42;return v.focus>0;}).sort((_ref43,_ref44)=>{let[,a]=_ref43;let[,b]=_ref44;return b.focus-a.focus;}).slice(0,3);const ta=Object.entries(cm).filter(_ref45=>{let[,v]=_ref45;return v.avoid>0;}).sort((_ref46,_ref47)=>{let[,a]=_ref46;let[,b]=_ref47;return b.avoid-a.avoid;}).slice(0,3);return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.bg,padding:\"20px 20px 60px\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:12,marginBottom:22},children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,style:{background:\"none\",border:\"none\",fontSize:22,cursor:\"pointer\",color:C.green},children:\"\\u2190\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:F.display,fontSize:26,fontWeight:600,color:C.green},children:\"Session History\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textLight},children:[sessions.length,\" session\",sessions.length!==1?\"s\":\"\",\" on record\"]})]})]}),/*#__PURE__*/_jsx(LoyaltyBar,{sessions:sessions}),/*#__PURE__*/_jsx(Insights,{sessions:sessions,clientName:clientName}),sessions.length>=2&&/*#__PURE__*/_jsxs(Card,{style:{background:\"linear-gradient(135deg,\".concat(C.sagePale,\" 0%,#EAF4EF 100%)\")},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:8,marginBottom:12},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18},children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green},children:\"YOUR PATTERNS\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:10},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:C.focus,marginBottom:6,textTransform:\"uppercase\"},children:\"Most Focused\"}),tf.map(_ref48=>{let[id,v]=_ref48;const r=ALL_REGIONS.find(r=>r.id===id);return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:5},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:F.body,fontSize:12,color:C.text},children:r===null||r===void 0?void 0:r.label}),/*#__PURE__*/_jsxs(\"span\",{style:{fontFamily:F.body,fontSize:11,fontWeight:800,color:C.focus,background:\"\".concat(C.focus,\"18\"),padding:\"1px 7px\",borderRadius:10},children:[v.focus,\"\\xD7\"]})]},id);})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:C.avoid,marginBottom:6,textTransform:\"uppercase\"},children:\"Most Avoided\"}),ta.map(_ref49=>{let[id,v]=_ref49;const r=ALL_REGIONS.find(r=>r.id===id);return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginBottom:5},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:F.body,fontSize:12,color:C.text},children:r===null||r===void 0?void 0:r.label}),/*#__PURE__*/_jsxs(\"span\",{style:{fontFamily:F.body,fontSize:11,fontWeight:800,color:C.avoid,background:\"\".concat(C.avoid,\"18\"),padding:\"1px 7px\",borderRadius:10},children:[v.avoid,\"\\xD7\"]})]},id);})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",left:18,top:20,bottom:20,width:2,background:C.sageMid,borderRadius:2,zIndex:0}}),sessions.map((s,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",paddingLeft:44,marginBottom:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",left:10,top:18,width:16,height:16,borderRadius:\"50%\",background:i===0?C.green:C.sage,border:\"3px solid \".concat(C.bg),zIndex:1,display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:i===0&&/*#__PURE__*/_jsx(\"div\",{style:{width:6,height:6,borderRadius:\"50%\",background:\"#fff\"}})}),/*#__PURE__*/_jsxs(Card,{style:{cursor:\"pointer\",marginBottom:0},onClick:()=>setExp(exp===s.id?null:s.id),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"flex-start\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:6,marginBottom:4},children:[i===0&&/*#__PURE__*/_jsx(\"span\",{style:{background:C.green,color:\"#fff\",fontSize:10,fontWeight:800,padding:\"2px 8px\",borderRadius:20,fontFamily:F.body},children:\"LATEST\"}),s.isFreeSession&&/*#__PURE__*/_jsx(\"span\",{style:{background:C.gold,color:C.text,fontSize:10,fontWeight:800,padding:\"2px 8px\",borderRadius:20,fontFamily:F.body},children:\"\\uD83C\\uDF81 FREE\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:F.body,fontSize:13,fontWeight:800,color:C.green},children:[\"Session \",sessions.length-i]})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textLight},children:new Date(s.date).toLocaleDateString(\"en-US\",{weekday:\"short\",month:\"long\",day:\"numeric\",year:\"numeric\"})})]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:14,color:C.textLight,marginLeft:8},children:exp===s.id?\"â–²\":\"â–¼\"})]}),exp===s.id&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:14,borderTop:\"1px solid \".concat(C.border),paddingTop:14},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,justifyContent:\"center\",marginBottom:14},children:[/*#__PURE__*/_jsx(Mini,{regions:FRONT_REGIONS,selections:s.bodyMap||{},label:\"Front\"}),/*#__PURE__*/_jsx(Mini,{regions:BACK_REGIONS,selections:s.bodyMap||{},label:\"Back\"})]}),s.therapistNotes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:C.textLight,textTransform:\"uppercase\",marginBottom:4},children:\"Therapist Notes\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:C.textMid},children:s.therapistNotes})]})]})]})]},s.id))]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8,paddingLeft:44},children:/*#__PURE__*/_jsx(Btn,{onClick:onNewSession,style:{width:\"100%\"},children:\"+ Book New Session\"})})]});};// Welcome screen\nconst WelcomeScreen=_ref50=>{let{onStart,sessions,onHistory,onPreFill}=_ref50;const[name,setName]=useState(\"\");const[contact,setContact]=useState(\"\");return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:\"100vh\",background:C.bg},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(155deg,\".concat(C.green,\" 0%,#1E4230 100%)\"),padding:\"28px 20px 24px\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:32,marginBottom:5},children:\"\\uD83C\\uDF3F\"}),/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:F.display,fontSize:32,fontWeight:600,color:\"#fff\",margin:0,lineHeight:1.1},children:\"BodyMap\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.sagePale,marginTop:4,opacity:0.9},children:\"Never re-explain your preferences again\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:\"16px 20px 40px\"},children:/*#__PURE__*/_jsxs(Card,{style:{padding:\"13px\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,fontWeight:800,color:C.green,marginBottom:9,textTransform:\"uppercase\",letterSpacing:0.5},children:\"Start Your First Session\"}),/*#__PURE__*/_jsx(Inp,{placeholder:\"Your name\",value:name,onChange:e=>setName(e.target.value),style:{padding:\"9px 11px\",fontSize:14,marginBottom:7}}),/*#__PURE__*/_jsx(Inp,{placeholder:\"Phone or email\",value:contact,onChange:e=>setContact(e.target.value),style:{padding:\"9px 11px\",fontSize:14,marginBottom:10}}),/*#__PURE__*/_jsx(Btn,{onClick:()=>onStart({name:name.trim(),contact:contact.trim()}),disabled:!name.trim()||!contact.trim(),style:{width:\"100%\"},children:\"Create My Body Map \\u2192\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:10,color:C.textLight,textAlign:\"center\",marginTop:7},children:\"\\uD83D\\uDD12 Only shared with your therapist\"})]})})]});};// Body map screen\nconst BMScreen=_ref51=>{let{title,subtitle,step,regions,selections,onToggle,mode,setMode,onNext,onBack,sessions,onApply}=_ref51;return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.bg,padding:\"18px 20px 16px\"},children:[/*#__PURE__*/_jsx(Step,{step:step}),/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:F.display,fontSize:26,fontWeight:600,color:C.green,textAlign:\"center\",marginBottom:4},children:title}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:C.textLight,textAlign:\"center\",marginBottom:16},children:subtitle}),(step===1||step===2)&&sessions.length>=3&&/*#__PURE__*/_jsx(Prediction,{sessions:sessions,onApply:onApply}),/*#__PURE__*/_jsx(MT,{mode:mode,setMode:setMode}),/*#__PURE__*/_jsx(\"div\",{style:{background:mode===\"focus\"?\"\".concat(C.focus,\"12\"):\"\".concat(C.avoid,\"12\"),border:\"1px solid \".concat(mode===\"focus\"?C.focus:C.avoid,\"40\"),borderRadius:12,padding:\"9px 14px\",marginBottom:14,textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,fontWeight:700,color:mode===\"focus\"?C.focus:C.avoid},children:mode===\"focus\"?\"ðŸŸ¢ Tap areas where you want focus â€” tap again to clear\":\"ðŸ”´ Tap areas to avoid â€” tap again to clear\"})}),/*#__PURE__*/_jsxs(Card,{style:{padding:14},children:[/*#__PURE__*/_jsx(BMSVG,{regions:regions,selections:selections,onToggle:onToggle,scale:1.06}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:14,justifyContent:\"center\",marginTop:10},children:[{color:C.focus,l:\"Focus\"},{color:C.avoid,l:\"Avoid\"},{color:C.neutral,l:\"Tap to mark\"}].map(_ref52=>{let{color,l}=_ref52;return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:5},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:10,height:10,borderRadius:3,background:color}}),/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:F.body,fontSize:11,fontWeight:700,color:C.textMid},children:l})]},l);})}),/*#__PURE__*/_jsx(AT,{regions:regions,selections:selections})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:10,marginTop:6},children:[onBack&&/*#__PURE__*/_jsx(Btn,{ghost:true,onClick:onBack,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(Btn,{onClick:onNext,style:{flex:2},children:step===2?\"Next: Preferences â†’\":\"Next: Back of Body â†’\"})]})]});};// Summary screen\nconst SummaryScreen=_ref53=>{let{clientInfo,bodyMap,onViewTherapist,onReset}=_ref53;const[copied,setCopied]=useState(false);const link=\"bodymap.app/s/\".concat(clientInfo.name.toLowerCase().replace(/\\s+/g,\"\"),\"-\").concat(Date.now().toString(36));const fn=Object.values(bodyMap).filter(v=>v===\"focus\").length;const an=Object.values(bodyMap).filter(v=>v===\"avoid\").length;const copy=()=>{try{navigator.clipboard.writeText(\"https://\".concat(link));}catch(_unused3){}setCopied(true);setTimeout(()=>setCopied(false),2500);};return/*#__PURE__*/_jsxs(\"div\",{style:{background:C.bg,padding:\"32px 20px 60px\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginBottom:22},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:60,height:60,borderRadius:\"50%\",background:C.sagePale,display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:32,margin:\"0 auto 10px\"},children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:F.display,fontSize:28,fontWeight:600,color:C.green},children:\"You're all set!\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:13,color:C.textLight,marginTop:5},children:\"Your preferences are ready to share\"})]}),/*#__PURE__*/_jsxs(Card,{style:{padding:14},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:12,fontWeight:800,color:C.green,marginBottom:12,textTransform:\"uppercase\"},children:\"Your Body Map\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(Mini,{regions:FRONT_REGIONS,selections:bodyMap,label:\"Front\"}),/*#__PURE__*/_jsx(Mini,{regions:BACK_REGIONS,selections:bodyMap,label:\"Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:16,justifyContent:\"center\",marginTop:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:5},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:9,height:9,borderRadius:2,background:C.focus}}),/*#__PURE__*/_jsxs(\"span\",{style:{fontFamily:F.body,fontSize:11,color:C.textMid},children:[fn,\" focus\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:5},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:9,height:9,borderRadius:2,background:C.avoid}}),/*#__PURE__*/_jsxs(\"span\",{style:{fontFamily:F.body,fontSize:11,color:C.textMid},children:[an,\" avoid\"]})]})]})]}),/*#__PURE__*/_jsxs(Card,{style:{padding:14},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontFamily:F.body,fontSize:12,fontWeight:800,color:C.green,marginBottom:3,textTransform:\"uppercase\"},children:\"Share with Your Therapist\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:F.body,fontSize:12,color:C.textLight,marginBottom:12},children:\"Text, email, or show them this link before your appointment\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:7,marginBottom:12},children:[{i:\"ðŸ’¬\",l:\"Text\"},{i:\"ðŸ“§\",l:\"Email\"},{i:copied?\"âœ…\":\"ðŸ“‹\",l:copied?\"Copied\":\"Copy\",fn:copy}].map(_ref54=>{let{i,l,fn:f}=_ref54;return/*#__PURE__*/_jsxs(\"button\",{onClick:f||undefined,style:{flex:1,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",gap:4,padding:\"10px 3px\",borderRadius:12,border:\"2px solid \".concat(C.border),background:C.white,cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:18},children:i}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:9,fontWeight:700,color:C.textMid,fontFamily:F.body},children:l})]},l);})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:C.bg,borderRadius:9,padding:\"8px 11px\",display:\"flex\",alignItems:\"center\",gap:6},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13},children:\"\\uD83D\\uDD17\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:F.body,fontSize:10,color:C.textMid,flex:1,wordBreak:\"break-all\"},children:link})]})]}),/*#__PURE__*/_jsx(Btn,{onClick:onViewTherapist,style:{width:\"100%\",marginBottom:10},children:\"\\uD83D\\uDC41 Preview: What Your Therapist Sees\"}),/*#__PURE__*/_jsx(Btn,{ghost:true,onClick:onReset,style:{width:\"100%\"},children:\"\\u2190 Back to Home\"})]});};// Main App\nexport default function BodyMapApp(_ref55){let{therapistName=\"Your Therapist\",onSubmit=null,getLastSession=null}=_ref55;const[screen,setScreen]=useState(\"welcome\");const[mode,setMode]=useState(\"focus\");const[clientInfo,setCI]=useState({name:\"\",contact:\"\"});const[bodyMap,setBM]=useState({});const[prefs,setPrefs]=useState(_objectSpread({},DEFAULT_PREFS));const[notes,setNotes]=useState(\"\");const[consent,setConsent]=useState(false);const[sessions,setSessions]=useState([]);const[lastSession,setLastSession]=useState(null);const[checkingReturn,setCheckingReturn]=useState(false);useEffect(()=>{const l=document.createElement(\"link\");l.href=\"https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Nunito:wght@400;500;600;700;800&display=swap\";l.rel=\"stylesheet\";document.head.appendChild(l);try{setSessions(JSON.parse(localStorage.getItem(\"bodymap-sessions\")||\"[]\"));}catch(_unused4){}return()=>{try{document.head.removeChild(l);}catch(_unused5){}};},[]);const toggle=id=>setBM(p=>{if(!p[id])return _objectSpread(_objectSpread({},p),{},{[id]:mode});if(p[id]===mode){const n=_objectSpread({},p);delete n[id];return n;}return _objectSpread(_objectSpread({},p),{},{[id]:mode});});const handlePreFill=last=>{setBM(_objectSpread({},last.bodyMap));setPrefs(_objectSpread(_objectSpread({},DEFAULT_PREFS),last.prefs));if(last.clientInfo)setCI(_objectSpread({},last.clientInfo));setScreen(\"front\");};const onStart=info=>{setCI(info);setLastSession(null);setScreen(\"front\");if(getLastSession&&info.contact){setTimeout(()=>{getLastSession(info.contact).then(last=>{if(last)setLastSession(last);}).catch(()=>{});},100);}};const applyPrefill=last=>{setBM(last.bodyMap||{});setPrefs(prev=>_objectSpread(_objectSpread({},prev),last.prefs||{}));};const handleApply=()=>{const p=buildPattern(sessions);if(!p)return;const dm={};p.topFocus.slice(0,3).forEach(f=>{const r=ALL_REGIONS.find(r=>r.label===f.label);if(r)dm[r.id]=\"focus\";});p.topAvoid.slice(0,2).forEach(a=>{const r=ALL_REGIONS.find(r=>r.label===a.label);if(r)dm[r.id]=\"avoid\";});setBM(dm);setPrefs(prev=>_objectSpread(_objectSpread({},prev),{},{pressure:p.avgPressure,goal:p.topGoal||prev.goal}));};const handleSend=()=>{const{hasEarned}=getLoyalty(sessions);const s={id:Date.now(),date:new Date().toISOString(),clientInfo,bodyMap,prefs,notes,therapistNotes:\"\",isFreeSession:hasEarned};const upd=[s,...sessions].slice(0,50);setSessions(upd);try{localStorage.setItem(\"bodymap-sessions\",JSON.stringify(upd));}catch(_unused6){}// If onSubmit prop is provided, call it with intake data\nif(onSubmit){// Extract focus and avoid areas\nconst frontFocus=Object.keys(bodyMap).filter(k=>k.startsWith('f-')&&bodyMap[k]==='focus');const frontAvoid=Object.keys(bodyMap).filter(k=>k.startsWith('f-')&&bodyMap[k]==='avoid');const backFocus=Object.keys(bodyMap).filter(k=>k.startsWith('b-')&&bodyMap[k]==='focus');const backAvoid=Object.keys(bodyMap).filter(k=>k.startsWith('b-')&&bodyMap[k]==='avoid');onSubmit({clientName:clientInfo.name,clientPhone:clientInfo.contact,clientEmail:null,frontFocus,frontAvoid,backFocus,backAvoid,pressure:prefs.pressure,goal:prefs.goal,tableTemp:prefs.tableTemp,roomTemp:prefs.roomTemp,music:prefs.music,lighting:prefs.lighting,conversation:prefs.conversation,draping:prefs.draping,oilPref:prefs.oilPref,medFlag:prefs.medFlag,medNote:prefs.medNote||null,notes:notes||null});}else{// Default behavior - show summary screen\nsetScreen(\"summary\");}};const reset=()=>{setBM({});setNotes(\"\");setConsent(false);setPrefs(_objectSpread({},DEFAULT_PREFS));setScreen(\"welcome\");};const screens={welcome:/*#__PURE__*/_jsx(WelcomeScreen,{onStart:onStart,sessions:sessions,onHistory:()=>setScreen(\"history\"),checkingReturn:checkingReturn,onPreFill:handlePreFill}),front:/*#__PURE__*/_jsxs(\"div\",{children:[lastSession&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#FDF6E8\",border:\"1.5px solid #D4B070\",padding:\"12px 16px\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",gap:10},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:\"'Nunito', sans-serif\",fontSize:13,fontWeight:800,color:\"#B87840\",margin:0},children:[\"\\u2726 Welcome back\",clientInfo!==null&&clientInfo!==void 0&&clientInfo.name?\", \".concat(clientInfo.name.split(\" \")[0]):\"\",\"!\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:\"'Nunito', sans-serif\",fontSize:11,color:\"#7A9485\",margin:\"2px 0 0\"},children:\"Tap \\\"Use Last Session\\\" to pre-fill your preferences\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyPrefill(lastSession),style:{background:\"#B87840\",color:\"#fff\",border:\"none\",padding:\"8px 14px\",borderRadius:50,fontFamily:\"'Nunito', sans-serif\",fontSize:12,fontWeight:800,cursor:\"pointer\",whiteSpace:\"nowrap\"},children:\"Use Last Session\"})]}),/*#__PURE__*/_jsx(BMScreen,{title:\"Front of Body\",subtitle:\"Tap any area to mark as focus or avoid\",step:1,regions:FRONT_REGIONS,selections:bodyMap,onToggle:toggle,mode:mode,setMode:setMode,onNext:()=>setScreen(\"back\"),onBack:null,sessions:[],onApply:null})]}),back:/*#__PURE__*/_jsxs(\"div\",{children:[lastSession&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#FDF6E8\",border:\"1.5px solid #D4B070\",padding:\"12px 16px\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",gap:10},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:\"'Nunito', sans-serif\",fontSize:13,fontWeight:800,color:\"#B87840\",margin:0},children:[\"\\u2726 Welcome back\",clientInfo!==null&&clientInfo!==void 0&&clientInfo.name?\", \".concat(clientInfo.name.split(\" \")[0]):\"\",\"!\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:\"'Nunito', sans-serif\",fontSize:11,color:\"#7A9485\",margin:\"2px 0 0\"},children:\"Tap \\\"Use Last Session\\\" to pre-fill your preferences\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyPrefill(lastSession),style:{background:\"#B87840\",color:\"#fff\",border:\"none\",padding:\"8px 14px\",borderRadius:50,fontFamily:\"'Nunito', sans-serif\",fontSize:12,fontWeight:800,cursor:\"pointer\",whiteSpace:\"nowrap\"},children:\"Use Last Session\"})]}),/*#__PURE__*/_jsx(BMScreen,{title:\"Back of Body\",subtitle:\"Continue marking focus and avoid areas\",step:2,regions:BACK_REGIONS,selections:bodyMap,onToggle:toggle,mode:mode,setMode:setMode,onNext:()=>setScreen(\"prefs\"),onBack:()=>setScreen(\"front\")})]}),prefs:/*#__PURE__*/_jsxs(\"div\",{children:[lastSession&&/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#FDF6E8\",border:\"1.5px solid #D4B070\",padding:\"12px 16px\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",gap:10},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontFamily:\"'Nunito', sans-serif\",fontSize:13,fontWeight:800,color:\"#B87840\",margin:0},children:[\"\\u2726 Welcome back\",clientInfo!==null&&clientInfo!==void 0&&clientInfo.name?\", \".concat(clientInfo.name.split(\" \")[0]):\"\",\"!\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontFamily:\"'Nunito', sans-serif\",fontSize:11,color:\"#7A9485\",margin:\"2px 0 0\"},children:\"Tap \\\"Use Last Session\\\" to pre-fill your preferences\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyPrefill(lastSession),style:{background:\"#B87840\",color:\"#fff\",border:\"none\",padding:\"8px 14px\",borderRadius:50,fontFamily:\"'Nunito', sans-serif\",fontSize:12,fontWeight:800,cursor:\"pointer\",whiteSpace:\"nowrap\"},children:\"Use Last Session\"})]}),/*#__PURE__*/_jsx(PrefScreen,{prefs:prefs,setPrefs:setPrefs,notes:notes,setNotes:setNotes,consent:consent,setConsent:setConsent,onNext:handleSend,onBack:()=>setScreen(\"back\")})]}),summary:/*#__PURE__*/_jsx(SummaryScreen,{clientInfo:clientInfo,bodyMap:bodyMap,onViewTherapist:()=>setScreen(\"therapist\"),onReset:reset}),therapist:/*#__PURE__*/_jsx(TherapistView,{clientInfo:clientInfo,bodyMap:bodyMap,prefs:prefs,notes:notes,sessions:sessions,onBack:()=>setScreen(\"summary\"),onReview:()=>setScreen(\"review\")}),review:/*#__PURE__*/_jsx(ReviewScreen,{clientInfo:clientInfo,onDone:reset}),history:/*#__PURE__*/_jsx(HistoryScreen,{sessions:sessions,clientName:clientInfo.name,onBack:()=>setScreen(\"welcome\"),onNewSession:reset})};return/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:480,margin:\"0 auto\",minHeight:\"100vh\",background:C.bg,fontFamily:F.body},children:screens[screen]||screens.welcome});}","map":{"version":3,"names":["useState","useEffect","useCallback","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","C","bg","cardBg","green","sage","sagePale","sageMid","focus","avoid","skin","skinDark","neutral","text","textMid","textLight","border","white","shadow","aiGold","aiGoldPale","aiGoldBorder","gold","goldPale","F","display","body","SESSIONS_FOR_FREE","PLABELS","PLICONS","GOAL_LABELS","relax","pain","athletic","stress","injury","DEFAULT_PREFS","pressure","goal","tableTemp","roomTemp","music","lighting","conversation","draping","oilPref","medFlag","SYSTEM","callClaude","prompt","_d$content","_d$content$","res","fetch","method","headers","JSON","stringify","model","max_tokens","system","messages","role","content","d","json","_unused","FRONT_REGIONS","id","label","type","cx","cy","rx","ry","x","y","w","h","BACK_REGIONS","ALL_REGIONS","buildPattern","sessions","_Object$entries$sort$","length","m","forEach","s","Object","entries","bodyMap","_ref","st","tf","filter","_ref2","v","sort","_ref3","_ref4","a","b","slice","map","_ref5","_ALL_REGIONS$find","find","r","count","pct","Math","round","ta","_ref6","_ref7","_ref8","_ref9","_ALL_REGIONS$find2","ps","_s$prefs","prefs","Boolean","avg","reduce","gs","_s$prefs2","tg","_ref0","_ref1","topFocus","topAvoid","avgPressure","topGoal","total","getLoyalty","paid","isFreeSession","cycleProgress","nextFreeIn","hasEarned","Sil","_ref10","isFront","sk","ol","sw","children","fill","stroke","strokeWidth","width","height","opacity","strokeLinecap","strokeDasharray","BR","_ref11","state","onToggle","readOnly","onClick","undefined","style","cursor","transition","_objectSpread","BMSVG","_ref12","_regions$","_regions$$id","regions","selections","scale","tip","setTip","front","startsWith","position","userSelect","viewBox","maxWidth","margin","onMouseEnter","onMouseLeave","top","left","transform","background","color","padding","borderRadius","fontSize","fontFamily","fontWeight","pointerEvents","whiteSpace","zIndex","Mini","_ref13","textAlign","flex","marginBottom","letterSpacing","textTransform","Card","_ref14","boxShadow","concat","Btn","_ref15","ghost","disabled","Inp","_ref16","p","_objectWithoutProperties","_excluded","outline","boxSizing","TA","_ref17","_excluded2","resize","minHeight","lineHeight","PT","_ref18","icon","selected","flexDirection","alignItems","gap","PS","_ref19","title","Slider","_ref20","value","onChange","justifyContent","min","max","e","target","accentColor","marginTop","n","Step","_ref21","step","steps","l","i","MT","_ref22","mode","setMode","_ref23","AT","_ref24","sel","flexWrap","Shimmer","backgroundSize","animation","AIC","_ref25","AIB","_ref26","LoyaltyBar","_ref27","Array","from","_","flexShrink","TherapistLoyalty","_ref28","clientName","AIBrief","_ref29","clientInfo","notes","brief","setBrief","loading","setLoading","done","setDone","gen","name","join","medNote","f","fontStyle","Insights","_ref30","ins","setIns","_s$prefs3","trend","PreFill","_ref31","_last$clientInfo","onPreFill","last","fc","values","floor","Date","now","date","Prediction","_ref32","onApply","cc","cl","DIMS","q","opts","DimRater","_ref33","dim","o","ReviewScreen","_ref34","onDone","ratings","setR","returning","setRet","note","setNote","submitted","setSub","setRating","allRated","every","OC","OL","submit","parse","localStorage","getItem","unshift","client","toISOString","setItem","_unused2","_d$opts$find","borderTop","paddingTop","_ref35","placeholder","PrefScreen","_ref36","setPrefs","setNotes","consent","setConsent","onNext","onBack","upd","k","allergyNote","checked","PMAP","cool","warm","hot","comfortable","silence","soft","nature","upbeat","dark","normal","quiet","open","standard","extra","none","noscent","allergy","TherapistView","_ref37","onReview","tN","setTN","saved","setSaved","fa","av","marginLeft","marginRight","toLocaleDateString","weekday","month","day","year","gridTemplateColumns","_ref38","_ref39","val","therapistNotes","HistoryScreen","_ref40","onNewSession","exp","setExp","cm","_ref41","_ref42","_ref43","_ref44","_ref45","_ref46","_ref47","_ref48","_ref49","bottom","paddingLeft","WelcomeScreen","_ref50","onStart","onHistory","setName","contact","setContact","trim","BMScreen","_ref51","subtitle","_ref52","SummaryScreen","_ref53","onViewTherapist","onReset","copied","setCopied","link","toLowerCase","replace","toString","fn","an","copy","navigator","clipboard","writeText","_unused3","setTimeout","_ref54","wordBreak","BodyMapApp","_ref55","therapistName","onSubmit","getLastSession","screen","setScreen","setCI","setBM","setSessions","lastSession","setLastSession","checkingReturn","setCheckingReturn","document","createElement","href","rel","head","appendChild","_unused4","removeChild","_unused5","toggle","handlePreFill","info","then","catch","applyPrefill","prev","handleApply","dm","handleSend","_unused6","frontFocus","keys","frontAvoid","backFocus","backAvoid","clientPhone","clientEmail","reset","screens","welcome","split","back","summary","therapist","review","history"],"sources":["/Users/harshkumar/Documents/bodymap/src/pages/Demo.jsx"],"sourcesContent":["// BodyMap v5.0 â€” Loyalty Program Â· 5-Dimension Review Â· AI Insights\nimport { useState, useEffect, useCallback } from \"react\";\n\nconst C = {\n  bg: \"#F0EAD9\",\n  cardBg: \"#FDFAF3\",\n  green: \"#2A5741\",\n  sage: \"#6B9E80\",\n  sagePale: \"#D0E8D8\",\n  sageMid: \"#A8CDBA\",\n  focus: \"#3D8C55\",\n  avoid: \"#B84A42\",\n  skin: \"#E8D0B0\",\n  skinDark: \"#C9A87A\",\n  neutral: \"#C4B49A\",\n  text: \"#1C3024\",\n  textMid: \"#4A6154\",\n  textLight: \"#7A9485\",\n  border: \"#DDD5C0\",\n  white: \"#FFFFFF\",\n  shadow: \"rgba(42,87,65,0.10)\",\n  aiGold: \"#B87840\",\n  aiGoldPale: \"#F5EDD8\",\n  aiGoldBorder: \"#D4B070\",\n  gold: \"#D4AC4A\",\n  goldPale: \"#FDF6DC\",\n};\nconst F = {\n  display: \"'Cormorant Garamond', Georgia, serif\",\n  body: \"'Nunito', 'Helvetica Neue', sans-serif\",\n};\nconst SESSIONS_FOR_FREE = 10;\nconst PLABELS = [\"\", \"Feather\", \"Light\", \"Medium\", \"Firm\", \"Deep\"];\nconst PLICONS = [\"\", \"ðŸª¶\", \"ðŸ˜Œ\", \"ðŸ‘Œ\", \"ðŸ’ª\", \"âš¡\"];\nconst GOAL_LABELS = {\n  relax: \"Relaxation\",\n  pain: \"Pain Relief\",\n  athletic: \"Athletic Recovery\",\n  stress: \"Stress Relief\",\n  injury: \"Injury Rehab\",\n};\nconst DEFAULT_PREFS = {\n  pressure: 3,\n  goal: \"relax\",\n  tableTemp: \"warm\",\n  roomTemp: \"comfortable\",\n  music: \"soft\",\n  lighting: \"dim\",\n  conversation: \"quiet\",\n  draping: \"standard\",\n  oilPref: \"none\",\n  medFlag: \"none\",\n};\n\n// Claude API\nconst SYSTEM = `You are a wellness session preference observer for BodyMap. Notice patterns in self-reported preferences only.\nRULES: Never diagnose. Never use: diagnosis, condition, injury, treatment, syndrome, disorder, symptom, prognosis, risk.\nFrame everything as preference patterns: \"you tend to prefer\", \"your sessions show a pattern of\".\nEnd every response with: \"âœ¨ These are observations from your personal session preferences only â€” not medical advice.\"`;\n\nasync function callClaude(prompt) {\n  try {\n    const res = await fetch(\"https://api.anthropic.com/v1/messages\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        model: \"claude-sonnet-4-20250514\",\n        max_tokens: 1000,\n        system: SYSTEM,\n        messages: [{ role: \"user\", content: prompt }],\n      }),\n    });\n    const d = await res.json();\n    return d.content?.[0]?.text || null;\n  } catch {\n    return null;\n  }\n}\n\n// Region data\nconst FRONT_REGIONS = [\n  {\n    id: \"f-head\",\n    label: \"Head\",\n    type: \"ellipse\",\n    cx: 100,\n    cy: 44,\n    rx: 27,\n    ry: 31,\n  },\n  {\n    id: \"f-neck\",\n    label: \"Neck\",\n    type: \"rect\",\n    x: 90,\n    y: 73,\n    w: 20,\n    h: 17,\n    rx: 7,\n  },\n  {\n    id: \"f-l-shldr\",\n    label: \"L. Shoulder\",\n    type: \"ellipse\",\n    cx: 62,\n    cy: 100,\n    rx: 19,\n    ry: 14,\n  },\n  {\n    id: \"f-r-shldr\",\n    label: \"R. Shoulder\",\n    type: \"ellipse\",\n    cx: 138,\n    cy: 100,\n    rx: 19,\n    ry: 14,\n  },\n  {\n    id: \"f-l-chest\",\n    label: \"L. Chest\",\n    type: \"rect\",\n    x: 78,\n    y: 91,\n    w: 23,\n    h: 29,\n    rx: 5,\n  },\n  {\n    id: \"f-r-chest\",\n    label: \"R. Chest\",\n    type: \"rect\",\n    x: 99,\n    y: 91,\n    w: 23,\n    h: 29,\n    rx: 5,\n  },\n  {\n    id: \"f-abdomen\",\n    label: \"Abdomen\",\n    type: \"rect\",\n    x: 77,\n    y: 119,\n    w: 46,\n    h: 33,\n    rx: 6,\n  },\n  {\n    id: \"f-l-arm-u\",\n    label: \"L. Upper Arm\",\n    type: \"rect\",\n    x: 46,\n    y: 110,\n    w: 18,\n    h: 46,\n    rx: 9,\n  },\n  {\n    id: \"f-r-arm-u\",\n    label: \"R. Upper Arm\",\n    type: \"rect\",\n    x: 136,\n    y: 110,\n    w: 18,\n    h: 46,\n    rx: 9,\n  },\n  {\n    id: \"f-l-forearm\",\n    label: \"L. Forearm\",\n    type: \"rect\",\n    x: 40,\n    y: 154,\n    w: 16,\n    h: 42,\n    rx: 8,\n  },\n  {\n    id: \"f-r-forearm\",\n    label: \"R. Forearm\",\n    type: \"rect\",\n    x: 144,\n    y: 154,\n    w: 16,\n    h: 42,\n    rx: 8,\n  },\n  {\n    id: \"f-l-hand\",\n    label: \"L. Hand\",\n    type: \"ellipse\",\n    cx: 48,\n    cy: 204,\n    rx: 10,\n    ry: 12,\n  },\n  {\n    id: \"f-r-hand\",\n    label: \"R. Hand\",\n    type: \"ellipse\",\n    cx: 152,\n    cy: 204,\n    rx: 10,\n    ry: 12,\n  },\n  {\n    id: \"f-l-hip\",\n    label: \"L. Hip\",\n    type: \"rect\",\n    x: 76,\n    y: 151,\n    w: 24,\n    h: 24,\n    rx: 6,\n  },\n  {\n    id: \"f-r-hip\",\n    label: \"R. Hip\",\n    type: \"rect\",\n    x: 100,\n    y: 151,\n    w: 24,\n    h: 24,\n    rx: 6,\n  },\n  {\n    id: \"f-l-thigh\",\n    label: \"L. Thigh\",\n    type: \"rect\",\n    x: 76,\n    y: 173,\n    w: 23,\n    h: 62,\n    rx: 9,\n  },\n  {\n    id: \"f-r-thigh\",\n    label: \"R. Thigh\",\n    type: \"rect\",\n    x: 101,\n    y: 173,\n    w: 23,\n    h: 62,\n    rx: 9,\n  },\n  {\n    id: \"f-l-knee\",\n    label: \"L. Knee\",\n    type: \"ellipse\",\n    cx: 87,\n    cy: 242,\n    rx: 13,\n    ry: 12,\n  },\n  {\n    id: \"f-r-knee\",\n    label: \"R. Knee\",\n    type: \"ellipse\",\n    cx: 113,\n    cy: 242,\n    rx: 13,\n    ry: 12,\n  },\n  {\n    id: \"f-l-calf\",\n    label: \"L. Calf\",\n    type: \"rect\",\n    x: 76,\n    y: 251,\n    w: 21,\n    h: 54,\n    rx: 9,\n  },\n  {\n    id: \"f-r-calf\",\n    label: \"R. Calf\",\n    type: \"rect\",\n    x: 103,\n    y: 251,\n    w: 21,\n    h: 54,\n    rx: 9,\n  },\n  {\n    id: \"f-l-foot\",\n    label: \"L. Foot\",\n    type: \"ellipse\",\n    cx: 84,\n    cy: 312,\n    rx: 17,\n    ry: 9,\n  },\n  {\n    id: \"f-r-foot\",\n    label: \"R. Foot\",\n    type: \"ellipse\",\n    cx: 116,\n    cy: 312,\n    rx: 17,\n    ry: 9,\n  },\n];\nconst BACK_REGIONS = [\n  {\n    id: \"b-head\",\n    label: \"Head\",\n    type: \"ellipse\",\n    cx: 100,\n    cy: 44,\n    rx: 27,\n    ry: 31,\n  },\n  {\n    id: \"b-neck\",\n    label: \"Neck\",\n    type: \"rect\",\n    x: 90,\n    y: 73,\n    w: 20,\n    h: 17,\n    rx: 7,\n  },\n  {\n    id: \"b-l-shldr\",\n    label: \"L. Shoulder\",\n    type: \"ellipse\",\n    cx: 62,\n    cy: 100,\n    rx: 19,\n    ry: 14,\n  },\n  {\n    id: \"b-r-shldr\",\n    label: \"R. Shoulder\",\n    type: \"ellipse\",\n    cx: 138,\n    cy: 100,\n    rx: 19,\n    ry: 14,\n  },\n  {\n    id: \"b-upper-bk\",\n    label: \"Upper Back\",\n    type: \"rect\",\n    x: 77,\n    y: 90,\n    w: 46,\n    h: 29,\n    rx: 5,\n  },\n  {\n    id: \"b-mid-bk\",\n    label: \"Mid Back\",\n    type: \"rect\",\n    x: 77,\n    y: 118,\n    w: 46,\n    h: 28,\n    rx: 5,\n  },\n  {\n    id: \"b-lower-bk\",\n    label: \"Lower Back\",\n    type: \"rect\",\n    x: 77,\n    y: 145,\n    w: 46,\n    h: 26,\n    rx: 5,\n  },\n  {\n    id: \"b-l-arm-u\",\n    label: \"L. Upper Arm\",\n    type: \"rect\",\n    x: 46,\n    y: 110,\n    w: 18,\n    h: 46,\n    rx: 9,\n  },\n  {\n    id: \"b-r-arm-u\",\n    label: \"R. Upper Arm\",\n    type: \"rect\",\n    x: 136,\n    y: 110,\n    w: 18,\n    h: 46,\n    rx: 9,\n  },\n  {\n    id: \"b-l-forearm\",\n    label: \"L. Forearm\",\n    type: \"rect\",\n    x: 40,\n    y: 154,\n    w: 16,\n    h: 42,\n    rx: 8,\n  },\n  {\n    id: \"b-r-forearm\",\n    label: \"R. Forearm\",\n    type: \"rect\",\n    x: 144,\n    y: 154,\n    w: 16,\n    h: 42,\n    rx: 8,\n  },\n  {\n    id: \"b-l-hand\",\n    label: \"L. Hand\",\n    type: \"ellipse\",\n    cx: 48,\n    cy: 204,\n    rx: 10,\n    ry: 12,\n  },\n  {\n    id: \"b-r-hand\",\n    label: \"R. Hand\",\n    type: \"ellipse\",\n    cx: 152,\n    cy: 204,\n    rx: 10,\n    ry: 12,\n  },\n  {\n    id: \"b-l-glute\",\n    label: \"L. Glute\",\n    type: \"ellipse\",\n    cx: 89,\n    cy: 184,\n    rx: 17,\n    ry: 16,\n  },\n  {\n    id: \"b-r-glute\",\n    label: \"R. Glute\",\n    type: \"ellipse\",\n    cx: 111,\n    cy: 184,\n    rx: 17,\n    ry: 16,\n  },\n  {\n    id: \"b-l-hamstr\",\n    label: \"L. Hamstring\",\n    type: \"rect\",\n    x: 76,\n    y: 197,\n    w: 23,\n    h: 53,\n    rx: 9,\n  },\n  {\n    id: \"b-r-hamstr\",\n    label: \"R. Hamstring\",\n    type: \"rect\",\n    x: 101,\n    y: 197,\n    w: 23,\n    h: 53,\n    rx: 9,\n  },\n  {\n    id: \"b-l-knee\",\n    label: \"L. Knee\",\n    type: \"ellipse\",\n    cx: 87,\n    cy: 257,\n    rx: 13,\n    ry: 12,\n  },\n  {\n    id: \"b-r-knee\",\n    label: \"R. Knee\",\n    type: \"ellipse\",\n    cx: 113,\n    cy: 257,\n    rx: 13,\n    ry: 12,\n  },\n  {\n    id: \"b-l-calf\",\n    label: \"L. Calf\",\n    type: \"rect\",\n    x: 76,\n    y: 266,\n    w: 21,\n    h: 52,\n    rx: 9,\n  },\n  {\n    id: \"b-r-calf\",\n    label: \"R. Calf\",\n    type: \"rect\",\n    x: 103,\n    y: 266,\n    w: 21,\n    h: 52,\n    rx: 9,\n  },\n  {\n    id: \"b-l-foot\",\n    label: \"L. Foot\",\n    type: \"ellipse\",\n    cx: 84,\n    cy: 325,\n    rx: 17,\n    ry: 9,\n  },\n  {\n    id: \"b-r-foot\",\n    label: \"R. Foot\",\n    type: \"ellipse\",\n    cx: 116,\n    cy: 325,\n    rx: 17,\n    ry: 9,\n  },\n];\nconst ALL_REGIONS = [...FRONT_REGIONS, ...BACK_REGIONS];\n\nfunction buildPattern(sessions) {\n  if (!sessions.length) return null;\n  const m = {};\n  sessions.forEach((s) =>\n    Object.entries(s.bodyMap || {}).forEach(([id, st]) => {\n      if (!m[id]) m[id] = { focus: 0, avoid: 0 };\n      m[id][st] = (m[id][st] || 0) + 1;\n    })\n  );\n  const tf = Object.entries(m)\n    .filter(([, v]) => v.focus > 0)\n    .sort(([, a], [, b]) => b.focus - a.focus)\n    .slice(0, 5)\n    .map(([id, v]) => ({\n      label: ALL_REGIONS.find((r) => r.id === id)?.label || id,\n      count: v.focus,\n      pct: Math.round((v.focus / sessions.length) * 100),\n    }));\n  const ta = Object.entries(m)\n    .filter(([, v]) => v.avoid > 0)\n    .sort(([, a], [, b]) => b.avoid - a.avoid)\n    .slice(0, 3)\n    .map(([id, v]) => ({\n      label: ALL_REGIONS.find((r) => r.id === id)?.label || id,\n      count: v.avoid,\n      pct: Math.round((v.avoid / sessions.length) * 100),\n    }));\n  const ps = sessions.map((s) => s.prefs?.pressure).filter(Boolean);\n  const avg = ps.length\n    ? Math.round(ps.reduce((a, b) => a + b, 0) / ps.length)\n    : 3;\n  const gs = {};\n  sessions.forEach((s) => {\n    if (s.prefs?.goal) gs[s.prefs.goal] = (gs[s.prefs.goal] || 0) + 1;\n  });\n  const tg = Object.entries(gs).sort(([, a], [, b]) => b - a)[0]?.[0];\n  return {\n    topFocus: tf,\n    topAvoid: ta,\n    avgPressure: avg,\n    topGoal: tg,\n    total: sessions.length,\n  };\n}\n\nfunction getLoyalty(sessions) {\n  const paid = sessions.filter((s) => !s.isFreeSession).length;\n  const cycleProgress = paid % SESSIONS_FOR_FREE;\n  const nextFreeIn = SESSIONS_FOR_FREE - cycleProgress;\n  const hasEarned = cycleProgress === 0 && paid > 0;\n  return { paid, cycleProgress, nextFreeIn, hasEarned };\n}\n\n// SVG Body\nconst Sil = ({ isFront }) => {\n  const sk = C.skin,\n    ol = C.skinDark,\n    sw = 1.2;\n  return (\n    <g>\n      <ellipse\n        cx=\"100\"\n        cy=\"44\"\n        rx=\"28\"\n        ry=\"32\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"90\"\n        y=\"73\"\n        width=\"20\"\n        height=\"18\"\n        rx=\"7\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"67\"\n        y=\"87\"\n        width=\"66\"\n        height=\"75\"\n        rx=\"13\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"71\"\n        y=\"148\"\n        width=\"58\"\n        height=\"38\"\n        rx=\"9\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"45\"\n        y=\"108\"\n        width=\"20\"\n        height=\"48\"\n        rx=\"10\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"135\"\n        y=\"108\"\n        width=\"20\"\n        height=\"48\"\n        rx=\"10\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"39\"\n        y=\"154\"\n        width=\"18\"\n        height=\"44\"\n        rx=\"9\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"143\"\n        y=\"154\"\n        width=\"18\"\n        height=\"44\"\n        rx=\"9\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <ellipse\n        cx=\"48\"\n        cy=\"205\"\n        rx=\"11\"\n        ry=\"13\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <ellipse\n        cx=\"152\"\n        cy=\"205\"\n        rx=\"11\"\n        ry=\"13\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"75\"\n        y=\"183\"\n        width=\"25\"\n        height=\"65\"\n        rx=\"11\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"100\"\n        y=\"183\"\n        width=\"25\"\n        height=\"65\"\n        rx=\"11\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <ellipse\n        cx=\"87\"\n        cy=\"253\"\n        rx=\"14\"\n        ry=\"13\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <ellipse\n        cx=\"113\"\n        cy=\"253\"\n        rx=\"14\"\n        ry=\"13\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"75\"\n        y=\"262\"\n        width=\"23\"\n        height=\"56\"\n        rx=\"11\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <rect\n        x=\"102\"\n        y=\"262\"\n        width=\"23\"\n        height=\"56\"\n        rx=\"11\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <ellipse\n        cx=\"84\"\n        cy=\"325\"\n        rx=\"18\"\n        ry=\"10\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      <ellipse\n        cx=\"116\"\n        cy=\"325\"\n        rx=\"18\"\n        ry=\"10\"\n        fill={sk}\n        stroke={ol}\n        strokeWidth={sw}\n      />\n      {isFront ? (\n        <>\n          <ellipse cx=\"93\" cy=\"42\" rx=\"3\" ry=\"3.5\" fill={ol} opacity=\"0.25\" />\n          <ellipse cx=\"107\" cy=\"42\" rx=\"3\" ry=\"3.5\" fill={ol} opacity=\"0.25\" />\n          <path\n            d=\"M 94 52 Q 100 56 106 52\"\n            stroke={ol}\n            strokeWidth=\"1.5\"\n            fill=\"none\"\n            opacity=\"0.25\"\n            strokeLinecap=\"round\"\n          />\n        </>\n      ) : (\n        <path\n          d=\"M100,88 L100,218\"\n          stroke={ol}\n          strokeWidth=\"1\"\n          strokeDasharray=\"3,5\"\n          opacity=\"0.2\"\n        />\n      )}\n    </g>\n  );\n};\n\nconst BR = ({ r, state, onToggle, readOnly }) => {\n  const fill =\n    state === \"focus\" ? C.focus : state === \"avoid\" ? C.avoid : C.neutral;\n  const s = {\n    fill,\n    opacity: state ? 0.88 : 0.4,\n    onClick: readOnly ? undefined : () => onToggle(r.id),\n    style: {\n      cursor: readOnly ? \"default\" : \"pointer\",\n      transition: \"all 0.18s\",\n    },\n  };\n  return r.type === \"ellipse\" ? (\n    <ellipse {...s} cx={r.cx} cy={r.cy} rx={r.rx} ry={r.ry} />\n  ) : (\n    <rect {...s} x={r.x} y={r.y} width={r.w} height={r.h} rx={r.rx || 0} />\n  );\n};\n\nconst BMSVG = ({\n  regions,\n  selections,\n  onToggle,\n  readOnly = false,\n  scale = 1,\n}) => {\n  const [tip, setTip] = useState(null);\n  const front = regions[0]?.id?.startsWith(\"f-\");\n  return (\n    <div style={{ position: \"relative\", userSelect: \"none\" }}>\n      <svg\n        viewBox=\"0 0 200 340\"\n        style={{\n          width: \"100%\",\n          maxWidth: 200 * scale,\n          display: \"block\",\n          margin: \"0 auto\",\n        }}\n      >\n        <Sil isFront={front} />\n        {regions.map((r) => (\n          <g\n            key={r.id}\n            onMouseEnter={() => !readOnly && setTip(r.label)}\n            onMouseLeave={() => setTip(null)}\n          >\n            <BR\n              r={r}\n              state={selections[r.id]}\n              onToggle={onToggle}\n              readOnly={readOnly}\n            />\n          </g>\n        ))}\n      </svg>\n      {tip && (\n        <div\n          style={{\n            position: \"absolute\",\n            top: 6,\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            background: C.green,\n            color: \"#fff\",\n            padding: \"4px 14px\",\n            borderRadius: 20,\n            fontSize: 12,\n            fontFamily: F.body,\n            fontWeight: 700,\n            pointerEvents: \"none\",\n            whiteSpace: \"nowrap\",\n            zIndex: 9,\n          }}\n        >\n          {tip}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst Mini = ({ regions, selections, label }) => (\n  <div style={{ textAlign: \"center\", flex: 1 }}>\n    {label && (\n      <p\n        style={{\n          fontFamily: F.body,\n          fontSize: 11,\n          fontWeight: 800,\n          color: C.textLight,\n          marginBottom: 4,\n          letterSpacing: 1,\n          textTransform: \"uppercase\",\n        }}\n      >\n        {label}\n      </p>\n    )}\n    <BMSVG\n      regions={regions}\n      selections={selections}\n      onToggle={() => {}}\n      readOnly\n      scale={0.54}\n    />\n  </div>\n);\n\n// UI primitives\nconst Card = ({ children, style = {}, onClick }) => (\n  <div\n    onClick={onClick}\n    style={{\n      background: C.cardBg,\n      borderRadius: 20,\n      padding: 18,\n      boxShadow: `0 4px 18px ${C.shadow}`,\n      marginBottom: 12,\n      cursor: onClick ? \"pointer\" : \"default\",\n      ...style,\n    }}\n  >\n    {children}\n  </div>\n);\nconst Btn = ({\n  children,\n  onClick,\n  ghost = false,\n  disabled = false,\n  style = {},\n}) => (\n  <button\n    onClick={disabled ? undefined : onClick}\n    style={{\n      background: ghost ? \"transparent\" : disabled ? C.border : C.green,\n      color: ghost ? C.textMid : disabled ? C.textLight : \"#fff\",\n      border: ghost ? `2px solid ${C.border}` : \"none\",\n      padding: \"14px 22px\",\n      borderRadius: 50,\n      fontFamily: F.body,\n      fontSize: 14,\n      fontWeight: 800,\n      cursor: disabled ? \"not-allowed\" : \"pointer\",\n      transition: \"all 0.2s\",\n      boxShadow: !ghost && !disabled ? `0 4px 14px ${C.shadow}` : \"none\",\n      flex: 1,\n      ...style,\n    }}\n  >\n    {children}\n  </button>\n);\nconst Inp = ({ style = {}, ...p }) => (\n  <input\n    {...p}\n    style={{\n      fontFamily: F.body,\n      border: `2px solid ${C.border}`,\n      borderRadius: 12,\n      padding: \"12px 14px\",\n      fontSize: 15,\n      width: \"100%\",\n      color: C.text,\n      background: C.white,\n      outline: \"none\",\n      boxSizing: \"border-box\",\n      ...style,\n    }}\n  />\n);\nconst TA = ({ style = {}, ...p }) => (\n  <textarea\n    {...p}\n    style={{\n      fontFamily: F.body,\n      border: `2px solid ${C.border}`,\n      borderRadius: 12,\n      padding: \"12px 14px\",\n      fontSize: 14,\n      width: \"100%\",\n      color: C.text,\n      background: C.white,\n      outline: \"none\",\n      resize: \"vertical\",\n      minHeight: 80,\n      boxSizing: \"border-box\",\n      lineHeight: 1.6,\n      ...style,\n    }}\n  />\n);\nconst PT = ({ icon, label, selected, onClick }) => (\n  <button\n    onClick={onClick}\n    style={{\n      flex: 1,\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      gap: 5,\n      padding: \"11px 4px\",\n      borderRadius: 14,\n      border: `2px solid ${selected ? C.green : C.border}`,\n      background: selected ? C.sagePale : C.white,\n      cursor: \"pointer\",\n      transition: \"all 0.2s\",\n    }}\n  >\n    <span style={{ fontSize: 20 }}>{icon}</span>\n    <span\n      style={{\n        fontSize: 10,\n        fontWeight: 800,\n        color: selected ? C.green : C.textLight,\n        fontFamily: F.body,\n        textAlign: \"center\",\n        lineHeight: 1.2,\n      }}\n    >\n      {label}\n    </span>\n  </button>\n);\nconst PS = ({ icon, title }) => (\n  <div\n    style={{ display: \"flex\", alignItems: \"center\", gap: 7, marginBottom: 9 }}\n  >\n    <span style={{ fontSize: 15 }}>{icon}</span>\n    <h3\n      style={{\n        fontFamily: F.body,\n        fontSize: 13,\n        fontWeight: 800,\n        color: C.green,\n      }}\n    >\n      {title}\n    </h3>\n  </div>\n);\nconst Slider = ({ value, onChange }) => (\n  <div>\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginBottom: 6,\n      }}\n    >\n      <span style={{ fontFamily: F.body, fontSize: 11, color: C.textLight }}>\n        ðŸª¶ Feather\n      </span>\n      <span\n        style={{\n          fontFamily: F.body,\n          fontSize: 13,\n          fontWeight: 800,\n          color: C.green,\n        }}\n      >\n        {PLICONS[value]} {PLABELS[value]}\n      </span>\n      <span style={{ fontFamily: F.body, fontSize: 11, color: C.textLight }}>\n        âš¡ Deep\n      </span>\n    </div>\n    <input\n      type=\"range\"\n      min={1}\n      max={5}\n      value={value}\n      onChange={(e) => onChange(+e.target.value)}\n      style={{ width: \"100%\", accentColor: C.green, cursor: \"pointer\" }}\n    />\n    <div\n      style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 5 }}\n    >\n      {[1, 2, 3, 4, 5].map((n) => (\n        <div\n          key={n}\n          style={{\n            width: 8,\n            height: 8,\n            borderRadius: \"50%\",\n            background: n <= value ? C.green : C.border,\n            transition: \"background 0.2s\",\n          }}\n        />\n      ))}\n    </div>\n  </div>\n);\nconst Step = ({ step }) => {\n  const steps = [\"Front\", \"Back\", \"Preferences\"];\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginBottom: 22,\n      }}\n    >\n      {steps.map((l, i) => (\n        <div key={i} style={{ display: \"flex\", alignItems: \"center\" }}>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              gap: 4,\n            }}\n          >\n            <div\n              style={{\n                width: 30,\n                height: 30,\n                borderRadius: \"50%\",\n                fontFamily: F.body,\n                background:\n                  i + 1 < step ? C.sage : i + 1 === step ? C.green : C.border,\n                color: i + 1 <= step ? \"#fff\" : C.textLight,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                fontSize: 12,\n                fontWeight: 800,\n                boxShadow: i + 1 === step ? `0 0 0 4px ${C.sagePale}` : \"none\",\n              }}\n            >\n              {i + 1 < step ? \"âœ“\" : i + 1}\n            </div>\n            <span\n              style={{\n                fontSize: 10,\n                fontWeight: 700,\n                fontFamily: F.body,\n                color: i + 1 <= step ? C.green : C.textLight,\n              }}\n            >\n              {l}\n            </span>\n          </div>\n          {i < steps.length - 1 && (\n            <div\n              style={{\n                width: 40,\n                height: 2,\n                background: i + 1 < step ? C.sage : C.border,\n                marginBottom: 14,\n              }}\n            />\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\nconst MT = ({ mode, setMode }) => (\n  <div\n    style={{\n      display: \"flex\",\n      background: \"#E2D9CB\",\n      borderRadius: 50,\n      padding: 4,\n      marginBottom: 12,\n    }}\n  >\n    {[\n      { v: \"focus\", e: \"ðŸŸ¢\", l: \"Focus Here\", a: C.focus },\n      { v: \"avoid\", e: \"ðŸ”´\", l: \"Avoid\", a: C.avoid },\n    ].map(({ v, e, l, a }) => (\n      <button\n        key={v}\n        onClick={() => setMode(v)}\n        style={{\n          flex: 1,\n          padding: \"10px 8px\",\n          borderRadius: 50,\n          border: \"none\",\n          fontFamily: F.body,\n          fontSize: 13,\n          fontWeight: 700,\n          cursor: \"pointer\",\n          background: mode === v ? a : \"transparent\",\n          color: mode === v ? \"#fff\" : C.textLight,\n          transition: \"all 0.2s\",\n        }}\n      >\n        {e} {l}\n      </button>\n    ))}\n  </div>\n);\nconst AT = ({ regions, selections }) => {\n  const sel = regions.filter((r) => selections[r.id]);\n  if (!sel.length) return null;\n  return (\n    <div\n      style={{\n        marginTop: 12,\n        padding: \"10px 12px\",\n        background: C.sagePale,\n        borderRadius: 12,\n      }}\n    >\n      <p\n        style={{\n          fontFamily: F.body,\n          fontSize: 10,\n          fontWeight: 800,\n          color: C.green,\n          marginBottom: 6,\n          textTransform: \"uppercase\",\n        }}\n      >\n        Selected:\n      </p>\n      <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 5 }}>\n        {sel.map((r) => (\n          <span\n            key={r.id}\n            style={{\n              background: selections[r.id] === \"focus\" ? C.focus : C.avoid,\n              color: \"#fff\",\n              padding: \"3px 9px\",\n              borderRadius: 20,\n              fontSize: 11,\n              fontWeight: 700,\n              fontFamily: F.body,\n            }}\n          >\n            {selections[r.id] === \"focus\" ? \"ðŸŸ¢\" : \"ðŸ”´\"} {r.label}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// AI UI\nconst Shimmer = () => (\n  <div style={{ padding: \"16px 0\" }}>\n    {[80, 95, 70, 88].map((w, i) => (\n      <div\n        key={i}\n        style={{\n          height: 12,\n          background: `linear-gradient(90deg,${C.aiGoldPale} 25%,#EDE0C8 50%,${C.aiGoldPale} 75%)`,\n          backgroundSize: \"200% 100%\",\n          borderRadius: 6,\n          marginBottom: 10,\n          width: `${w}%`,\n          animation: \"shimmer 1.5s infinite\",\n        }}\n      />\n    ))}\n    <style>{`@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}`}</style>\n  </div>\n);\nconst AIC = ({ children, style = {} }) => (\n  <div\n    style={{\n      background: `linear-gradient(135deg,${C.aiGoldPale} 0%,#FDF6E8 100%)`,\n      border: `1.5px solid ${C.aiGoldBorder}`,\n      borderRadius: 20,\n      padding: 18,\n      marginBottom: 12,\n      boxShadow: \"0 4px 20px rgba(184,120,64,0.12)\",\n      ...style,\n    }}\n  >\n    {children}\n  </div>\n);\nconst AIB = ({ label = \"AI Insight\" }) => (\n  <div\n    style={{ display: \"flex\", alignItems: \"center\", gap: 7, marginBottom: 12 }}\n  >\n    <div\n      style={{\n        width: 26,\n        height: 26,\n        borderRadius: \"50%\",\n        background: C.aiGold,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontSize: 14,\n      }}\n    >\n      âœ¦\n    </div>\n    <span\n      style={{\n        fontFamily: F.body,\n        fontSize: 11,\n        fontWeight: 800,\n        color: C.aiGold,\n        textTransform: \"uppercase\",\n        letterSpacing: 1,\n      }}\n    >\n      {label}\n    </span>\n  </div>\n);\n\n// Loyalty bar (client-facing)\nconst LoyaltyBar = ({ sessions }) => {\n  const { paid, cycleProgress, nextFreeIn, hasEarned } = getLoyalty(sessions);\n  if (!paid) return null;\n  if (hasEarned)\n    return (\n      <div\n        style={{\n          background: `linear-gradient(135deg,${C.gold} 0%,#E8C84A 100%)`,\n          borderRadius: 20,\n          padding: 18,\n          marginBottom: 12,\n          boxShadow: \"0 4px 20px rgba(212,172,74,0.3)\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 12,\n            marginBottom: 12,\n          }}\n        >\n          <div style={{ fontSize: 36 }}>ðŸŽ</div>\n          <div style={{ flex: 1 }}>\n            <p\n              style={{\n                fontFamily: F.display,\n                fontSize: 22,\n                fontWeight: 600,\n                color: C.text,\n                marginBottom: 4,\n              }}\n            >\n              You've earned a free session!\n            </p>\n            <p style={{ fontFamily: F.body, fontSize: 13, color: C.textMid }}>\n              Show this to your therapist to redeem your complimentary session.\n            </p>\n          </div>\n        </div>\n        <div\n          style={{\n            background: \"rgba(255,255,255,0.5)\",\n            borderRadius: 12,\n            padding: \"10px 14px\",\n            textAlign: \"center\",\n          }}\n        >\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 12,\n              fontWeight: 800,\n              color: C.text,\n            }}\n          >\n            ðŸ†“ 1 FREE SESSION READY TO REDEEM\n          </p>\n        </div>\n      </div>\n    );\n  return (\n    <div\n      style={{\n        background: C.goldPale,\n        border: `1.5px solid ${C.gold}40`,\n        borderRadius: 20,\n        padding: 18,\n        marginBottom: 12,\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 10,\n        }}\n      >\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n          <span style={{ fontSize: 18 }}>ðŸŽ</span>\n          <div>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 13,\n                fontWeight: 800,\n                color: C.text,\n              }}\n            >\n              Loyalty Reward\n            </p>\n            <p style={{ fontFamily: F.body, fontSize: 11, color: C.textLight }}>\n              {nextFreeIn} session{nextFreeIn !== 1 ? \"s\" : \"\"} until your free\n              session\n            </p>\n          </div>\n        </div>\n        <p\n          style={{\n            fontFamily: F.display,\n            fontSize: 24,\n            fontWeight: 600,\n            color: C.aiGold,\n          }}\n        >\n          {cycleProgress}\n          <span style={{ fontSize: 14, color: C.textLight }}>\n            /{SESSIONS_FOR_FREE}\n          </span>\n        </p>\n      </div>\n      <div style={{ display: \"flex\", gap: 6, alignItems: \"center\" }}>\n        {Array.from({ length: SESSIONS_FOR_FREE }).map((_, i) => (\n          <div\n            key={i}\n            style={{\n              flex: 1,\n              height: 10,\n              borderRadius: 5,\n              background:\n                i < cycleProgress\n                  ? `linear-gradient(90deg,${C.aiGold},${C.gold})`\n                  : C.border,\n              transition: \"background 0.3s\",\n            }}\n          />\n        ))}\n        <div\n          style={{\n            width: 28,\n            height: 28,\n            borderRadius: \"50%\",\n            background: cycleProgress === SESSIONS_FOR_FREE ? C.gold : C.border,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 14,\n            flexShrink: 0,\n          }}\n        >\n          ðŸŽ\n        </div>\n      </div>\n      <p\n        style={{\n          fontFamily: F.body,\n          fontSize: 11,\n          color: C.textLight,\n          marginTop: 8,\n          textAlign: \"center\",\n        }}\n      >\n        Every {SESSIONS_FOR_FREE} sessions = 1 complimentary session\n      </p>\n    </div>\n  );\n};\n\n// Loyalty alert (therapist-facing)\nconst TherapistLoyalty = ({ sessions, clientName }) => {\n  const { paid, cycleProgress, nextFreeIn, hasEarned } = getLoyalty(sessions);\n  if (!paid) return null;\n  if (hasEarned)\n    return (\n      <div\n        style={{\n          background: `linear-gradient(135deg,${C.gold} 0%,#E8C84A 100%)`,\n          borderRadius: 16,\n          padding: 16,\n          marginBottom: 12,\n          boxShadow: \"0 4px 16px rgba(212,172,74,0.3)\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 10,\n            marginBottom: 10,\n          }}\n        >\n          <span style={{ fontSize: 28 }}>ðŸŽ</span>\n          <div>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 13,\n                fontWeight: 800,\n                color: C.text,\n              }}\n            >\n              Free Session Earned!\n            </p>\n            <p style={{ fontFamily: F.body, fontSize: 12, color: C.textMid }}>\n              {clientName} has completed {paid} paid sessions\n            </p>\n          </div>\n        </div>\n        <div\n          style={{\n            background: \"rgba(255,255,255,0.6)\",\n            borderRadius: 10,\n            padding: \"10px 14px\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 13,\n              fontWeight: 800,\n              color: C.text,\n            }}\n          >\n            ðŸ†“ This session is complimentary\n          </p>\n          <button\n            style={{\n              background: C.green,\n              color: \"#fff\",\n              border: \"none\",\n              padding: \"6px 14px\",\n              borderRadius: 50,\n              fontFamily: F.body,\n              fontSize: 11,\n              fontWeight: 800,\n              cursor: \"pointer\",\n            }}\n          >\n            Mark Redeemed\n          </button>\n        </div>\n      </div>\n    );\n  return (\n    <div\n      style={{\n        background: C.goldPale,\n        border: `1.5px solid ${C.gold}40`,\n        borderRadius: 14,\n        padding: 13,\n        marginBottom: 12,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n      }}\n    >\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n        <span style={{ fontSize: 18 }}>ðŸŽ</span>\n        <div>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 12,\n              fontWeight: 800,\n              color: C.text,\n            }}\n          >\n            {cycleProgress} of {SESSIONS_FOR_FREE} sessions\n          </p>\n          <p style={{ fontFamily: F.body, fontSize: 11, color: C.textLight }}>\n            {nextFreeIn} more until {clientName}'s free session\n          </p>\n        </div>\n      </div>\n      <div style={{ display: \"flex\", gap: 4 }}>\n        {Array.from({ length: SESSIONS_FOR_FREE }).map((_, i) => (\n          <div\n            key={i}\n            style={{\n              width: 10,\n              height: 10,\n              borderRadius: \"50%\",\n              background: i < cycleProgress ? C.aiGold : C.border,\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// AI brief for therapist\nconst AIBrief = ({ clientInfo, bodyMap, prefs, notes, sessions }) => {\n  const [brief, setBrief] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [done, setDone] = useState(false);\n  const gen = async () => {\n    setLoading(true);\n    const focus = ALL_REGIONS.filter((r) => bodyMap[r.id] === \"focus\").map(\n      (r) => r.label\n    );\n    const avoid = ALL_REGIONS.filter((r) => bodyMap[r.id] === \"avoid\").map(\n      (r) => r.label\n    );\n    const p = buildPattern(sessions);\n    const prompt = `Professional massage therapist session brief. Client: ${\n      clientInfo.name\n    }. Focus: ${focus.join(\", \") || \"none\"}. Avoid: ${\n      avoid.join(\", \") || \"none\"\n    }. Pressure: ${PLABELS[prefs.pressure]}. Goal: ${\n      GOAL_LABELS[prefs.goal] || \"Relaxation\"\n    }. Conversation: ${prefs.conversation}. ${\n      notes ? `Notes: \"${notes}\".` : \"\"\n    }${\n      prefs.medFlag === \"yes\" && prefs.medNote\n        ? `Area of awareness: \"${prefs.medNote}\".`\n        : \"\"\n    }${\n      p && sessions.length >= 2\n        ? `History: ${sessions.length} sessions. Top focus: ${p.topFocus\n            .slice(0, 3)\n            .map((f) => `${f.label} ${f.pct}%`)\n            .join(\", \")}.`\n        : \"\"\n    } Write warm professional 3-4 sentence brief. Never diagnose.`;\n    const r = await callClaude(prompt);\n    setBrief(r);\n    setLoading(false);\n    setDone(true);\n  };\n  return (\n    <AIC>\n      <AIB label=\"AI Session Brief\" />\n      <p\n        style={{\n          fontFamily: F.body,\n          fontSize: 12,\n          color: C.textMid,\n          marginBottom: 14,\n        }}\n      >\n        AI-generated overview from intake & session history\n      </p>\n      {!done && !loading && (\n        <button\n          onClick={gen}\n          style={{\n            background: C.aiGold,\n            color: \"#fff\",\n            border: \"none\",\n            padding: \"12px 20px\",\n            borderRadius: 50,\n            fontFamily: F.body,\n            fontSize: 13,\n            fontWeight: 800,\n            cursor: \"pointer\",\n            width: \"100%\",\n          }}\n        >\n          âœ¦ Generate Session Brief\n        </button>\n      )}\n      {loading && <Shimmer />}\n      {brief && (\n        <div>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 14,\n              color: C.text,\n              lineHeight: 1.8,\n              fontStyle: \"italic\",\n            }}\n          >\n            {brief}\n          </p>\n          <button\n            onClick={gen}\n            style={{\n              background: \"transparent\",\n              border: `1px solid ${C.aiGoldBorder}`,\n              color: C.aiGold,\n              padding: \"7px 14px\",\n              borderRadius: 50,\n              fontFamily: F.body,\n              fontSize: 12,\n              fontWeight: 700,\n              cursor: \"pointer\",\n              marginTop: 10,\n            }}\n          >\n            â†º Regenerate\n          </button>\n        </div>\n      )}\n    </AIC>\n  );\n};\n\n// AI wellness insights (client-facing)\nconst Insights = ({ sessions, clientName }) => {\n  const [ins, setIns] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [done, setDone] = useState(false);\n  const gen = useCallback(async () => {\n    if (sessions.length < 2) return;\n    setLoading(true);\n    const p = buildPattern(sessions);\n    const ps = sessions\n      .slice(0, 5)\n      .map((s) => s.prefs?.pressure)\n      .filter(Boolean);\n    const trend =\n      ps.length > 1 && ps[0] > ps[ps.length - 1]\n        ? \"lighter\"\n        : ps.length > 1 && ps[0] < ps[ps.length - 1]\n        ? \"deeper\"\n        : \"consistent\";\n    const prompt = `Wellness pattern observations for ${\n      clientName || \"this person\"\n    }. ${sessions.length} sessions. Focus: ${p?.topFocus\n      .slice(0, 4)\n      .map((f) => `${f.label} ${f.count}/${sessions.length} sessions`)\n      .join(\", \")}. Avoid: ${\n      p?.topAvoid\n        .slice(0, 3)\n        .map((a) => `${a.label} ${a.pct}%`)\n        .join(\", \") || \"none\"\n    }. Pressure: ${\n      PLABELS[p?.avgPressure || 3]\n    }, trending ${trend}. Write 2-3 warm curious observations as wellness companion. 4-5 sentences. End with disclaimer.`;\n    const r = await callClaude(prompt);\n    setIns(r);\n    setLoading(false);\n    setDone(true);\n  }, [sessions, clientName]);\n  if (sessions.length < 2)\n    return (\n      <AIC>\n        <AIB label=\"Wellness Intelligence\" />\n        <p style={{ fontFamily: F.body, fontSize: 13, color: C.textMid }}>\n          Complete 2+ sessions to unlock your personal wellness pattern\n          insights.\n        </p>\n      </AIC>\n    );\n  return (\n    <AIC>\n      <AIB label=\"Wellness Intelligence\" />\n      <h3\n        style={{\n          fontFamily: F.body,\n          fontSize: 13,\n          fontWeight: 800,\n          color: C.aiGold,\n          marginBottom: 4,\n          textTransform: \"uppercase\",\n        }}\n      >\n        Your Wellness Patterns\n      </h3>\n      <p\n        style={{\n          fontFamily: F.body,\n          fontSize: 12,\n          color: C.textMid,\n          marginBottom: 14,\n        }}\n      >\n        AI observations from your {sessions.length} sessions â€” not medical\n        advice\n      </p>\n      {!done && !loading && (\n        <button\n          onClick={gen}\n          style={{\n            background: C.aiGold,\n            color: \"#fff\",\n            border: \"none\",\n            padding: \"12px 20px\",\n            borderRadius: 50,\n            fontFamily: F.body,\n            fontSize: 13,\n            fontWeight: 800,\n            cursor: \"pointer\",\n            width: \"100%\",\n          }}\n        >\n          âœ¦ Reveal My Wellness Patterns\n        </button>\n      )}\n      {loading && <Shimmer />}\n      {ins && (\n        <div>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 14,\n              color: C.text,\n              lineHeight: 1.9,\n            }}\n          >\n            {ins}\n          </p>\n          <button\n            onClick={gen}\n            style={{\n              background: \"transparent\",\n              border: `1px solid ${C.aiGoldBorder}`,\n              color: C.aiGold,\n              padding: \"7px 14px\",\n              borderRadius: 50,\n              fontFamily: F.body,\n              fontSize: 11,\n              fontWeight: 700,\n              cursor: \"pointer\",\n              marginTop: 10,\n            }}\n          >\n            â†º Refresh\n          </button>\n        </div>\n      )}\n    </AIC>\n  );\n};\n\n// Smart pre-fill\nconst PreFill = ({ sessions, onPreFill }) => {\n  if (!sessions.length) return null;\n  const last = sessions[0];\n  const fc = Object.values(last.bodyMap || {}).filter(\n    (v) => v === \"focus\"\n  ).length;\n  const d = Math.floor((Date.now() - new Date(last.date)) / 86400000);\n  return (\n    <AIC style={{ marginBottom: 14 }}>\n      <AIB label=\"Smart Session Start\" />\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"flex-start\",\n          marginBottom: 12,\n        }}\n      >\n        <div style={{ flex: 1 }}>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 13,\n              fontWeight: 700,\n              color: C.text,\n              marginBottom: 4,\n            }}\n          >\n            Welcome back\n            {last.clientInfo?.name ? `, ${last.clientInfo.name}` : \"\"}!\n          </p>\n          <p style={{ fontFamily: F.body, fontSize: 12, color: C.textMid }}>\n            Last session{\" \"}\n            {d === 0 ? \"today\" : d === 1 ? \"yesterday\" : `${d} days ago`} Â· {fc}{\" \"}\n            focus area{fc !== 1 ? \"s\" : \"\"}\n          </p>\n        </div>\n        <Mini\n          regions={FRONT_REGIONS}\n          selections={last.bodyMap || {}}\n          label=\"\"\n        />\n      </div>\n      <button\n        onClick={() => onPreFill(last)}\n        style={{\n          background: C.aiGold,\n          color: \"#fff\",\n          border: \"none\",\n          padding: \"11px 18px\",\n          borderRadius: 50,\n          fontFamily: F.body,\n          fontSize: 13,\n          fontWeight: 800,\n          cursor: \"pointer\",\n          width: \"100%\",\n        }}\n      >\n        âœ¦ Start from Last Session's Preferences\n      </button>\n      <p\n        style={{\n          fontFamily: F.body,\n          fontSize: 11,\n          color: C.textLight,\n          textAlign: \"center\",\n          marginTop: 8,\n        }}\n      >\n        Pre-fills your map and preferences â€” modify anything\n      </p>\n    </AIC>\n  );\n};\n\n// Pattern prediction\nconst Prediction = ({ sessions, onApply }) => {\n  if (sessions.length < 3) return null;\n  const p = buildPattern(sessions);\n  if (!p || !p.topFocus.length) return null;\n  const top = p.topFocus[0];\n  const cc = top.pct >= 80 ? C.focus : top.pct >= 60 ? C.aiGold : C.sage;\n  const cl =\n    top.pct >= 80\n      ? \"Strong pattern\"\n      : top.pct >= 60\n      ? \"Clear pattern\"\n      : \"Emerging pattern\";\n  return (\n    <AIC>\n      <AIB label=\"Session Intelligence\" />\n      <h3\n        style={{\n          fontFamily: F.body,\n          fontSize: 13,\n          fontWeight: 800,\n          color: C.aiGold,\n          marginBottom: 12,\n          textTransform: \"uppercase\",\n        }}\n      >\n        Based on your {sessions.length} sessions\n      </h3>\n      <div\n        style={{\n          background: \"rgba(255,255,255,0.6)\",\n          borderRadius: 14,\n          padding: \"12px 14px\",\n          marginBottom: 10,\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 6,\n          }}\n        >\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 12,\n              fontWeight: 800,\n              color: C.textMid,\n            }}\n          >\n            Most Chosen Focus Area\n          </p>\n          <span\n            style={{\n              background: cc,\n              color: \"#fff\",\n              fontSize: 10,\n              fontWeight: 800,\n              padding: \"2px 8px\",\n              borderRadius: 20,\n              fontFamily: F.body,\n            }}\n          >\n            {cl}\n          </span>\n        </div>\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 10 }}>\n          <p\n            style={{\n              fontFamily: F.display,\n              fontSize: 22,\n              fontWeight: 600,\n              color: C.green,\n              flex: 1,\n            }}\n          >\n            {top.label}\n          </p>\n          <div style={{ textAlign: \"right\" }}>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 20,\n                fontWeight: 800,\n                color: cc,\n              }}\n            >\n              {top.pct}%\n            </p>\n            <p style={{ fontFamily: F.body, fontSize: 10, color: C.textLight }}>\n              of sessions\n            </p>\n          </div>\n        </div>\n        <div\n          style={{\n            height: 6,\n            background: C.border,\n            borderRadius: 3,\n            marginTop: 8,\n          }}\n        >\n          <div\n            style={{\n              height: \"100%\",\n              width: `${top.pct}%`,\n              background: `linear-gradient(90deg,${C.focus},${C.sage})`,\n              borderRadius: 3,\n            }}\n          />\n        </div>\n      </div>\n      {p.topFocus.length > 1 && (\n        <div style={{ marginBottom: 12 }}>\n          <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 6 }}>\n            {p.topFocus.slice(0, 5).map((f) => (\n              <span\n                key={f.label}\n                style={{\n                  background: `${C.focus}18`,\n                  color: C.focus,\n                  border: `1px solid ${C.focus}30`,\n                  padding: \"4px 10px\",\n                  borderRadius: 20,\n                  fontSize: 11,\n                  fontWeight: 700,\n                  fontFamily: F.body,\n                }}\n              >\n                ðŸŸ¢ {f.label} Â· {f.pct}%\n              </span>\n            ))}\n          </div>\n        </div>\n      )}\n      <button\n        onClick={onApply}\n        style={{\n          background: C.green,\n          color: \"#fff\",\n          border: \"none\",\n          padding: \"12px 20px\",\n          borderRadius: 50,\n          fontFamily: F.body,\n          fontSize: 13,\n          fontWeight: 800,\n          cursor: \"pointer\",\n          width: \"100%\",\n        }}\n      >\n        âœ¦ Pre-fill from My Patterns\n      </button>\n    </AIC>\n  );\n};\n\n// â”€â”€ 5-DIMENSION REVIEW â”€â”€\nconst DIMS = [\n  {\n    id: \"pressure\",\n    icon: \"ðŸ’†\",\n    label: \"Pressure Match\",\n    q: \"Did the pressure match what you asked for?\",\n    opts: [\n      { v: 1, e: \"ðŸ˜£\", l: \"Way off\" },\n      { v: 2, e: \"ðŸ˜•\", l: \"A bit off\" },\n      { v: 3, e: \"ðŸ˜Š\", l: \"Pretty good\" },\n      { v: 4, e: \"ðŸ˜Œ\", l: \"Just right\" },\n      { v: 5, e: \"ðŸ¤©\", l: \"Perfect\" },\n    ],\n  },\n  {\n    id: \"focus\",\n    icon: \"ðŸŽ¯\",\n    label: \"Focus Accuracy\",\n    q: \"Did your therapist work on the right areas?\",\n    opts: [\n      { v: 1, e: \"ðŸ˜ž\", l: \"Missed them\" },\n      { v: 2, e: \"ðŸ˜\", l: \"Partially\" },\n      { v: 3, e: \"ðŸ™‚\", l: \"Mostly yes\" },\n      { v: 4, e: \"ðŸ˜„\", l: \"Very accurate\" },\n      { v: 5, e: \"â­\", l: \"Spot on\" },\n    ],\n  },\n  {\n    id: \"comfort\",\n    icon: \"ðŸ›¡ï¸\",\n    label: \"Comfort & Communication\",\n    q: \"Did you feel comfortable and heard?\",\n    opts: [\n      { v: 1, e: \"ðŸ˜°\", l: \"Uncomfortable\" },\n      { v: 2, e: \"ðŸ˜Ÿ\", l: \"Somewhat\" },\n      { v: 3, e: \"ðŸ˜Œ\", l: \"Fairly good\" },\n      { v: 4, e: \"ðŸ¥°\", l: \"Very at ease\" },\n      { v: 5, e: \"ðŸ’š\", l: \"Completely\" },\n    ],\n  },\n  {\n    id: \"atmosphere\",\n    icon: \"ðŸŒ¿\",\n    label: \"Atmosphere\",\n    q: \"Music, lighting, temperature â€” how was the setting?\",\n    opts: [\n      { v: 1, e: \"ðŸ˜©\", l: \"Distracting\" },\n      { v: 2, e: \"ðŸ˜‘\", l: \"Okay\" },\n      { v: 3, e: \"ðŸ™‚\", l: \"Good\" },\n      { v: 4, e: \"ðŸ˜Š\", l: \"Very nice\" },\n      { v: 5, e: \"âœ¨\", l: \"Heavenly\" },\n    ],\n  },\n  {\n    id: \"overall\",\n    icon: \"ðŸŒŸ\",\n    label: \"Overall Experience\",\n    q: \"How do you feel walking out?\",\n    opts: [\n      { v: 1, e: \"ðŸ˜”\", l: \"Disappointed\" },\n      { v: 2, e: \"ðŸ˜\", l: \"Fine\" },\n      { v: 3, e: \"ðŸ™‚\", l: \"Good\" },\n      { v: 4, e: \"ðŸ˜„\", l: \"Really good\" },\n      { v: 5, e: \"ðŸš€\", l: \"Amazing\" },\n    ],\n  },\n];\n\nconst DimRater = ({ dim, value, onChange }) => (\n  <div style={{ marginBottom: 20 }}>\n    <div\n      style={{ display: \"flex\", alignItems: \"center\", gap: 8, marginBottom: 8 }}\n    >\n      <span style={{ fontSize: 18 }}>{dim.icon}</span>\n      <div>\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 13,\n            fontWeight: 800,\n            color: C.green,\n          }}\n        >\n          {dim.label}\n        </p>\n        <p style={{ fontFamily: F.body, fontSize: 12, color: C.textLight }}>\n          {dim.q}\n        </p>\n      </div>\n    </div>\n    <div style={{ display: \"flex\", gap: 5 }}>\n      {dim.opts.map((o) => (\n        <button\n          key={o.v}\n          onClick={() => onChange(dim.id, o.v)}\n          style={{\n            flex: 1,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            gap: 4,\n            padding: \"10px 2px\",\n            borderRadius: 14,\n            border: \"none\",\n            background:\n              value === o.v ? `${C.focus}20` : \"rgba(255,255,255,0.7)\",\n            outline: `2px solid ${value === o.v ? C.focus : \"transparent\"}`,\n            cursor: \"pointer\",\n            transition: \"all 0.18s\",\n            transform: value === o.v ? \"scale(1.05)\" : \"scale(1)\",\n          }}\n        >\n          <span style={{ fontSize: 24 }}>{o.e}</span>\n          <span\n            style={{\n              fontFamily: F.body,\n              fontSize: 9,\n              fontWeight: 800,\n              color: value === o.v ? C.focus : C.textLight,\n              textAlign: \"center\",\n              lineHeight: 1.2,\n            }}\n          >\n            {o.l}\n          </span>\n        </button>\n      ))}\n    </div>\n    {value > 0 && (\n      <div\n        style={{\n          height: 3,\n          background: C.border,\n          borderRadius: 2,\n          marginTop: 8,\n        }}\n      >\n        <div\n          style={{\n            height: \"100%\",\n            width: `${(value / 5) * 100}%`,\n            background: `linear-gradient(90deg,${C.sage},${C.focus})`,\n            borderRadius: 2,\n            transition: \"width 0.3s\",\n          }}\n        />\n      </div>\n    )}\n  </div>\n);\n\nconst ReviewScreen = ({ clientInfo, onDone }) => {\n  const [ratings, setR] = useState({});\n  const [returning, setRet] = useState(null);\n  const [note, setNote] = useState(\"\");\n  const [submitted, setSub] = useState(false);\n  const setRating = (id, v) => setR((r) => ({ ...r, [id]: v }));\n  const allRated = DIMS.every((d) => ratings[d.id]);\n  const avg = allRated\n    ? Math.round(\n        Object.values(ratings).reduce((a, b) => a + b, 0) / DIMS.length\n      )\n    : 0;\n  const OC = [\"\", \"#E57373\", \"#FFA726\", \"#66BB6A\", \"#42A5F5\", \"#AB47BC\"];\n  const OL = [\n    \"\",\n    \"Needs work\",\n    \"Getting there\",\n    \"Good session\",\n    \"Great session\",\n    \"Exceptional!\",\n  ];\n  const submit = () => {\n    try {\n      const r = JSON.parse(localStorage.getItem(\"bodymap-reviews\") || \"[]\");\n      r.unshift({\n        id: Date.now(),\n        client: clientInfo.name,\n        ratings,\n        avg,\n        returning,\n        note,\n        date: new Date().toISOString(),\n      });\n      localStorage.setItem(\"bodymap-reviews\", JSON.stringify(r));\n    } catch {}\n    setSub(true);\n  };\n\n  if (submitted)\n    return (\n      <div\n        style={{\n          background: C.bg,\n          padding: \"60px 20px\",\n          minHeight: \"100vh\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <div style={{ textAlign: \"center\", maxWidth: 380 }}>\n          <div style={{ fontSize: 60, marginBottom: 16 }}>ðŸŒ¿</div>\n          <h1\n            style={{\n              fontFamily: F.display,\n              fontSize: 36,\n              fontWeight: 600,\n              color: C.green,\n              marginBottom: 8,\n            }}\n          >\n            Thank you!\n          </h1>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 15,\n              color: C.textMid,\n              marginBottom: 28,\n              lineHeight: 1.7,\n            }}\n          >\n            Your detailed feedback helps your therapist grow their practice.\n          </p>\n          <Card style={{ background: C.sagePale, marginBottom: 20 }}>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 11,\n                fontWeight: 800,\n                color: C.textLight,\n                textTransform: \"uppercase\",\n                marginBottom: 14,\n              }}\n            >\n              Your Feedback Summary\n            </p>\n            {DIMS.map((d) => (\n              <div\n                key={d.id}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                  marginBottom: 10,\n                }}\n              >\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 8 }}>\n                  <span style={{ fontSize: 16 }}>{d.icon}</span>\n                  <p\n                    style={{ fontFamily: F.body, fontSize: 12, color: C.text }}\n                  >\n                    {d.label}\n                  </p>\n                </div>\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                  <span style={{ fontSize: 20 }}>\n                    {d.opts.find((o) => o.v === ratings[d.id])?.e || \"â€”\"}\n                  </span>\n                  <div\n                    style={{\n                      width: 40,\n                      height: 6,\n                      background: C.border,\n                      borderRadius: 3,\n                    }}\n                  >\n                    <div\n                      style={{\n                        height: \"100%\",\n                        width: `${((ratings[d.id] || 0) / 5) * 100}%`,\n                        background: C.focus,\n                        borderRadius: 3,\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n            ))}\n            {avg > 0 && (\n              <div\n                style={{\n                  borderTop: `1px solid ${C.border}`,\n                  paddingTop: 12,\n                  marginTop: 4,\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                }}\n              >\n                <p\n                  style={{\n                    fontFamily: F.body,\n                    fontSize: 13,\n                    fontWeight: 800,\n                    color: C.green,\n                  }}\n                >\n                  Overall\n                </p>\n                <p\n                  style={{\n                    fontFamily: F.display,\n                    fontSize: 20,\n                    fontWeight: 600,\n                    color: OC[avg],\n                  }}\n                >\n                  {OL[avg]}\n                </p>\n              </div>\n            )}\n          </Card>\n          <Btn onClick={onDone} style={{ width: \"100%\" }}>\n            Back to Home ðŸ \n          </Btn>\n        </div>\n      </div>\n    );\n\n  return (\n    <div\n      style={{\n        background: C.bg,\n        padding: \"24px 20px 60px\",\n        minHeight: \"100vh\",\n      }}\n    >\n      <div style={{ textAlign: \"center\", marginBottom: 24 }}>\n        <h1\n          style={{\n            fontFamily: F.display,\n            fontSize: 34,\n            fontWeight: 600,\n            color: C.green,\n          }}\n        >\n          How was your session?\n        </h1>\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 13,\n            color: C.textLight,\n            marginTop: 6,\n          }}\n        >\n          5 quick ratings across what matters most\n        </p>\n      </div>\n      <div style={{ display: \"flex\", gap: 5, marginBottom: 16 }}>\n        {DIMS.map((d) => (\n          <div\n            key={d.id}\n            style={{\n              flex: 1,\n              height: 4,\n              borderRadius: 2,\n              background: ratings[d.id] ? C.focus : C.border,\n              transition: \"background 0.3s\",\n            }}\n          />\n        ))}\n      </div>\n      {allRated && (\n        <div\n          style={{\n            background: OC[avg] + \"18\",\n            border: `2px solid ${OC[avg]}40`,\n            borderRadius: 16,\n            padding: \"14px 18px\",\n            marginBottom: 16,\n            textAlign: \"center\",\n          }}\n        >\n          <p\n            style={{\n              fontFamily: F.display,\n              fontSize: 24,\n              fontWeight: 600,\n              color: OC[avg],\n            }}\n          >\n            {OL[avg]}\n          </p>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 12,\n              color: C.textMid,\n              marginTop: 4,\n            }}\n          >\n            Average across all dimensions\n          </p>\n        </div>\n      )}\n      <Card>\n        {DIMS.map((d) => (\n          <DimRater\n            key={d.id}\n            dim={d}\n            value={ratings[d.id] || 0}\n            onChange={setRating}\n          />\n        ))}\n      </Card>\n      <Card>\n        <PS icon=\"ðŸ”„\" title=\"Would you return?\" />\n        <div style={{ display: \"flex\", gap: 8 }}>\n          {[\n            { v: true, i: \"ðŸ’š\", l: \"Absolutely\" },\n            { v: \"maybe\", i: \"ðŸ¤”\", l: \"Maybe\" },\n            { v: false, i: \"âŒ\", l: \"Probably not\" },\n          ].map(({ v, i, l }) => (\n            <PT\n              key={l}\n              icon={i}\n              label={l}\n              selected={returning === v}\n              onClick={() => setRet(v)}\n            />\n          ))}\n        </div>\n      </Card>\n      <Card>\n        <PS icon=\"âœï¸\" title=\"Anything else? (optional)\" />\n        <TA\n          placeholder=\"What you loved, or suggestions for next time...\"\n          value={note}\n          onChange={(e) => setNote(e.target.value)}\n          style={{ minHeight: 90 }}\n        />\n      </Card>\n      <div\n        style={{\n          background: C.sagePale,\n          borderRadius: 14,\n          padding: \"11px 15px\",\n          marginBottom: 16,\n        }}\n      >\n        <p style={{ fontFamily: F.body, fontSize: 12, color: C.textMid }}>\n          ðŸ”’ Shared with your therapist only. Your name{\" \"}\n          <strong>{clientInfo.name}</strong> will be visible.\n        </p>\n      </div>\n      <Btn onClick={submit} disabled={!allRated} style={{ width: \"100%\" }}>\n        {allRated ? \"Submit Feedback âœ“\" : \"Rate all 5 dimensions to submit\"}\n      </Btn>\n    </div>\n  );\n};\n\n// Preferences screen\nconst PrefScreen = ({\n  prefs,\n  setPrefs,\n  notes,\n  setNotes,\n  consent,\n  setConsent,\n  onNext,\n  onBack,\n}) => {\n  const upd = (k, v) => setPrefs((p) => ({ ...p, [k]: v }));\n  return (\n    <div\n      style={{\n        background: C.bg,\n        padding: \"18px 20px 60px\",\n        minHeight: \"100vh\",\n      }}\n    >\n      <Step step={3} />\n      <h2\n        style={{\n          fontFamily: F.display,\n          fontSize: 26,\n          fontWeight: 600,\n          color: C.green,\n          textAlign: \"center\",\n          marginBottom: 4,\n        }}\n      >\n        Your Preferences\n      </h2>\n      <p\n        style={{\n          fontFamily: F.body,\n          fontSize: 13,\n          color: C.textLight,\n          textAlign: \"center\",\n          marginBottom: 18,\n        }}\n      >\n        Help your therapist create the perfect session\n      </p>\n      <Card>\n        <PS icon=\"ðŸ’†\" title=\"Pressure\" />\n        <Slider value={prefs.pressure} onChange={(v) => upd(\"pressure\", v)} />\n      </Card>\n      <Card>\n        <PS icon=\"ðŸŽ¯\" title=\"Session Goal\" />\n        <div style={{ display: \"flex\", gap: 6 }}>\n          {[\n            { v: \"relax\", i: \"ðŸ˜Œ\", l: \"Relax\" },\n            { v: \"pain\", i: \"ðŸ’Š\", l: \"Pain Relief\" },\n            { v: \"athletic\", i: \"ðŸƒ\", l: \"Athletic\" },\n            { v: \"stress\", i: \"ðŸ§˜\", l: \"Stress\" },\n            { v: \"injury\", i: \"ðŸ©¹\", l: \"Rehab\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.goal === o.v}\n              onClick={() => upd(\"goal\", o.v)}\n            />\n          ))}\n        </div>\n      </Card>\n      <Card>\n        <PS icon=\"ðŸŒ¡ï¸\" title=\"Table Temperature\" />\n        <div style={{ display: \"flex\", gap: 6, marginBottom: 16 }}>\n          {[\n            { v: \"cool\", i: \"â„ï¸\", l: \"Cool\" },\n            { v: \"neutral\", i: \"ðŸ˜Š\", l: \"Neutral\" },\n            { v: \"warm\", i: \"â˜€ï¸\", l: \"Warm\" },\n            { v: \"hot\", i: \"ðŸ”¥\", l: \"Hot\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.tableTemp === o.v}\n              onClick={() => upd(\"tableTemp\", o.v)}\n            />\n          ))}\n        </div>\n        <PS icon=\"ðŸŒ¿\" title=\"Room Temperature\" />\n        <div style={{ display: \"flex\", gap: 6 }}>\n          {[\n            { v: \"cool\", i: \"ðŸŒ¬ï¸\", l: \"Cool\" },\n            { v: \"comfortable\", i: \"âœ…\", l: \"Comfortable\" },\n            { v: \"warm\", i: \"ðŸŒž\", l: \"Warm\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.roomTemp === o.v}\n              onClick={() => upd(\"roomTemp\", o.v)}\n            />\n          ))}\n        </div>\n      </Card>\n      <Card>\n        <PS icon=\"ðŸŽµ\" title=\"Music\" />\n        <div style={{ display: \"flex\", gap: 6, marginBottom: 16 }}>\n          {[\n            { v: \"silence\", i: \"ðŸ”‡\", l: \"Silence\" },\n            { v: \"soft\", i: \"ðŸŽµ\", l: \"Soft\" },\n            { v: \"nature\", i: \"ðŸŒ¿\", l: \"Nature\" },\n            { v: \"upbeat\", i: \"ðŸŽ¶\", l: \"Upbeat\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.music === o.v}\n              onClick={() => upd(\"music\", o.v)}\n            />\n          ))}\n        </div>\n        <PS icon=\"ðŸ’¡\" title=\"Lighting\" />\n        <div style={{ display: \"flex\", gap: 6 }}>\n          {[\n            { v: \"dark\", i: \"ðŸŒ‘\", l: \"Very Dim\" },\n            { v: \"dim\", i: \"ðŸŒ“\", l: \"Soft\" },\n            { v: \"normal\", i: \"ðŸ’¡\", l: \"Normal\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.lighting === o.v}\n              onClick={() => upd(\"lighting\", o.v)}\n            />\n          ))}\n        </div>\n      </Card>\n      <Card>\n        <PS icon=\"ðŸ—£ï¸\" title=\"Conversation\" />\n        <div style={{ display: \"flex\", gap: 6, marginBottom: 16 }}>\n          {[\n            { v: \"quiet\", i: \"ðŸ¤«\", l: \"Quiet please\" },\n            { v: \"open\", i: \"ðŸ’¬\", l: \"Happy to chat\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.conversation === o.v}\n              onClick={() => upd(\"conversation\", o.v)}\n            />\n          ))}\n        </div>\n        <PS icon=\"ðŸ›ï¸\" title=\"Draping\" />\n        <div style={{ display: \"flex\", gap: 6 }}>\n          {[\n            { v: \"standard\", i: \"ðŸ›ï¸\", l: \"Standard\" },\n            { v: \"extra\", i: \"ðŸ”’\", l: \"Extra Coverage\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.draping === o.v}\n              onClick={() => upd(\"draping\", o.v)}\n            />\n          ))}\n        </div>\n      </Card>\n      <Card>\n        <PS icon=\"ðŸŒ¸\" title=\"Oil & Fragrance\" />\n        <div style={{ display: \"flex\", gap: 6, marginBottom: 10 }}>\n          {[\n            { v: \"none\", i: \"âœ…\", l: \"No Issues\" },\n            { v: \"noscent\", i: \"ðŸš«\", l: \"Fragrance-free\" },\n            { v: \"allergy\", i: \"âš ï¸\", l: \"Allergies\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.oilPref === o.v}\n              onClick={() => upd(\"oilPref\", o.v)}\n            />\n          ))}\n        </div>\n        {prefs.oilPref === \"allergy\" && (\n          <Inp\n            placeholder=\"Describe your allergy...\"\n            value={prefs.allergyNote || \"\"}\n            onChange={(e) => upd(\"allergyNote\", e.target.value)}\n          />\n        )}\n      </Card>\n      <Card>\n        <PS icon=\"ðŸ“‹\" title=\"Medical or Injury Notes\" />\n        <div style={{ display: \"flex\", gap: 6, marginBottom: 10 }}>\n          {[\n            { v: \"none\", i: \"âœ…\", l: \"Nothing to note\" },\n            { v: \"yes\", i: \"âš ï¸\", l: \"I have a note\" },\n          ].map((o) => (\n            <PT\n              key={o.v}\n              icon={o.i}\n              label={o.l}\n              selected={prefs.medFlag === o.v}\n              onClick={() => upd(\"medFlag\", o.v)}\n            />\n          ))}\n        </div>\n        {prefs.medFlag === \"yes\" && (\n          <TA\n            placeholder=\"Describe any areas of awareness your therapist should know about...\"\n            value={prefs.medNote || \"\"}\n            onChange={(e) => upd(\"medNote\", e.target.value)}\n          />\n        )}\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 11,\n            color: C.textLight,\n            marginTop: 8,\n          }}\n        >\n          â„¹ï¸ BodyMap is a communication tool, not a medical service.\n        </p>\n      </Card>\n      <Card>\n        <PS icon=\"âœï¸\" title=\"Anything else?\" />\n        <TA\n          placeholder=\"Special requests, things you love, anything your therapist should know...\"\n          value={notes}\n          onChange={(e) => setNotes(e.target.value)}\n        />\n      </Card>\n      <Card style={{ background: C.sagePale }}>\n        <div style={{ display: \"flex\", gap: 12, alignItems: \"flex-start\" }}>\n          <input\n            type=\"checkbox\"\n            checked={consent}\n            onChange={(e) => setConsent(e.target.checked)}\n            style={{\n              width: 18,\n              height: 18,\n              marginTop: 2,\n              accentColor: C.green,\n              cursor: \"pointer\",\n              flexShrink: 0,\n            }}\n          />\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 12,\n              color: C.textMid,\n              lineHeight: 1.6,\n            }}\n          >\n            I confirm this is a communication tool, not a medical service. I\n            authorize sharing this information with my massage therapist.\n          </p>\n        </div>\n      </Card>\n      <div style={{ display: \"flex\", gap: 10, marginTop: 6 }}>\n        <Btn ghost onClick={onBack}>\n          â† Back\n        </Btn>\n        <Btn onClick={onNext} disabled={!consent} style={{ flex: 2 }}>\n          Send to Therapist ðŸ“¤\n        </Btn>\n      </div>\n    </div>\n  );\n};\n\n// Therapist view\nconst PMAP = {\n  goal: {\n    relax: [\"ðŸ˜Œ\", \"Relaxation\"],\n    pain: [\"ðŸ’Š\", \"Pain Relief\"],\n    athletic: [\"ðŸƒ\", \"Athletic Recovery\"],\n    stress: [\"ðŸ§˜\", \"Stress Relief\"],\n    injury: [\"ðŸ©¹\", \"Injury Rehab\"],\n  },\n  tableTemp: {\n    cool: [\"â„ï¸\", \"Cool\"],\n    neutral: [\"ðŸ˜Š\", \"Neutral\"],\n    warm: [\"â˜€ï¸\", \"Warm\"],\n    hot: [\"ðŸ”¥\", \"Hot\"],\n  },\n  roomTemp: {\n    cool: [\"ðŸŒ¬ï¸\", \"Cool\"],\n    comfortable: [\"âœ…\", \"Comfortable\"],\n    warm: [\"ðŸŒž\", \"Warm\"],\n  },\n  music: {\n    silence: [\"ðŸ”‡\", \"Silence\"],\n    soft: [\"ðŸŽµ\", \"Soft Music\"],\n    nature: [\"ðŸŒ¿\", \"Nature Sounds\"],\n    upbeat: [\"ðŸŽ¶\", \"Upbeat\"],\n  },\n  lighting: {\n    dark: [\"ðŸŒ‘\", \"Very Dim\"],\n    dim: [\"ðŸŒ“\", \"Soft\"],\n    normal: [\"ðŸ’¡\", \"Normal\"],\n  },\n  conversation: {\n    quiet: [\"ðŸ¤«\", \"Quiet Please\"],\n    open: [\"ðŸ’¬\", \"Happy to Chat\"],\n  },\n  draping: { standard: [\"ðŸ›ï¸\", \"Standard\"], extra: [\"ðŸ”’\", \"Extra Coverage\"] },\n  oilPref: {\n    none: [\"âœ…\", \"No Issues\"],\n    noscent: [\"ðŸš«\", \"Fragrance-Free\"],\n    allergy: [\"âš ï¸\", \"Has Allergy\"],\n  },\n};\n\nconst TherapistView = ({\n  clientInfo,\n  bodyMap,\n  prefs,\n  notes,\n  sessions,\n  onBack,\n  onReview,\n}) => {\n  const [tN, setTN] = useState(\"\");\n  const [saved, setSaved] = useState(false);\n  const fa = ALL_REGIONS.filter((r) => bodyMap[r.id] === \"focus\");\n  const av = ALL_REGIONS.filter((r) => bodyMap[r.id] === \"avoid\");\n  return (\n    <div\n      style={{\n        background: \"#EEF2EC\",\n        minHeight: \"100vh\",\n        padding: \"0 20px 60px\",\n      }}\n    >\n      <div\n        style={{\n          background: `linear-gradient(135deg,${C.green} 0%,#1E4230 100%)`,\n          borderRadius: \"0 0 28px 28px\",\n          padding: \"28px 22px 22px\",\n          marginLeft: -20,\n          marginRight: -20,\n          width: \"calc(100% + 40px)\",\n          marginBottom: 18,\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"flex-start\",\n          }}\n        >\n          <div>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 10,\n                color: C.sagePale,\n                fontWeight: 700,\n                letterSpacing: 1,\n                textTransform: \"uppercase\",\n                marginBottom: 3,\n              }}\n            >\n              Therapist View Â· Pre-Session\n            </p>\n            <h2\n              style={{\n                fontFamily: F.display,\n                fontSize: 30,\n                fontWeight: 600,\n                color: \"#fff\",\n              }}\n            >\n              {clientInfo.name}\n            </h2>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 12,\n                color: C.sagePale,\n                marginTop: 4,\n              }}\n            >\n              {new Date().toLocaleDateString(\"en-US\", {\n                weekday: \"long\",\n                month: \"long\",\n                day: \"numeric\",\n                year: \"numeric\",\n              })}\n            </p>\n          </div>\n          <div\n            style={{\n              width: 46,\n              height: 46,\n              borderRadius: \"50%\",\n              background: \"rgba(255,255,255,0.15)\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              fontSize: 22,\n            }}\n          >\n            ðŸŒ¿\n          </div>\n        </div>\n      </div>\n      <TherapistLoyalty sessions={sessions} clientName={clientInfo.name} />\n      <AIBrief\n        clientInfo={clientInfo}\n        bodyMap={bodyMap}\n        prefs={prefs}\n        notes={notes}\n        sessions={sessions}\n      />\n      <Card>\n        <h3\n          style={{\n            fontFamily: F.body,\n            fontSize: 13,\n            fontWeight: 800,\n            color: C.green,\n            marginBottom: 14,\n            textTransform: \"uppercase\",\n          }}\n        >\n          Body Focus Map\n        </h3>\n        <div style={{ display: \"flex\", gap: 14, justifyContent: \"center\" }}>\n          <Mini regions={FRONT_REGIONS} selections={bodyMap} label=\"Front\" />\n          <Mini regions={BACK_REGIONS} selections={bodyMap} label=\"Back\" />\n        </div>\n        {fa.length > 0 && (\n          <div style={{ marginTop: 14 }}>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 10,\n                fontWeight: 800,\n                color: C.focus,\n                marginBottom: 6,\n                textTransform: \"uppercase\",\n              }}\n            >\n              ðŸŸ¢ Focus ({fa.length})\n            </p>\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 5 }}>\n              {fa.map((r) => (\n                <span\n                  key={r.id}\n                  style={{\n                    background: `${C.focus}18`,\n                    color: C.focus,\n                    border: `1px solid ${C.focus}40`,\n                    padding: \"3px 9px\",\n                    borderRadius: 20,\n                    fontSize: 11,\n                    fontWeight: 700,\n                    fontFamily: F.body,\n                  }}\n                >\n                  {r.label}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n        {av.length > 0 && (\n          <div style={{ marginTop: 10 }}>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 10,\n                fontWeight: 800,\n                color: C.avoid,\n                marginBottom: 6,\n                textTransform: \"uppercase\",\n              }}\n            >\n              ðŸ”´ Avoid ({av.length})\n            </p>\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 5 }}>\n              {av.map((r) => (\n                <span\n                  key={r.id}\n                  style={{\n                    background: `${C.avoid}18`,\n                    color: C.avoid,\n                    border: `1px solid ${C.avoid}40`,\n                    padding: \"3px 9px\",\n                    borderRadius: 20,\n                    fontSize: 11,\n                    fontWeight: 700,\n                    fontFamily: F.body,\n                  }}\n                >\n                  {r.label}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n      </Card>\n      <Card>\n        <h3\n          style={{\n            fontFamily: F.body,\n            fontSize: 13,\n            fontWeight: 800,\n            color: C.green,\n            marginBottom: 14,\n            textTransform: \"uppercase\",\n          }}\n        >\n          Session Preferences\n        </h3>\n        <div\n          style={{\n            background: C.sagePale,\n            borderRadius: 14,\n            padding: \"13px 15px\",\n            marginBottom: 12,\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 10,\n          }}\n        >\n          <span style={{ fontSize: 26 }}>ðŸ’†</span>\n          <div>\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 10,\n                fontWeight: 700,\n                color: C.textLight,\n                textTransform: \"uppercase\",\n              }}\n            >\n              Pressure\n            </p>\n            <p\n              style={{\n                fontFamily: F.display,\n                fontSize: 22,\n                fontWeight: 600,\n                color: C.green,\n              }}\n            >\n              {PLICONS[prefs.pressure]} {PLABELS[prefs.pressure]}\n            </p>\n          </div>\n        </div>\n        <div\n          style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 8 }}\n        >\n          {[\n            [\"Goal\", PMAP.goal[prefs.goal]],\n            [\"Table\", PMAP.tableTemp[prefs.tableTemp]],\n            [\"Room\", PMAP.roomTemp[prefs.roomTemp]],\n            [\"Music\", PMAP.music[prefs.music]],\n            [\"Lighting\", PMAP.lighting[prefs.lighting]],\n            [\"Chat\", PMAP.conversation[prefs.conversation]],\n            [\"Draping\", PMAP.draping[prefs.draping]],\n            [\"Oil\", PMAP.oilPref[prefs.oilPref]],\n          ]\n            .filter(([, v]) => v)\n            .map(([label, [icon, val]]) => (\n              <div\n                key={label}\n                style={{\n                  background: C.bg,\n                  borderRadius: 12,\n                  padding: \"10px 11px\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 7,\n                }}\n              >\n                <span style={{ fontSize: 18 }}>{icon}</span>\n                <div>\n                  <p\n                    style={{\n                      fontFamily: F.body,\n                      fontSize: 10,\n                      fontWeight: 700,\n                      color: C.textLight,\n                      textTransform: \"uppercase\",\n                    }}\n                  >\n                    {label}\n                  </p>\n                  <p\n                    style={{\n                      fontFamily: F.body,\n                      fontSize: 12,\n                      fontWeight: 700,\n                      color: C.text,\n                    }}\n                  >\n                    {val}\n                  </p>\n                </div>\n              </div>\n            ))}\n        </div>\n        {prefs.oilPref === \"allergy\" && prefs.allergyNote && (\n          <div\n            style={{\n              marginTop: 10,\n              background: \"#FFE4E0\",\n              border: \"1px solid #E57373\",\n              borderRadius: 12,\n              padding: 12,\n            }}\n          >\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 10,\n                fontWeight: 800,\n                color: \"#B71C1C\",\n                marginBottom: 3,\n              }}\n            >\n              ðŸš« ALLERGY ALERT\n            </p>\n            <p style={{ fontFamily: F.body, fontSize: 13, color: \"#7F0000\" }}>\n              {prefs.allergyNote}\n            </p>\n          </div>\n        )}\n        {prefs.medFlag === \"yes\" && prefs.medNote && (\n          <div\n            style={{\n              marginTop: 10,\n              background: \"#FFF8E1\",\n              border: \"1px solid #FFC107\",\n              borderRadius: 12,\n              padding: 12,\n            }}\n          >\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 10,\n                fontWeight: 800,\n                color: \"#856404\",\n                marginBottom: 3,\n              }}\n            >\n              âš ï¸ CLIENT-NOTED AREA OF AWARENESS\n            </p>\n            <p style={{ fontFamily: F.body, fontSize: 13, color: \"#533F00\" }}>\n              {prefs.medNote}\n            </p>\n          </div>\n        )}\n      </Card>\n      {notes && (\n        <Card>\n          <h3\n            style={{\n              fontFamily: F.body,\n              fontSize: 13,\n              fontWeight: 800,\n              color: C.green,\n              marginBottom: 8,\n              textTransform: \"uppercase\",\n            }}\n          >\n            Client Notes\n          </h3>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 14,\n              color: C.textMid,\n              fontStyle: \"italic\",\n              lineHeight: 1.6,\n            }}\n          >\n            \"{notes}\"\n          </p>\n        </Card>\n      )}\n      <Card>\n        <h3\n          style={{\n            fontFamily: F.body,\n            fontSize: 13,\n            fontWeight: 800,\n            color: C.green,\n            marginBottom: 4,\n            textTransform: \"uppercase\",\n          }}\n        >\n          Therapist Session Notes\n        </h3>\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 12,\n            color: C.textLight,\n            marginBottom: 10,\n          }}\n        >\n          For your records (saved to client history)\n        </p>\n        <TA\n          placeholder=\"What did you focus on? How did the client respond? Recommendations for next session?\"\n          value={tN}\n          onChange={(e) => {\n            setTN(e.target.value);\n            setSaved(false);\n          }}\n        />\n        <Btn\n          onClick={() => setSaved(true)}\n          disabled={!tN}\n          style={{ marginTop: 10, width: \"100%\" }}\n        >\n          {saved ? \"âœ… Notes Saved\" : \"Save Session Notes\"}\n        </Btn>\n      </Card>\n      {sessions.length > 0 && (\n        <Card>\n          <h3\n            style={{\n              fontFamily: F.body,\n              fontSize: 13,\n              fontWeight: 800,\n              color: C.green,\n              marginBottom: 12,\n              textTransform: \"uppercase\",\n            }}\n          >\n            Session History ({sessions.length})\n          </h3>\n          {sessions.slice(0, 3).map((s, i) => (\n            <div\n              key={s.id}\n              style={{\n                border: `1px solid ${C.border}`,\n                borderRadius: 14,\n                padding: 13,\n                marginBottom: 8,\n                background: C.bg,\n              }}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: 4,\n                }}\n              >\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                  <p\n                    style={{\n                      fontFamily: F.body,\n                      fontWeight: 800,\n                      fontSize: 13,\n                      color: C.green,\n                    }}\n                  >\n                    Session {sessions.length - i}\n                  </p>\n                  {s.isFreeSession && (\n                    <span\n                      style={{\n                        background: C.gold,\n                        color: C.text,\n                        fontSize: 9,\n                        fontWeight: 800,\n                        padding: \"1px 6px\",\n                        borderRadius: 20,\n                        fontFamily: F.body,\n                      }}\n                    >\n                      FREE\n                    </span>\n                  )}\n                </div>\n                <p\n                  style={{\n                    fontFamily: F.body,\n                    fontSize: 11,\n                    color: C.textLight,\n                  }}\n                >\n                  {new Date(s.date).toLocaleDateString(\"en-US\", {\n                    month: \"short\",\n                    day: \"numeric\",\n                    year: \"numeric\",\n                  })}\n                </p>\n              </div>\n              {s.therapistNotes ? (\n                <p\n                  style={{\n                    fontFamily: F.body,\n                    fontSize: 12,\n                    color: C.textMid,\n                    fontStyle: \"italic\",\n                  }}\n                >\n                  \"{s.therapistNotes}\"\n                </p>\n              ) : (\n                <p\n                  style={{\n                    fontFamily: F.body,\n                    fontSize: 12,\n                    color: C.textLight,\n                  }}\n                >\n                  No notes recorded\n                </p>\n              )}\n            </div>\n          ))}\n          {sessions.length > 3 && (\n            <p\n              style={{\n                fontFamily: F.body,\n                fontSize: 11,\n                color: C.textMid,\n                textAlign: \"center\",\n                marginTop: 8,\n              }}\n            >\n              + {sessions.length - 3} more session\n              {sessions.length - 3 > 1 ? \"s\" : \"\"}\n            </p>\n          )}\n        </Card>\n      )}\n      <div\n        style={{\n          background: `linear-gradient(135deg,${C.sagePale} 0%,#E8F4ED 100%)`,\n          border: `1.5px solid ${C.sage}40`,\n          borderRadius: 14,\n          padding: \"12px 14px\",\n          marginBottom: 12,\n        }}\n      >\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 11,\n            fontWeight: 800,\n            color: C.green,\n            marginBottom: 5,\n            textTransform: \"uppercase\",\n          }}\n        >\n          ðŸ“‹ Demo: Session Complete\n        </p>\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 12,\n            color: C.text,\n            lineHeight: 1.5,\n          }}\n        >\n          After the massage, you'd send {clientInfo.name} a link to rate their\n          experience. Click below to see the client feedback screen.\n        </p>\n      </div>\n      <div style={{ display: \"flex\", gap: 10 }}>\n        <Btn ghost onClick={onBack} style={{ flex: 1 }}>\n          â† Back\n        </Btn>\n        <Btn onClick={onReview} style={{ flex: 2 }}>\n          Preview: Client Feedback â†’\n        </Btn>\n      </div>\n    </div>\n  );\n};\n\n// History screen\nconst HistoryScreen = ({ sessions, clientName, onBack, onNewSession }) => {\n  const [exp, setExp] = useState(null);\n  if (!sessions.length)\n    return (\n      <div\n        style={{\n          background: C.bg,\n          padding: \"60px 20px\",\n          minHeight: \"100vh\",\n          textAlign: \"center\",\n        }}\n      >\n        <div style={{ fontSize: 50, marginBottom: 16 }}>ðŸ“‹</div>\n        <h2\n          style={{\n            fontFamily: F.display,\n            fontSize: 28,\n            fontWeight: 600,\n            color: C.green,\n            marginBottom: 8,\n          }}\n        >\n          No history yet\n        </h2>\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 14,\n            color: C.textLight,\n            marginBottom: 28,\n          }}\n        >\n          Complete your first session to start building your wellness timeline.\n        </p>\n        <Btn onClick={onNewSession} style={{ width: \"100%\" }}>\n          Start First Session\n        </Btn>\n      </div>\n    );\n  const cm = {};\n  sessions.forEach((s) =>\n    Object.entries(s.bodyMap || {}).forEach(([id, st]) => {\n      if (!cm[id]) cm[id] = { focus: 0, avoid: 0 };\n      cm[id][st] = (cm[id][st] || 0) + 1;\n    })\n  );\n  const tf = Object.entries(cm)\n    .filter(([, v]) => v.focus > 0)\n    .sort(([, a], [, b]) => b.focus - a.focus)\n    .slice(0, 3);\n  const ta = Object.entries(cm)\n    .filter(([, v]) => v.avoid > 0)\n    .sort(([, a], [, b]) => b.avoid - a.avoid)\n    .slice(0, 3);\n  return (\n    <div\n      style={{\n        background: C.bg,\n        padding: \"20px 20px 60px\",\n        minHeight: \"100vh\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 12,\n          marginBottom: 22,\n        }}\n      >\n        <button\n          onClick={onBack}\n          style={{\n            background: \"none\",\n            border: \"none\",\n            fontSize: 22,\n            cursor: \"pointer\",\n            color: C.green,\n          }}\n        >\n          â†\n        </button>\n        <div>\n          <h2\n            style={{\n              fontFamily: F.display,\n              fontSize: 26,\n              fontWeight: 600,\n              color: C.green,\n            }}\n          >\n            Session History\n          </h2>\n          <p style={{ fontFamily: F.body, fontSize: 12, color: C.textLight }}>\n            {sessions.length} session{sessions.length !== 1 ? \"s\" : \"\"} on\n            record\n          </p>\n        </div>\n      </div>\n      <LoyaltyBar sessions={sessions} />\n      <Insights sessions={sessions} clientName={clientName} />\n      {sessions.length >= 2 && (\n        <Card\n          style={{\n            background: `linear-gradient(135deg,${C.sagePale} 0%,#EAF4EF 100%)`,\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 8,\n              marginBottom: 12,\n            }}\n          >\n            <span style={{ fontSize: 18 }}>ðŸ“Š</span>\n            <h3\n              style={{\n                fontFamily: F.body,\n                fontSize: 13,\n                fontWeight: 800,\n                color: C.green,\n              }}\n            >\n              YOUR PATTERNS\n            </h3>\n          </div>\n          <div\n            style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 10 }}\n          >\n            <div>\n              <p\n                style={{\n                  fontFamily: F.body,\n                  fontSize: 10,\n                  fontWeight: 800,\n                  color: C.focus,\n                  marginBottom: 6,\n                  textTransform: \"uppercase\",\n                }}\n              >\n                Most Focused\n              </p>\n              {tf.map(([id, v]) => {\n                const r = ALL_REGIONS.find((r) => r.id === id);\n                return (\n                  <div\n                    key={id}\n                    style={{\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      marginBottom: 5,\n                    }}\n                  >\n                    <span\n                      style={{\n                        fontFamily: F.body,\n                        fontSize: 12,\n                        color: C.text,\n                      }}\n                    >\n                      {r?.label}\n                    </span>\n                    <span\n                      style={{\n                        fontFamily: F.body,\n                        fontSize: 11,\n                        fontWeight: 800,\n                        color: C.focus,\n                        background: `${C.focus}18`,\n                        padding: \"1px 7px\",\n                        borderRadius: 10,\n                      }}\n                    >\n                      {v.focus}Ã—\n                    </span>\n                  </div>\n                );\n              })}\n            </div>\n            <div>\n              <p\n                style={{\n                  fontFamily: F.body,\n                  fontSize: 10,\n                  fontWeight: 800,\n                  color: C.avoid,\n                  marginBottom: 6,\n                  textTransform: \"uppercase\",\n                }}\n              >\n                Most Avoided\n              </p>\n              {ta.map(([id, v]) => {\n                const r = ALL_REGIONS.find((r) => r.id === id);\n                return (\n                  <div\n                    key={id}\n                    style={{\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      marginBottom: 5,\n                    }}\n                  >\n                    <span\n                      style={{\n                        fontFamily: F.body,\n                        fontSize: 12,\n                        color: C.text,\n                      }}\n                    >\n                      {r?.label}\n                    </span>\n                    <span\n                      style={{\n                        fontFamily: F.body,\n                        fontSize: 11,\n                        fontWeight: 800,\n                        color: C.avoid,\n                        background: `${C.avoid}18`,\n                        padding: \"1px 7px\",\n                        borderRadius: 10,\n                      }}\n                    >\n                      {v.avoid}Ã—\n                    </span>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </Card>\n      )}\n      <div style={{ position: \"relative\" }}>\n        <div\n          style={{\n            position: \"absolute\",\n            left: 18,\n            top: 20,\n            bottom: 20,\n            width: 2,\n            background: C.sageMid,\n            borderRadius: 2,\n            zIndex: 0,\n          }}\n        />\n        {sessions.map((s, i) => (\n          <div\n            key={s.id}\n            style={{ position: \"relative\", paddingLeft: 44, marginBottom: 12 }}\n          >\n            <div\n              style={{\n                position: \"absolute\",\n                left: 10,\n                top: 18,\n                width: 16,\n                height: 16,\n                borderRadius: \"50%\",\n                background: i === 0 ? C.green : C.sage,\n                border: `3px solid ${C.bg}`,\n                zIndex: 1,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n              }}\n            >\n              {i === 0 && (\n                <div\n                  style={{\n                    width: 6,\n                    height: 6,\n                    borderRadius: \"50%\",\n                    background: \"#fff\",\n                  }}\n                />\n              )}\n            </div>\n            <Card\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\n              onClick={() => setExp(exp === s.id ? null : s.id)}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"flex-start\",\n                }}\n              >\n                <div style={{ flex: 1 }}>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      gap: 6,\n                      marginBottom: 4,\n                    }}\n                  >\n                    {i === 0 && (\n                      <span\n                        style={{\n                          background: C.green,\n                          color: \"#fff\",\n                          fontSize: 10,\n                          fontWeight: 800,\n                          padding: \"2px 8px\",\n                          borderRadius: 20,\n                          fontFamily: F.body,\n                        }}\n                      >\n                        LATEST\n                      </span>\n                    )}\n                    {s.isFreeSession && (\n                      <span\n                        style={{\n                          background: C.gold,\n                          color: C.text,\n                          fontSize: 10,\n                          fontWeight: 800,\n                          padding: \"2px 8px\",\n                          borderRadius: 20,\n                          fontFamily: F.body,\n                        }}\n                      >\n                        ðŸŽ FREE\n                      </span>\n                    )}\n                    <p\n                      style={{\n                        fontFamily: F.body,\n                        fontSize: 13,\n                        fontWeight: 800,\n                        color: C.green,\n                      }}\n                    >\n                      Session {sessions.length - i}\n                    </p>\n                  </div>\n                  <p\n                    style={{\n                      fontFamily: F.body,\n                      fontSize: 12,\n                      color: C.textLight,\n                    }}\n                  >\n                    {new Date(s.date).toLocaleDateString(\"en-US\", {\n                      weekday: \"short\",\n                      month: \"long\",\n                      day: \"numeric\",\n                      year: \"numeric\",\n                    })}\n                  </p>\n                </div>\n                <span\n                  style={{ fontSize: 14, color: C.textLight, marginLeft: 8 }}\n                >\n                  {exp === s.id ? \"â–²\" : \"â–¼\"}\n                </span>\n              </div>\n              {exp === s.id && (\n                <div\n                  style={{\n                    marginTop: 14,\n                    borderTop: `1px solid ${C.border}`,\n                    paddingTop: 14,\n                  }}\n                >\n                  <div\n                    style={{\n                      display: \"flex\",\n                      gap: 12,\n                      justifyContent: \"center\",\n                      marginBottom: 14,\n                    }}\n                  >\n                    <Mini\n                      regions={FRONT_REGIONS}\n                      selections={s.bodyMap || {}}\n                      label=\"Front\"\n                    />\n                    <Mini\n                      regions={BACK_REGIONS}\n                      selections={s.bodyMap || {}}\n                      label=\"Back\"\n                    />\n                  </div>\n                  {s.therapistNotes && (\n                    <div>\n                      <p\n                        style={{\n                          fontFamily: F.body,\n                          fontSize: 10,\n                          fontWeight: 800,\n                          color: C.textLight,\n                          textTransform: \"uppercase\",\n                          marginBottom: 4,\n                        }}\n                      >\n                        Therapist Notes\n                      </p>\n                      <p\n                        style={{\n                          fontFamily: F.body,\n                          fontSize: 13,\n                          color: C.textMid,\n                        }}\n                      >\n                        {s.therapistNotes}\n                      </p>\n                    </div>\n                  )}\n                </div>\n              )}\n            </Card>\n          </div>\n        ))}\n      </div>\n      <div style={{ marginTop: 8, paddingLeft: 44 }}>\n        <Btn onClick={onNewSession} style={{ width: \"100%\" }}>\n          + Book New Session\n        </Btn>\n      </div>\n    </div>\n  );\n};\n\n// Welcome screen\nconst WelcomeScreen = ({ onStart, sessions, onHistory, onPreFill }) => {\n  const [name, setName] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  return (\n    <div style={{ minHeight: \"100vh\", background: C.bg }}>\n      <div\n        style={{\n          background: `linear-gradient(155deg,${C.green} 0%,#1E4230 100%)`,\n          padding: \"28px 20px 24px\",\n          textAlign: \"center\",\n        }}\n      >\n        <div style={{ fontSize: 32, marginBottom: 5 }}>ðŸŒ¿</div>\n        <h1\n          style={{\n            fontFamily: F.display,\n            fontSize: 32,\n            fontWeight: 600,\n            color: \"#fff\",\n            margin: 0,\n            lineHeight: 1.1,\n          }}\n        >\n          BodyMap\n        </h1>\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 12,\n            color: C.sagePale,\n            marginTop: 4,\n            opacity: 0.9,\n          }}\n        >\n          Never re-explain your preferences again\n        </p>\n      </div>\n      <div style={{ padding: \"16px 20px 40px\" }}>\n        <Card style={{ padding: \"13px\" }}>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 10,\n              fontWeight: 800,\n              color: C.green,\n              marginBottom: 9,\n              textTransform: \"uppercase\",\n              letterSpacing: 0.5,\n            }}\n          >\n            Start Your First Session\n          </p>\n          <Inp\n            placeholder=\"Your name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            style={{ padding: \"9px 11px\", fontSize: 14, marginBottom: 7 }}\n          />\n          <Inp\n            placeholder=\"Phone or email\"\n            value={contact}\n            onChange={(e) => setContact(e.target.value)}\n            style={{ padding: \"9px 11px\", fontSize: 14, marginBottom: 10 }}\n          />\n          <Btn\n            onClick={() =>\n              onStart({ name: name.trim(), contact: contact.trim() })\n            }\n            \n            disabled={!name.trim() || !contact.trim()}\n            style={{ width: \"100%\" }}\n          >\n            Create My Body Map â†’\n          </Btn>\n          <p\n            style={{\n              fontFamily: F.body,\n              fontSize: 10,\n              color: C.textLight,\n              textAlign: \"center\",\n              marginTop: 7,\n            }}\n          >\n            ðŸ”’ Only shared with your therapist\n          </p>\n        </Card>\n\n      </div>\n    </div>\n  );\n};\n\n// Body map screen\nconst BMScreen = ({\n  title,\n  subtitle,\n  step,\n  regions,\n  selections,\n  onToggle,\n  mode,\n  setMode,\n  onNext,\n  onBack,\n  sessions,\n  onApply,\n}) => (\n  <div\n    style={{ background: C.bg, padding: \"18px 20px 16px\" }}\n  >\n    <Step step={step} />\n    <h2\n      style={{\n        fontFamily: F.display,\n        fontSize: 26,\n        fontWeight: 600,\n        color: C.green,\n        textAlign: \"center\",\n        marginBottom: 4,\n      }}\n    >\n      {title}\n    </h2>\n    <p\n      style={{\n        fontFamily: F.body,\n        fontSize: 13,\n        color: C.textLight,\n        textAlign: \"center\",\n        marginBottom: 16,\n      }}\n    >\n      {subtitle}\n    </p>\n    {(step === 1 || step === 2) && sessions.length >= 3 && (\n      <Prediction sessions={sessions} onApply={onApply} />\n    )}\n    <MT mode={mode} setMode={setMode} />\n    <div\n      style={{\n        background: mode === \"focus\" ? `${C.focus}12` : `${C.avoid}12`,\n        border: `1px solid ${mode === \"focus\" ? C.focus : C.avoid}40`,\n        borderRadius: 12,\n        padding: \"9px 14px\",\n        marginBottom: 14,\n        textAlign: \"center\",\n      }}\n    >\n      <p\n        style={{\n          fontFamily: F.body,\n          fontSize: 13,\n          fontWeight: 700,\n          color: mode === \"focus\" ? C.focus : C.avoid,\n        }}\n      >\n        {mode === \"focus\"\n          ? \"ðŸŸ¢ Tap areas where you want focus â€” tap again to clear\"\n          : \"ðŸ”´ Tap areas to avoid â€” tap again to clear\"}\n      </p>\n    </div>\n    <Card style={{ padding: 14 }}>\n      <BMSVG\n        regions={regions}\n        selections={selections}\n        onToggle={onToggle}\n        scale={1.06}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          gap: 14,\n          justifyContent: \"center\",\n          marginTop: 10,\n        }}\n      >\n        {[\n          { color: C.focus, l: \"Focus\" },\n          { color: C.avoid, l: \"Avoid\" },\n          { color: C.neutral, l: \"Tap to mark\" },\n        ].map(({ color, l }) => (\n          <div\n            key={l}\n            style={{ display: \"flex\", alignItems: \"center\", gap: 5 }}\n          >\n            <div\n              style={{\n                width: 10,\n                height: 10,\n                borderRadius: 3,\n                background: color,\n              }}\n            />\n            <span\n              style={{\n                fontFamily: F.body,\n                fontSize: 11,\n                fontWeight: 700,\n                color: C.textMid,\n              }}\n            >\n              {l}\n            </span>\n          </div>\n        ))}\n      </div>\n      <AT regions={regions} selections={selections} />\n    </Card>\n    <div style={{ display: \"flex\", gap: 10, marginTop: 6 }}>\n      {onBack && (\n        <Btn ghost onClick={onBack}>\n          â† Back\n        </Btn>\n      )}\n      <Btn onClick={onNext} style={{ flex: 2 }}>\n        {step === 2 ? \"Next: Preferences â†’\" : \"Next: Back of Body â†’\"}\n      </Btn>\n    </div>\n  </div>\n);\n\n// Summary screen\nconst SummaryScreen = ({ clientInfo, bodyMap, onViewTherapist, onReset }) => {\n  const [copied, setCopied] = useState(false);\n  const link = `bodymap.app/s/${clientInfo.name\n    .toLowerCase()\n    .replace(/\\s+/g, \"\")}-${Date.now().toString(36)}`;\n  const fn = Object.values(bodyMap).filter((v) => v === \"focus\").length;\n  const an = Object.values(bodyMap).filter((v) => v === \"avoid\").length;\n  const copy = () => {\n    try {\n      navigator.clipboard.writeText(`https://${link}`);\n    } catch {}\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2500);\n  };\n  return (\n    <div\n      style={{\n        background: C.bg,\n        padding: \"32px 20px 60px\",\n        minHeight: \"100vh\",\n      }}\n    >\n      <div style={{ textAlign: \"center\", marginBottom: 22 }}>\n        <div\n          style={{\n            width: 60,\n            height: 60,\n            borderRadius: \"50%\",\n            background: C.sagePale,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: 32,\n            margin: \"0 auto 10px\",\n          }}\n        >\n          âœ…\n        </div>\n        <h1\n          style={{\n            fontFamily: F.display,\n            fontSize: 28,\n            fontWeight: 600,\n            color: C.green,\n          }}\n        >\n          You're all set!\n        </h1>\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 13,\n            color: C.textLight,\n            marginTop: 5,\n          }}\n        >\n          Your preferences are ready to share\n        </p>\n      </div>\n      <Card style={{ padding: 14 }}>\n        <h3\n          style={{\n            fontFamily: F.body,\n            fontSize: 12,\n            fontWeight: 800,\n            color: C.green,\n            marginBottom: 12,\n            textTransform: \"uppercase\",\n          }}\n        >\n          Your Body Map\n        </h3>\n        <div style={{ display: \"flex\", gap: 12, justifyContent: \"center\" }}>\n          <Mini regions={FRONT_REGIONS} selections={bodyMap} label=\"Front\" />\n          <Mini regions={BACK_REGIONS} selections={bodyMap} label=\"Back\" />\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            gap: 16,\n            justifyContent: \"center\",\n            marginTop: 10,\n          }}\n        >\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: 5 }}>\n            <div\n              style={{\n                width: 9,\n                height: 9,\n                borderRadius: 2,\n                background: C.focus,\n              }}\n            />\n            <span\n              style={{ fontFamily: F.body, fontSize: 11, color: C.textMid }}\n            >\n              {fn} focus\n            </span>\n          </div>\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: 5 }}>\n            <div\n              style={{\n                width: 9,\n                height: 9,\n                borderRadius: 2,\n                background: C.avoid,\n              }}\n            />\n            <span\n              style={{ fontFamily: F.body, fontSize: 11, color: C.textMid }}\n            >\n              {an} avoid\n            </span>\n          </div>\n        </div>\n      </Card>\n      <Card style={{ padding: 14 }}>\n        <h3\n          style={{\n            fontFamily: F.body,\n            fontSize: 12,\n            fontWeight: 800,\n            color: C.green,\n            marginBottom: 3,\n            textTransform: \"uppercase\",\n          }}\n        >\n          Share with Your Therapist\n        </h3>\n        <p\n          style={{\n            fontFamily: F.body,\n            fontSize: 12,\n            color: C.textLight,\n            marginBottom: 12,\n          }}\n        >\n          Text, email, or show them this link before your appointment\n        </p>\n        <div style={{ display: \"flex\", gap: 7, marginBottom: 12 }}>\n          {[\n            { i: \"ðŸ’¬\", l: \"Text\" },\n            { i: \"ðŸ“§\", l: \"Email\" },\n            {\n              i: copied ? \"âœ…\" : \"ðŸ“‹\",\n              l: copied ? \"Copied\" : \"Copy\",\n              fn: copy,\n            },\n          ].map(({ i, l, fn: f }) => (\n            <button\n              key={l}\n              onClick={f || undefined}\n              style={{\n                flex: 1,\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                gap: 4,\n                padding: \"10px 3px\",\n                borderRadius: 12,\n                border: `2px solid ${C.border}`,\n                background: C.white,\n                cursor: \"pointer\",\n              }}\n            >\n              <span style={{ fontSize: 18 }}>{i}</span>\n              <span\n                style={{\n                  fontSize: 9,\n                  fontWeight: 700,\n                  color: C.textMid,\n                  fontFamily: F.body,\n                }}\n              >\n                {l}\n              </span>\n            </button>\n          ))}\n        </div>\n        <div\n          style={{\n            background: C.bg,\n            borderRadius: 9,\n            padding: \"8px 11px\",\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 6,\n          }}\n        >\n          <span style={{ fontSize: 13 }}>ðŸ”—</span>\n          <span\n            style={{\n              fontFamily: F.body,\n              fontSize: 10,\n              color: C.textMid,\n              flex: 1,\n              wordBreak: \"break-all\",\n            }}\n          >\n            {link}\n          </span>\n        </div>\n      </Card>\n      <Btn\n        onClick={onViewTherapist}\n        style={{ width: \"100%\", marginBottom: 10 }}\n      >\n        ðŸ‘ Preview: What Your Therapist Sees\n      </Btn>\n      <Btn ghost onClick={onReset} style={{ width: \"100%\" }}>\n        â† Back to Home\n      </Btn>\n    </div>\n  );\n};\n\n// Main App\nexport default function BodyMapApp({ therapistName = \"Your Therapist\", onSubmit = null, getLastSession = null }) {\n  const [screen, setScreen] = useState(\"welcome\");\n  const [mode, setMode] = useState(\"focus\");\n  const [clientInfo, setCI] = useState({ name: \"\", contact: \"\" });\n  const [bodyMap, setBM] = useState({});\n  const [prefs, setPrefs] = useState({ ...DEFAULT_PREFS });\n  const [notes, setNotes] = useState(\"\");\n  const [consent, setConsent] = useState(false);\n  const [sessions, setSessions] = useState([]);\n  const [lastSession, setLastSession] = useState(null);\n  const [checkingReturn, setCheckingReturn] = useState(false);\n\n  useEffect(() => {\n    const l = document.createElement(\"link\");\n    l.href =\n      \"https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Nunito:wght@400;500;600;700;800&display=swap\";\n    l.rel = \"stylesheet\";\n    document.head.appendChild(l);\n    try {\n      setSessions(JSON.parse(localStorage.getItem(\"bodymap-sessions\") || \"[]\"));\n    } catch {}\n    return () => {\n      try {\n        document.head.removeChild(l);\n      } catch {}\n    };\n  }, []);\n\n  const toggle = (id) =>\n    setBM((p) => {\n      if (!p[id]) return { ...p, [id]: mode };\n      if (p[id] === mode) {\n        const n = { ...p };\n        delete n[id];\n        return n;\n      }\n      return { ...p, [id]: mode };\n    });\n\n  const handlePreFill = (last) => {\n    setBM({ ...last.bodyMap });\n    setPrefs({ ...DEFAULT_PREFS, ...last.prefs });\n    if (last.clientInfo) setCI({ ...last.clientInfo });\n    setScreen(\"front\");\n  };\n\n  const onStart = (info) => {\n    setCI(info);\n    setLastSession(null);\n    setScreen(\"front\");\n    if (getLastSession && info.contact) {\n      setTimeout(() => {\n        getLastSession(info.contact).then(last => {\n          if (last) setLastSession(last);\n        }).catch(() => {});\n      }, 100);\n    }\n  };\n\n  const applyPrefill = (last) => {\n    setBM(last.bodyMap || {});\n    setPrefs(prev => ({ ...prev, ...(last.prefs || {}) }));\n  };\n\n  const handleApply = () => {\n    const p = buildPattern(sessions);\n    if (!p) return;\n    const dm = {};\n    p.topFocus.slice(0, 3).forEach((f) => {\n      const r = ALL_REGIONS.find((r) => r.label === f.label);\n      if (r) dm[r.id] = \"focus\";\n    });\n    p.topAvoid.slice(0, 2).forEach((a) => {\n      const r = ALL_REGIONS.find((r) => r.label === a.label);\n      if (r) dm[r.id] = \"avoid\";\n    });\n    setBM(dm);\n    setPrefs((prev) => ({\n      ...prev,\n      pressure: p.avgPressure,\n      goal: p.topGoal || prev.goal,\n    }));\n  };\n\n  const handleSend = () => {\n    const { hasEarned } = getLoyalty(sessions);\n    const s = {\n      id: Date.now(),\n      date: new Date().toISOString(),\n      clientInfo,\n      bodyMap,\n      prefs,\n      notes,\n      therapistNotes: \"\",\n      isFreeSession: hasEarned,\n    };\n    const upd = [s, ...sessions].slice(0, 50);\n    setSessions(upd);\n    try {\n      localStorage.setItem(\"bodymap-sessions\", JSON.stringify(upd));\n    } catch {}\n    \n    // If onSubmit prop is provided, call it with intake data\n    if (onSubmit) {\n      // Extract focus and avoid areas\n      const frontFocus = Object.keys(bodyMap).filter(k => k.startsWith('f-') && bodyMap[k] === 'focus');\n      const frontAvoid = Object.keys(bodyMap).filter(k => k.startsWith('f-') && bodyMap[k] === 'avoid');\n      const backFocus = Object.keys(bodyMap).filter(k => k.startsWith('b-') && bodyMap[k] === 'focus');\n      const backAvoid = Object.keys(bodyMap).filter(k => k.startsWith('b-') && bodyMap[k] === 'avoid');\n      \n      onSubmit({\n        clientName: clientInfo.name,\n        clientPhone: clientInfo.contact,\n        clientEmail: null,\n        frontFocus,\n        frontAvoid,\n        backFocus,\n        backAvoid,\n        pressure: prefs.pressure,\n        goal: prefs.goal,\n        tableTemp: prefs.tableTemp,\n        roomTemp: prefs.roomTemp,\n        music: prefs.music,\n        lighting: prefs.lighting,\n        conversation: prefs.conversation,\n        draping: prefs.draping,\n        oilPref: prefs.oilPref,\n        medFlag: prefs.medFlag,\n        medNote: prefs.medNote || null,\n        notes: notes || null\n      });\n    } else {\n      // Default behavior - show summary screen\n      setScreen(\"summary\");\n    }\n  };\n\n  const reset = () => {\n    setBM({});\n    setNotes(\"\");\n    setConsent(false);\n    setPrefs({ ...DEFAULT_PREFS });\n    setScreen(\"welcome\");\n  };\n\n  const screens = {\n    welcome: (\n      <WelcomeScreen\n        onStart={onStart}\n        sessions={sessions}\n        onHistory={() => setScreen(\"history\")}\n        checkingReturn={checkingReturn}\n        onPreFill={handlePreFill}\n      />\n    ),\n    front: (\n      <div>\n        {lastSession && (\n          <div style={{ background: \"#FDF6E8\", border: \"1.5px solid #D4B070\", padding: \"12px 16px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: 10 }}>\n            <div>\n              <p style={{ fontFamily: \"'Nunito', sans-serif\", fontSize: 13, fontWeight: 800, color: \"#B87840\", margin: 0 }}>âœ¦ Welcome back{clientInfo?.name ? `, ${clientInfo.name.split(\" \")[0]}` : \"\"}!</p>\n              <p style={{ fontFamily: \"'Nunito', sans-serif\", fontSize: 11, color: \"#7A9485\", margin: \"2px 0 0\" }}>Tap \"Use Last Session\" to pre-fill your preferences</p>\n            </div>\n            <button onClick={() => applyPrefill(lastSession)} style={{ background: \"#B87840\", color: \"#fff\", border: \"none\", padding: \"8px 14px\", borderRadius: 50, fontFamily: \"'Nunito', sans-serif\", fontSize: 12, fontWeight: 800, cursor: \"pointer\", whiteSpace: \"nowrap\" }}>\n              Use Last Session\n            </button>\n          </div>\n        )}\n        <BMScreen\n          title=\"Front of Body\"\n          subtitle=\"Tap any area to mark as focus or avoid\"\n          step={1}\n          regions={FRONT_REGIONS}\n          selections={bodyMap}\n          onToggle={toggle}\n          mode={mode}\n          setMode={setMode}\n          onNext={() => setScreen(\"back\")}\n          onBack={null}\n          sessions={[]}\n          onApply={null}\n        />\n      </div>\n    ),\n    back: (\n      <div>\n        {lastSession && (\n          <div style={{ background: \"#FDF6E8\", border: \"1.5px solid #D4B070\", padding: \"12px 16px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: 10 }}>\n            <div>\n              <p style={{ fontFamily: \"'Nunito', sans-serif\", fontSize: 13, fontWeight: 800, color: \"#B87840\", margin: 0 }}>âœ¦ Welcome back{clientInfo?.name ? `, ${clientInfo.name.split(\" \")[0]}` : \"\"}!</p>\n              <p style={{ fontFamily: \"'Nunito', sans-serif\", fontSize: 11, color: \"#7A9485\", margin: \"2px 0 0\" }}>Tap \"Use Last Session\" to pre-fill your preferences</p>\n            </div>\n            <button onClick={() => applyPrefill(lastSession)} style={{ background: \"#B87840\", color: \"#fff\", border: \"none\", padding: \"8px 14px\", borderRadius: 50, fontFamily: \"'Nunito', sans-serif\", fontSize: 12, fontWeight: 800, cursor: \"pointer\", whiteSpace: \"nowrap\" }}>\n              Use Last Session\n            </button>\n          </div>\n        )}\n        <BMScreen\n          title=\"Back of Body\"\n          subtitle=\"Continue marking focus and avoid areas\"\n          step={2}\n          regions={BACK_REGIONS}\n          selections={bodyMap}\n          onToggle={toggle}\n          mode={mode}\n          setMode={setMode}\n          onNext={() => setScreen(\"prefs\")}\n          onBack={() => setScreen(\"front\")}\n        />\n      </div>\n    ),\n    prefs: (\n      <div>\n        {lastSession && (\n          <div style={{ background: \"#FDF6E8\", border: \"1.5px solid #D4B070\", padding: \"12px 16px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", gap: 10 }}>\n            <div>\n              <p style={{ fontFamily: \"'Nunito', sans-serif\", fontSize: 13, fontWeight: 800, color: \"#B87840\", margin: 0 }}>âœ¦ Welcome back{clientInfo?.name ? `, ${clientInfo.name.split(\" \")[0]}` : \"\"}!</p>\n              <p style={{ fontFamily: \"'Nunito', sans-serif\", fontSize: 11, color: \"#7A9485\", margin: \"2px 0 0\" }}>Tap \"Use Last Session\" to pre-fill your preferences</p>\n            </div>\n            <button onClick={() => applyPrefill(lastSession)} style={{ background: \"#B87840\", color: \"#fff\", border: \"none\", padding: \"8px 14px\", borderRadius: 50, fontFamily: \"'Nunito', sans-serif\", fontSize: 12, fontWeight: 800, cursor: \"pointer\", whiteSpace: \"nowrap\" }}>\n              Use Last Session\n            </button>\n          </div>\n        )}\n        <PrefScreen\n          prefs={prefs}\n          setPrefs={setPrefs}\n          notes={notes}\n          setNotes={setNotes}\n          consent={consent}\n          setConsent={setConsent}\n          onNext={handleSend}\n          onBack={() => setScreen(\"back\")}\n        />\n      </div>\n    ),\n    summary: (\n      <SummaryScreen\n        clientInfo={clientInfo}\n        bodyMap={bodyMap}\n        onViewTherapist={() => setScreen(\"therapist\")}\n        onReset={reset}\n      />\n    ),\n    therapist: (\n      <TherapistView\n        clientInfo={clientInfo}\n        bodyMap={bodyMap}\n        prefs={prefs}\n        notes={notes}\n        sessions={sessions}\n        onBack={() => setScreen(\"summary\")}\n        onReview={() => setScreen(\"review\")}\n      />\n    ),\n    review: <ReviewScreen clientInfo={clientInfo} onDone={reset} />,\n    history: (\n      <HistoryScreen\n        sessions={sessions}\n        clientName={clientInfo.name}\n        onBack={() => setScreen(\"welcome\")}\n        onNewSession={reset}\n      />\n    ),\n  };\n\n  return (\n    <div\n      style={{\n        maxWidth: 480,\n        margin: \"0 auto\",\n        minHeight: \"100vh\",\n        background: C.bg,\n        fontFamily: F.body,\n      }}\n    >\n      {screens[screen] || screens.welcome}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}