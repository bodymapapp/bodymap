/*! For license information please see main.2bf0345e.js.LICENSE.txt */
(()=>{"use strict";var e={730(e,t,n){var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(f,e)||!u.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,x);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,x);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,x);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var F,N=Object.assign;function D(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var L=!1;function W(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function U(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function M(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case S:return"Portal";case _:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case B:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case z:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,je=null,ke=null;function _e(e){if(e=vi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Ee(e){je?ke?ke.push(e):ke=[e]:je=e}function Te(){if(je){var e=je,t=ke;if(ke=je=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Re(){}var Be=!1;function ze(e,t,n){if(Be)return e(t,n);Be=!0;try{return Ce(e,t,n)}finally{Be=!1,(null!==je||null!==ke)&&(Re(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Ae=!1}function Ie(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Fe=!1,Ne=null,De=!1,Le=null,We={onError:function(e){Fe=!0,Ne=e}};function Ue(e,t,n,r,i,o,s,a,l){Fe=!1,Ne=null,Ie.apply(We,arguments)}function Me(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Me(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Me(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ut(a):0!==(o&=s)&&(r=ut(o))}else 0!==(s=n&~i)?r=ut(s):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,jt,kt,_t,Et=!1,Tt=[],Ct=null,Rt=null,Bt=null,zt=new Map,Pt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=xi(e.target);if(null!==t){var n=Me(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Lt(e,t,n){Dt(e)&&n.delete(t)}function Wt(){Et=!1,null!==Ct&&Dt(Ct)&&(Ct=null),null!==Rt&&Dt(Rt)&&(Rt=null),null!==Bt&&Dt(Bt)&&(Bt=null),zt.forEach(Lt),Pt.forEach(Lt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wt)))}function Mt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==Rt&&Ut(Rt,e),null!==Bt&&Ut(Bt,e),zt.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Nt(n),null===n.blockedOn&&At.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Vt(e,t,n,r){var i=vt,o=Ht.transition;Ht.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=i,Ht.transition=o}}function Gt(e,t,n,r){var i=vt,o=Ht.transition;Ht.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=i,Ht.transition=o}}function Kt(e,t,n,r){if(qt){var i=Jt(e,t,n,r);if(null===i)qr(e,t,r,$t,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ft(Ct,e,t,n,r,i),!0;case"dragenter":return Rt=Ft(Rt,e,t,n,r,i),!0;case"mouseover":return Bt=Ft(Bt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return zt.set(o,Ft(zt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Ft(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=vi(i);if(null!==o&&wt(o),null===(o=Jt(e,t,n,r))&&qr(e,t,r,$t,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var $t=null;function Jt(e,t,n,r){if($t=null,null!==(e=xi(e=we(r))))if(null===(t=Me(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(cn),un=N({},cn,{view:0,detail:0}),hn=on(un),pn=N({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),gn=on(N({},pn,{dataTransfer:0})),mn=on(N({},un,{relatedTarget:0})),yn=on(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(xn),bn=on(N({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function _n(){return kn}var En=N({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),Cn=on(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(N({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Bn=on(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(zn),An=[9,13,27,32],On=d&&"CompositionEvent"in window,In=null;d&&"documentMode"in document&&(In=document.documentMode);var Fn=d&&"TextEvent"in window&&!In,Nn=d&&(!On||In&&8<In&&11>=In),Dn=String.fromCharCode(32),Ln=!1;function Wn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function $n(e){Dr(e,0)}function Jn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Vn(t,Kn,e,we(e)),ze($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function or(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=dr(n,o);var s=dr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=d&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,xr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},kr={};function _r(e){if(jr[e])return jr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return jr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),Rr=_r("transitionend"),Br=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Br.set(e,t),l(t,[e])}for(var Ar=0;Ar<zr.length;Ar++){var Or=zr[Ar];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var d=Ne;Fe=!1,Ne=null,De||(De=!0,Le=d)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,a,c),o=l}}}if(De)throw e=Le,De=!1,Le=null,e}function Lr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[Ur]){e[Ur]=!0,s.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||Wr(t,!1,e),Wr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Wr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Vt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=xi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}ze(function(){var r=o,i=we(n),s=[];e:{var a=Br.get(e);if(void 0!==a){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Er:case Tr:case Cr:l=yn;break;case Rr:l=Bn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==a?a+"Capture":null:a;d=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Pe(f,h))&&d.push(Vr(f,g,p)))),u)break;f=f.return}0<d.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!xi(c)&&!c[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xi(c):null)&&(c!==(u=Me(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cn,g="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?a:bi(l),p=null==c?a:bi(c),(a=new d(g,f+"leave",l,n,i)).target=u,a.relatedTarget=p,g=null,xi(i)===r&&((d=new d(h,f+"enter",c,n,i)).target=p,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(h=c,f=0,p=d=l;p;p=Kr(p))f++;for(p=0,g=h;g;g=Kr(g))p++;for(;0<f-p;)d=Kr(d),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Kr(d),h=Kr(h)}d=null}else d=null;null!==l&&$r(s,a,l,d,!1),null!==c&&null!==u&&$r(s,u,c,d,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(qn(a))if(Qn)m=sr;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Vn(s,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,xr=null);break;case"focusout":xr=yr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(s,n,i)}var x;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Mn?Wn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Nn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Mn&&(x=en()):(Xt="value"in(Qt=i)?Qt.value:Qt.textContent,Mn=!0)),0<(y=Gr(r,v)).length&&(v=new bn(v,e,null,n,i),s.push({event:v,listeners:y}),x?v.data=x:null!==(x=Un(n))&&(v.data=x))),(x=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Ln=!0,Dn);case"textInput":return(e=t.data)===Dn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!On&&Wn(e,t)?(e=en(),Zt=Xt=Qt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=x))}Dr(s,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,o))&&s.unshift(Vr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(Vr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Mt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Mt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,pi="__reactProps$"+ui,fi="__reactContainer$"+ui,gi="__reactEvents$"+ui,mi="__reactListeners$"+ui,yi="__reactHandles$"+ui;function xi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[hi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var Si=[],ji=-1;function ki(e){return{current:e}}function _i(e){0>ji||(e.current=Si[ji],Si[ji]=null,ji--)}function Ei(e,t){ji++,Si[ji]=e.current,e.current=t}var Ti={},Ci=ki(Ti),Ri=ki(!1),Bi=Ti;function zi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){_i(Ri),_i(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(o(168));Ei(Ci,t),Ei(Ri,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return N({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Bi=Ci.current,Ei(Ci,e),Ei(Ri,Ri.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ii(e,t,Bi),r.__reactInternalMemoizedMergedChildContext=e,_i(Ri),_i(Ci),Ei(Ci,e)):_i(Ri),Ei(Ri,n)}var Di=null,Li=!1,Wi=!1;function Ui(e){null===Di?Di=[e]:Di.push(e)}function Mi(){if(!Wi&&null!==Di){Wi=!0;var e=0,t=vt;try{var n=Di;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Li=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ke(Ze,Mi),i}finally{vt=t,Wi=!1}}return null}var Hi=[],qi=0,Vi=null,Gi=0,Ki=[],$i=0,Ji=null,Yi=1,Qi="";function Xi(e,t){Hi[qi++]=Gi,Hi[qi++]=Vi,Vi=e,Gi=t}function Zi(e,t,n){Ki[$i++]=Yi,Ki[$i++]=Qi,Ki[$i++]=Ji,Ji=e;var r=Yi;e=Qi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Qi=o+e}else Yi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Vi;)Vi=Hi[--qi],Hi[qi]=null,Gi=Hi[--qi],Hi[qi]=null;for(;e===Ji;)Ji=Ki[--$i],Ki[$i]=null,Qi=Ki[--$i],Ki[$i]=null,Yi=Ki[--$i],Ki[$i]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===j?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&vo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Nc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Oc(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?d(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||I(n))return null!==i?null:u(e,t,n,r,null);xo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||I(r))return u(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function g(i,o,a,l){for(var c=null,d=null,u=o,g=o=0,m=null;null!==u&&g<a.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var y=p(i,u,a[g],l);if(null===y){null===u&&(u=m);break}e&&u&&null===y.alternate&&t(i,u),o=s(y,o,g),null===d?c=y:d.sibling=y,d=y,u=m}if(g===a.length)return n(i,u),io&&Xi(i,g),c;if(null===u){for(;g<a.length;g++)null!==(u=h(i,a[g],l))&&(o=s(u,o,g),null===d?c=u:d.sibling=u,d=u);return io&&Xi(i,g),c}for(u=r(i,u);g<a.length;g++)null!==(m=f(u,i,g,a[g],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?g:m.key),o=s(m,o,g),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return t(i,e)}),io&&Xi(i,g),c}function m(i,a,l,c){var d=I(l);if("function"!==typeof d)throw Error(o(150));if(null==(l=d.call(l)))throw Error(o(151));for(var u=d=null,g=a,m=a=0,y=null,x=l.next();null!==g&&!x.done;m++,x=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=p(i,g,x.value,c);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(i,g),a=s(v,a,m),null===u?d=v:u.sibling=v,u=v,g=y}if(x.done)return n(i,g),io&&Xi(i,m),d;if(null===g){for(;!x.done;m++,x=l.next())null!==(x=h(i,x.value,c))&&(a=s(x,a,m),null===u?d=x:u.sibling=x,u=x);return io&&Xi(i,m),d}for(g=r(i,g);!x.done;m++,x=l.next())null!==(x=f(g,i,m,x.value,c))&&(e&&null!==x.alternate&&g.delete(null===x.key?m:x.key),a=s(x,a,m),null===u?d=x:u.sibling=x,u=x);return e&&g.forEach(function(e){return t(i,e)}),io&&Xi(i,m),d}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===j&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=o;null!==d;){if(d.key===c){if((c=s.type)===j){if(7===d.tag){n(r,d.sibling),(o=i(d,s.props.children)).return=r,r=o;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&vo(c)===d.type){n(r,d.sibling),(o=i(d,s.props)).ref=yo(r,d,s),o.return=r,r=o;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===j?((o=Oc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Ac(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(d=s.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Nc(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(d=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(I(s))return m(r,o,s,l);xo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var wo=bo(!0),So=bo(!1),jo=ki(null),ko=null,_o=null,Eo=null;function To(){Eo=_o=ko=null}function Co(e){var t=jo.current;_i(jo),e._currentValue=t}function Ro(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bo(e,t){ko=e,Eo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function zo(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===ko)throw Error(o(308));_o=e,ko.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Po=null;function Ao(e){null===Po?Po=[e]:Po.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Io(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Io(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Mo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Fo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===a?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(null!==o){var u=i.baseState;for(s=0,d=c=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,u,h):f)||void 0===h)break e;u=N({},u,h);break e;case 2:Fo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Il|=s,e.lanes=s,e.memoizedState=u}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo={},Go=ki(Vo),Ko=ki(Vo),$o=ki(Vo);function Jo(e){if(e===Vo)throw Error(o(174));return e}function Yo(e,t){switch(Ei($o,t),Ei(Ko,e),Ei(Go,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Go),Ei(Go,t)}function Qo(){_i(Go),_i(Ko),_i($o)}function Xo(e){Jo($o.current);var t=Jo(Go.current),n=le(t,e.type);t!==n&&(Ei(Ko,e),Ei(Go,n))}function Zo(e){Ko.current===e&&(_i(Go),_i(Ko))}var es=ki(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,ds=!1,us=!1,hs=0,ps=0;function fs(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),us){s=0;do{if(us=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(us)}if(is.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,ds=!1,t)throw Error(o(300));return e}function ys(){var e=0!==hs;return hs=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function vs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=vs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,d=s;do{var u=d.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(va=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Il|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=vs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(va=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function js(){}function ks(e,t){var n=as,r=vs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,va=!0),r=r.queue,Fs(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,zs(9,Es.bind(null,n,r,i,t),void 0,null),null===Cl)throw Error(o(349));0!==(30&ss)||_s(n,t,i)}return i}function _s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&Rs(e)}function Ts(e,t,n){return n(function(){Cs(t)&&Rs(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Rs(e){var t=Io(e,1);null!==t&&tc(t,e,1,-1)}function Bs(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=$s.bind(null,as,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return vs().memoizedState}function As(e,t,n,r){var i=xs();as.flags|=e,i.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=vs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=zs(t,n,o,r))}as.flags|=e,i.memoizedState=zs(1|t,n,o,r)}function Is(e,t){return As(8390656,8,e,t)}function Fs(e,t){return Os(2048,8,e,t)}function Ns(e,t){return Os(4,2,e,t)}function Ds(e,t){return Os(4,4,e,t)}function Ls(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ws(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Ls.bind(null,t,e),n)}function Us(){}function Ms(e,t){var n=vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),as.lanes|=n,Il|=n,e.baseState=!0),t)}function Vs(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{vt=n,os.transition=r}}function Gs(){return vs().memoizedState}function Ks(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e))Ys(t,n);else if(null!==(n=Oo(e,t,n,r))){tc(n,e,r,Zl()),Qs(n,t,r)}}function $s(e,t,n){var r=ec(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Ys(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Ao(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(tc(n,e,r,i=Zl()),Qs(n,t,r))}}function Js(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){us=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Xs={readContext:zo,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:zo,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:Is,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,As(4194308,4,Ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=xs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Bs,useDebugValue:Us,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=Vs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=xs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cl)throw Error(o(349));0!==(30&ss)||_s(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Is(Ts.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=xs(),t=Cl.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:zo,useCallback:Ms,useContext:zo,useEffect:Fs,useImperativeHandle:Ws,useInsertionEffect:Ns,useLayoutEffect:Ds,useMemo:Hs,useReducer:ws,useRef:Ps,useState:function(){return ws(bs)},useDebugValue:Us,useDeferredValue:function(e){return qs(vs(),ls.memoizedState,e)},useTransition:function(){return[ws(bs)[0],vs().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:zo,useCallback:Ms,useContext:zo,useEffect:Fs,useImperativeHandle:Ws,useInsertionEffect:Ns,useLayoutEffect:Ds,useMemo:Hs,useReducer:Ss,useRef:Ps,useState:function(){return Ss(bs)},useDebugValue:Us,useDeferredValue:function(e){var t=vs();return null===ls?t.memoizedState=e:qs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],vs().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Me(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=ec(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Wo(e,o,i))&&(tc(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=ec(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Wo(e,o,i))&&(tc(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Wo(e,i,r))&&(tc(t,e,r,n),Uo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=zo(o):(i=Pi(t)?Bi:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?zi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=zo(o):(o=Pi(t)?Bi:Ci.current,i.context=zi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),ua(0,t)},n}function fa(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ua(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Wo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xa=b.ReactCurrentOwner,va=!1;function ba(e,t,n,r){t.child=null===e?So(t,null,n,r):wo(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var o=t.ref;return Bo(t,i),r=ms(e,t,n,r,o,i),n=ys(),null===e||va?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||zc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ja(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function ja(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(va=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(va=!0)}}return Ea(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pl,zl),zl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pl,zl),zl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Pl,zl),zl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Pl,zl),zl|=r;return ba(e,t,i,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var o=Pi(n)?Bi:Ci.current;return o=zi(t,o),Bo(t,i),n=ms(e,t,n,r,o,i),r=ys(),null===e||va?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ta(e,t,n,r,i){if(Pi(n)){var o=!0;Fi(t)}else o=!1;if(Bo(t,i),null===t.stateNode)Ma(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=zo(c):c=zi(t,c=Pi(n)?Bi:Ci.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Fo=!1;var h=t.memoizedState;s.state=h,Ho(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ri.current||Fo?("function"===typeof d&&(ra(t,n,d,r),l=t.memoizedState),(a=Fo||oa(t,n,a,r,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Do(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=zo(l):l=zi(t,l=Pi(n)?Bi:Ci.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||h!==l)&&aa(t,s,r,l),Fo=!1,h=t.memoizedState,s.state=h,Ho(t,r,s,i);var f=t.memoizedState;a!==u||h!==f||Ri.current||Fo?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Fo||oa(t,n,c,r,h,f,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,o,i)}function Ca(e,t,n,r,i,o){_a(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ni(t,n,!1),Ha(e,t,o);r=t.stateNode,xa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Yo(e,t.containerInfo)}function Ba(e,t,n,r,i){return fo(),go(i),t.flags|=256,ba(e,t,n,r),t.child}var za,Pa,Aa,Oa={dehydrated:null,treeContext:null,retryLane:0};function Ia(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ic(l,i,0,null),e=Oc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ia(n),t.memoizedState=Oa,e):Na(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Da(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ic({mode:"visible",children:r.children},i,0,null),(s=Oc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,a),t.child.memoizedState=Ia(a),t.memoizedState=Oa,s);if(0===(1&t.mode))return Da(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Da(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),va||l){if(null!==(r=Cl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Io(e,i),tc(r,e,i,-1))}return fc(),Da(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[$i++]=Yi,Ki[$i++]=Qi,Ki[$i++]=Ji,Yi=e.id,Qi=e.overflow,Ji=t),t=Na(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Pc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ia(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Na(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Da(e,t,n,r){return null!==r&&go(r),wo(t,e.child,null,n),(e=Na(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function La(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ro(e.return,t,n)}function Wa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ua(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&La(e,n,t);else if(19===e.tag)La(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,o);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ma(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Va(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Va(t),null;case 1:case 17:return Pi(t.type)&&Ai(),Va(t),null;case 3:return r=t.stateNode,Qo(),_i(Ri),_i(Ci),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(oc(oo),oo=null))),Va(t),null;case 5:Zo(t);var i=Jo($o.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Va(t),null}if(e=Jo(Go.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Lr(Ir[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":Y(r,s),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",r);break;case"textarea":ie(r,s),Lr("invalid",r)}for(var l in xe(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Lr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,za(e,t),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Lr(Ir[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":Y(e,r),i=J(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(s in xe(n,i),c=i)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?me(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Lr("scroll",e):null!=d&&v(e,s,d,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Va(t),null;case 6:if(e&&null!=t.stateNode)Aa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo($o.current),Jo(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Va(t),null;case 13:if(_i(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Va(t),s=!1}else null!==oo&&(oc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Al&&(Al=3):fc())),null!==t.updateQueue&&(t.flags|=4),Va(t),null);case 4:return Qo(),null===e&&Mr(t.stateNode.containerInfo),Va(t),null;case 10:return Co(t.type._context),Va(t),null;case 19:if(_i(es),null===(s=t.memoizedState))return Va(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qa(s,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Ul&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Va(t),null}else 2*Qe()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=es.current,Ei(es,r?1&n|2:1&n),t):(Va(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&zl)&&(Va(t),6&t.subtreeFlags&&(t.flags|=8192)):Va(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ka(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),_i(Ri),_i(Ci),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(_i(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(es),null;case 4:return Qo(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jo(Go.current);var o,s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in xe(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(a.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(a.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Lr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Aa=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function Za(e,t,n){try{n()}catch(r){jc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Za(t,n,o)}i=i.next}while(i!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,dl=!1;function ul(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Xa(n,t);case 6:var r=cl,i=dl;cl=null,ul(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Mt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,ul(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&Za(n,t,s),i=i.next}while(i!==r)}ul(e,t,n);break;case 1:if(!Ja&&(Xa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jc(n,t,a)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,ul(e,t,n),Ja=r):ul(e,t,n);break;default:ul(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));hl(s,a,i),cl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){jc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),ml(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(m){jc(e,e.return,m)}try{tl(5,e,e.return)}catch(m){jc(e,e.return,m)}}break;case 1:fl(t,e),ml(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(fl(t,e),ml(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){jc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(i,s),ve(l,a);var d=ve(l,s);for(a=0;a<c.length;a+=2){var u=c[a],h=c[a+1];"style"===u?me(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):v(i,u,h,d)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(i,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(m){jc(e,e.return,m)}}break;case 6:if(fl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){jc(e,e.return,m)}}break;case 3:if(fl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Mt(t.containerInfo)}catch(m){jc(e,e.return,m)}break;case 4:default:fl(t,e),ml(e);break;case 13:fl(t,e),ml(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Qe())),4&r&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(d=Ja)||u,fl(t,e),Ja=d):fl(t,e),ml(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qa=e,u=e.child;null!==u;){for(h=Qa=u;null!==Qa;){switch(f=(p=Qa).child,p.tag){case 0:case 11:case 14:case 15:tl(4,p,p.return);break;case 1:Xa(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){jc(r,n,m)}}break;case 5:Xa(p,p.return);break;case 22:if(null!==p.memoizedState){bl(h);continue}}null!==f?(f.return=p,Qa=f):bl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,d?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){jc(e,e.return,m)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){jc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),ml(e),4&r&&pl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ll(e,sl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;al(e,sl(e),s);break;default:throw Error(o(161))}}catch(a){jc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qa=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Qa;){var i=Qa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=$a;var c=Ja;if($a=s,(Ja=l)&&!c)for(Qa=i;null!==Qa;)l=(s=Qa).child,22===s.tag&&null!==s.memoizedState?wl(i):null!==l?(l.return=s,Qa=l):wl(i);for(;null!==o;)Qa=o,xl(o,t,n),o=o.sibling;Qa=i,$a=a,Ja=c}vl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qa=o):vl(e)}}function vl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&qo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Mt(h)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&rl(t)}catch(p){jc(t,t.return,p)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function bl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function wl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){jc(t,i,l)}}var o=t.return;try{rl(t)}catch(l){jc(t,o,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){jc(t,s,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var Sl,jl=Math.ceil,kl=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Tl=0,Cl=null,Rl=null,Bl=0,zl=0,Pl=ki(0),Al=0,Ol=null,Il=0,Fl=0,Nl=0,Dl=null,Ll=null,Wl=0,Ul=1/0,Ml=null,Hl=!1,ql=null,Vl=null,Gl=!1,Kl=null,$l=0,Jl=0,Yl=null,Ql=-1,Xl=0;function Zl(){return 0!==(6&Tl)?Qe():-1!==Ql?Ql:Ql=Qe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Bl?Bl&-Bl:null!==mo.transition?(0===Xl&&(Xl=gt()),Xl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function tc(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(o(185));yt(e,n,r),0!==(2&Tl)&&e===Cl||(e===Cl&&(0===(2&Tl)&&(Fl|=n),4===Al&&sc(e,Bl)),nc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Ul=Qe()+500,Li&&Mi()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Cl?Bl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Li=!0,Ui(e)}(ac.bind(null,e)):Ui(ac.bind(null,e)),si(function(){0===(6&Tl)&&Mi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ql=-1,Xl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Bl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var s=pc();for(Cl===e&&Bl===t||(Ml=null,Ul=Qe()+500,uc(e,t));;)try{yc();break}catch(l){hc(e,l)}To(),kl.current=s,Tl=i,null!==Rl?t=0:(Cl=null,Bl=0,t=Al)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ol,uc(e,0),sc(e,r),nc(e,Qe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ol,uc(e,0),sc(e,r),nc(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:bc(e,Ll,Ml);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Wl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Ll,Ml),t);break}bc(e,Ll,Ml);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Ll,Ml),r);break}bc(e,Ll,Ml);break;default:throw Error(o(329))}}}return nc(e,Qe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ll,Ll=n,null!==t&&oc(t)),e}function oc(e){null===Ll?Ll=e:Ll.push.apply(Ll,e)}function sc(e,t){for(t&=~Nl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ac(e){if(0!==(6&Tl))throw Error(o(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ol,uc(e,0),sc(e,t),nc(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Ll,Ml),nc(e,Qe()),null}function lc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Ul=Qe()+500,Li&&Mi())}}function cc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&wc();var t=Tl;Tl|=1;var n=El.transition,r=vt;try{if(El.transition=null,vt=1,e)return e()}finally{vt=r,El.transition=n,0===(6&(Tl=t))&&Mi()}}function dc(){zl=Pl.current,_i(Pl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Qo(),_i(Ri),_i(Ci),rs();break;case 5:Zo(r);break;case 4:Qo();break;case 13:case 19:_i(es);break;case 10:Co(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Rl=e=Pc(e.current,null),Bl=zl=t,Al=0,Ol=null,Nl=Fl=Il=0,Ll=Dl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return e}function hc(e,t){for(;;){var n=Rl;try{if(To(),is.current=Xs,ds){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ds=!1}if(ss=0,cs=ls=as=null,us=!1,hs=0,_l.current=null,null===n||null===n.return){Al=1,Ol=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Bl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,t),1&f.mode&&ga(s,d,t),c=d;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ga(s,d,t),fc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),go(ca(c,l));break e}}s=c=ca(c,l),4!==Al&&(Al=2),null===Dl?Dl=[s]:Dl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Mo(s,pa(0,c,t));break e;case 1:l=c;var x=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof x.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Vl||!Vl.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Mo(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}vc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Xs,null===e?Xs:e}function fc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Cl||0===(268435455&Il)&&0===(268435455&Fl)||sc(Cl,Bl)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(Cl===e&&Bl===t||(Ml=null,uc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(To(),Tl=n,kl.current=r,null!==Rl)throw Error(o(261));return Cl=null,Bl=0,Al}function mc(){for(;null!==Rl;)xc(Rl)}function yc(){for(;null!==Rl&&!Je();)xc(Rl)}function xc(e){var t=Sl(e.alternate,e,zl);e.memoizedProps=e.pendingProps,null===t?vc(e):Rl=t,_l.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,zl)))return void(Rl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Al=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Al&&(Al=5)}function bc(e,t,n){var r=vt,i=El.transition;try{El.transition=null,vt=1,function(e,t,n,r){do{wc()}while(null!==Kl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Cl&&(Rl=Cl=null,Bl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Cc(tt,function(){return wc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var a=vt;vt=1;var l=Tl;Tl|=4,_l.current=null,function(e,t){if(ei=qt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===i&&(l=a),p===s&&++u===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}g=el,el=!1}(e,n),gl(n,e),fr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Tl=l,vt=a,El.transition=s}else e.current=n;if(Gl&&(Gl=!1,Kl=e,$l=i),s=e.pendingLanes,0===s&&(Vl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&$l)&&0!==e.tag&&wc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Mi()}(e,t,n,r)}finally{El.transition=i,vt=r}return null}function wc(){if(null!==Kl){var e=bt($l),t=El.transition,n=vt;try{if(El.transition=null,vt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,$l=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Qa=e.current;null!==Qa;){var s=Qa,a=s.child;if(0!==(16&Qa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qa=d;null!==Qa;){var u=Qa;switch(u.tag){case 0:case 11:case 15:tl(8,u,s)}var h=u.child;if(null!==h)h.return=u,Qa=h;else for(;null!==Qa;){var p=(u=Qa).sibling,f=u.return;if(il(u),u===d){Qa=null;break}if(null!==p){p.return=f,Qa=p;break}Qa=f}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(s=Qa).flags))switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var x=s.sibling;if(null!==x){x.return=s.return,Qa=x;break e}Qa=s.return}}var v=e.current;for(Qa=v;null!==Qa;){var b=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Qa=b;else e:for(a=v;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(S){jc(l,l.return,S)}if(l===a){Qa=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qa=w;break e}Qa=l.return}}if(Tl=i,Mi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{vt=n,El.transition=t}}return!1}function Sc(e,t,n){e=Wo(e,t=pa(0,t=ca(n,t),1),1),t=Zl(),null!==e&&(yt(e,1,t),nc(e,t))}function jc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Wo(t,e=fa(t,e=ca(n,e),1),1),e=Zl(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Bl&n)===n&&(4===Al||3===Al&&(130023424&Bl)===Bl&&500>Qe()-Wl?uc(e,0):Nl|=n),nc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=Zl();null!==(e=Io(e,t))&&(yt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),_c(e,n)}function Cc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bc(e,t,n,r){return new Rc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)zc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case j:return Oc(n.children,i,s,t);case k:a=8,i|=8;break;case _:return(e=Bc(12,n,t,2|i)).elementType=_,e.lanes=s,e;case R:return(e=Bc(13,n,t,i)).elementType=R,e.lanes=s,e;case B:return(e=Bc(19,n,t,i)).elementType=B,e.lanes=s,e;case A:return Ic(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case C:a=11;break e;case z:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Bc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Bc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Bc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Bc(6,e,null,t)).lanes=n,e}function Nc(e,t,n){return(t=Bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,r,i,o,s,a,l){return e=new Dc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Bc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Wc(e){if(!e)return Ti;e:{if(Me(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ii(e,n,t)}return t}function Uc(e,t,n,r,i,o,s,a,l){return(e=Lc(n,r,!0,e,0,o,0,a,l)).context=Wc(null),n=e.current,(o=Lo(r=Zl(),i=ec(n))).callback=void 0!==t&&null!==t?t:null,Wo(n,o,i),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function Mc(e,t,n,r){var i=t.current,o=Zl(),s=ec(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Wo(i,t,s))&&(tc(e,i,s,o),Uo(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)va=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return va=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),fo();break;case 5:Xo(t);break;case 1:Pi(t.type)&&Fi(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(jo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ei(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ei(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ua(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);va=0!==(131072&e.flags)}else va=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ma(e,t),e=t.pendingProps;var i=zi(t,Ci.current);Bo(t,n),i=ms(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Fi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ca(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ma(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===z)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Do(e,t),Ho(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ba(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ba(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Ha(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),_a(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fa(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ei(jo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ri.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Lo(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ro(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ro(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bo(t,n),r=r(i=zo(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return ja(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ma(e,t),t.tag=1,Pi(r)?(e=!0,Fi(t)):e=!1,Bo(t,n),sa(t,r,i),la(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return Ua(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}Mc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=Uc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[fi]=s.current,Mr(8===e.nodeType?e.parentNode:e),cc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Lc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[fi]=l.current,Mr(8===e.nodeType?e.parentNode:e),cc(function(){Mc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(s)}$c.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Mc(e,t,null,null)},$c.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Mc(null,e,null,null)}),t[fi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),nc(t,Qe()),0===(6&Tl)&&(Ul=Qe()+500,Mi()))}break;case 13:cc(function(){var t=Io(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Vc(e,1)}},St=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Vc(e,134217728)}},jt=function(e){if(13===e.tag){var t=ec(e),n=Io(e,t);if(null!==n)tc(n,e,t,Zl());Vc(e,t)}},kt=function(){return vt},_t=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Re=cc;var Zc={usingClientEntryPoint:!1,Events:[vi,bi,wi,Ee,Te,lc]},ed={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{it=nd.inject(td),ot=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Lc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Mr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,s,a),e[fi]=t.current,Mr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391(e,t,n){var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153(e,t,n){var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:d,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function x(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var b=v.prototype=new x;b.constructor=v,g(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:j.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(s,t,i,"",function(e){return e})):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var d=o+C(a=e[c],c);l+=R(a,t,i,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(a=e.next()).done;)l+=R(a=a.value,t,i,d=o+C(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function B(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return t.call(n,e,i++)}),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},A={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:j};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:B,forEach:function(e,t,n){B(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return B(e,function(){t++}),t},toArray:function(e){return B(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=v,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=j.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43(e,t,n){e.exports=n(202)},579(e,t,n){e.exports=n(153)},234(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,d=e[c];if(0>o(l,n))c<i&&0>o(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,A(S);else{var t=r(d);null!==t&&O(w,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,x(E),E=-1),f=!0;var o=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&O(w,u.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,_=null,E=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function B(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?j():(k=!1,_=null)}}else k=!1}if("function"===typeof v)j=function(){v(B)};else if("undefined"!==typeof MessageChannel){var z=new MessageChannel,P=z.port2;z.port1.onmessage=B,j=function(){P.postMessage(null)}}else j=function(){y(B,0)};function A(e){_=e,k||(k=!0,j())}function O(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,A(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(d,e),null===r(c)&&e===r(d)&&(m?(x(E),E=-1):m=!0,O(w,o-s))):(e.sortIndex=a,n(c,e),g||f||(g=!0,A(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853(e,t,n){e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),s=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,l=r.Pop,h=null,m=y();function y(){return(a.state||{idx:null}).idx}function x(){l=r.Pop;let e=y(),t=null==e?null:e-m;m=e,h&&h({action:l,location:b.location,delta:t})}function v(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(c({},a.state,{idx:m}),""));let b={get action(){return l},get location(){return e(o,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(d,x),h=e,()=>{o.removeEventListener(d,x),h=null}},createHref:e=>t(o,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=f(b.location,e,t);n&&n(i,e),m=y()+1;let c=p(i,m),d=b.createHref(i);try{a.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(d)}s&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=f(b.location,e,t);n&&n(i,e),m=y();let o=p(i,m),c=b.createHref(i);a.replaceState(o,"",c),s&&h&&h({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let o=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=A(i);s=z(o[a],e,r)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(u(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=M([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:B(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)}),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=S(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,k=3,_=2,E=1,T=10,C=-2,R=e=>"*"===e;function B(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=C),t&&(r+=_),n.filter(e=>!R(e)).reduce((e,t)=>e+(j.test(t)?k:""===t?E:T),r)}function z(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:M([o,d.pathname]),pathnameBase:H(M([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=M([o,d.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function F(e,t){void 0===t&&(t="/");let n,{pathname:r,search:i="",hash:o=""}="string"===typeof e?m(e):e;if(r)if(s=r,I.test(s))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),h(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?N(r.substring(1),"/"):N(r,t)}else n=t;var s;return{pathname:n,search:q(i),hash:V(o)}}function N(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),u(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=F(i,o),d=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!d&&!h||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],$=(new Set(K),["get",...K]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}const Y=i.createContext(null);const Q=i.createContext(null);const X=i.createContext(null);const Z=i.createContext(null);const ee=i.createContext({outlet:null,matches:[],isDataRoute:!1});const te=i.createContext(null);function ne(){return null!=i.useContext(Z)}function re(){return ne()||u(!1),i.useContext(Z).location}function ie(e){i.useContext(X).static||i.useLayoutEffect(e)}function oe(){let{isDataRoute:e}=i.useContext(ee);return e?function(){let{router:e}=me(fe.UseNavigateStable),t=xe(ge.UseNavigateStable),n=i.useRef(!1);return ie(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,J({fromRouteId:t},i)))},[e,t])}():function(){ne()||u(!1);let e=i.useContext(Y),{basename:t,future:n,navigator:r}=i.useContext(X),{matches:o}=i.useContext(ee),{pathname:s}=re(),a=JSON.stringify(W(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return ie(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=U(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,a,s,e])}()}function se(){let{matches:e}=i.useContext(ee),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(X),{matches:o}=i.useContext(ee),{pathname:s}=re(),a=JSON.stringify(W(o,r.v7_relativeSplatPath));return i.useMemo(()=>U(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function le(e,t,n,o){ne()||u(!1);let{navigator:s}=i.useContext(X),{matches:a}=i.useContext(ee),l=a[a.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=re();if(t){var f;let e="string"===typeof t?m(t):t;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||u(!1),h=e}else h=p;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=v(e,{pathname:y});let b=pe(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,o);return t&&b?i.createElement(Z.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},b):b}function ce(){let e=function(){var e;let t=i.useContext(te),n=ye(ge.UseRouteError),r=xe(ge.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=G(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const de=i.createElement(ce,null);class ue extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(ee.Provider,{value:this.props.routeContext},i.createElement(te.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function he(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(Y);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ee.Provider,{value:t},r)}function pe(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight((e,r,o)=>{let s,u=!1,h=null,p=null;var f;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||de,c&&(d<0&&0===o?(f="route-fallback",!1||ve[f]||(ve[f]=!0),u=!0,p=null):d===o&&(u=!0,p=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,o+1)),m=()=>{let t;return t=s?h:u?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(he,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(ue,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ge||{});function me(e){let t=i.useContext(Y);return t||u(!1),t}function ye(e){let t=i.useContext(Q);return t||u(!1),t}function xe(e){let t=function(){let e=i.useContext(ee);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const ve={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function we(e){let{to:t,replace:n,state:r,relative:o}=e;ne()||u(!1);let{future:s,static:a}=i.useContext(X),{matches:l}=i.useContext(ee),{pathname:c}=re(),d=oe(),h=U(t,W(l,s.v7_relativeSplatPath),c,"path"===o),p=JSON.stringify(h);return i.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:o}),[d,p,o,n,r]),null}function Se(e){u(!1)}function je(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:c}=e;ne()&&u(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:a,static:l,future:J({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);"string"===typeof o&&(o=m(o));let{pathname:p="/",search:f="",hash:g="",state:y=null,key:x="default"}=o,v=i.useMemo(()=>{let e=O(p,d);return null==e?null:{location:{pathname:e,search:f,hash:g,state:y,key:x},navigationType:s}},[d,p,f,g,y,x,s]);return null==v?null:i.createElement(X.Provider,{value:h},i.createElement(Z.Provider,{children:n,value:v}))}function ke(e){let{children:t,location:n}=e;return le(_e(t),n)}new Promise(()=>{});i.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,_e(e.props.children,o));e.type!==Se&&u(!1),e.props.index&&e.props.children&&u(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=_e(e.props.children,o)),n.push(s)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ws){}new Map;const Re=o.startTransition;l.flushSync,o.useId;function Be(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),y(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,a)));let l=s.current,[c,d]=i.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},h=i.useCallback(e=>{u&&Re?Re(()=>d(e)):d(e)},[d,u]);return i.useLayoutEffect(()=>l.listen(h),[l,h]),i.useEffect(()=>be(r),[r]),i.createElement(je,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=i.forwardRef(function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:p}=e,f=Te(e,Ce),{basename:m}=i.useContext(X),y=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,ze))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,m);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(Ws){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;ne()||u(!1);let{basename:r,navigator:o}=i.useContext(X),{hash:s,pathname:a,search:l}=ae(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:M([r,a])),o.createHref({pathname:c,search:l,hash:s})}(d,{relative:o}),v=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=oe(),d=re(),u=ae(e,{relative:a});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(d)===g(u);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,u,r,o,n,e,s,a,l])}(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:p});return i.createElement("a",Ee({},f,{href:n||x,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Oe,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function Fe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ne(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(Ws){o(Ws)}}function a(e){try{l(r.throw(e))}catch(Ws){o(Ws)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class De extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Le extends De{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class We extends De{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ue extends De{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Me;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Me||(Me={}));class He{constructor(e){let{headers:t={},customFetch:n,region:r=Me.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return Ne(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;let i,o;try{const{headers:s,method:a,body:l,signal:c,timeout:d}=n;let u={},{region:h}=n;h||(h=t.region);const p=new URL("".concat(t.url,"/").concat(e));let f;h&&"any"!==h&&(u["x-region"]=h,p.searchParams.set("forceFunctionRegion",h)),l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):"string"===typeof l?(u["Content-Type"]="text/plain",f=l):"undefined"!==typeof FormData&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)):f=!l||"string"===typeof l||"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!==typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let g=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(g=o.signal,c.addEventListener("abort",()=>o.abort())):g=o.signal);const m=yield t.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),t.headers),s),body:f,signal:g}).catch(e=>{throw new Le(e)}),y=m.headers.get("x-relay-error");if(y&&"true"===y)throw new We(m);if(!m.ok)throw new Ue(m);let x,v=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return x="application/json"===v?yield m.json():"application/octet-stream"===v||"application/pdf"===v?yield m.blob():"text/event-stream"===v?m:"multipart/form-data"===v?yield m.formData():yield m.text(),{data:x,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof Ue||s instanceof We?s.context:void 0}}finally{i&&clearTimeout(i)}}()})}}var qe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ve=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,this.urlLengthLimit=null!==(r=e.urlLengthLimit)&&void 0!==r?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,i=null,o=e.status,s=e.statusText;if(e.ok){var a,l;if("HEAD"!==n.method){var c;const t=await e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(c=n.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const d=null===(a=n.headers.get("Prefer"))||void 0===a?void 0:a.match(/count=(exact|planned|estimated)/),u=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");d&&u&&u.length>1&&(i=parseInt(u[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:"Results contain ".concat(r.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,i=null,o=406,s="Not Acceptable"):r=1===r.length?r[0]:null)}else{var d;const i=await e.text();try{t=JSON.parse(i),Array.isArray(t)&&404===e.status&&(r=[],t=null,o=200,s="OK")}catch(u){404===e.status&&""===i?(o=204,s="No Content"):t={message:i}}if(t&&n.isMaybeSingle&&(null===t||void 0===t||null===(d=t.details)||void 0===d?void 0:d.includes("0 rows"))&&(t=null,o=200,s="OK"),t&&n.shouldThrowOnError)throw new qe(t)}return{error:t,data:r,count:i,status:o,statusText:s}});return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="",r="",i="";const o=null===e||void 0===e?void 0:e.cause;if(o){var s,a,l,c;const t=null!==(s=null===o||void 0===o?void 0:o.message)&&void 0!==s?s:"",r=null!==(a=null===o||void 0===o?void 0:o.code)&&void 0!==a?a:"";n="".concat(null!==(l=null===e||void 0===e?void 0:e.name)&&void 0!==l?l:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),n+="\n\nCaused by: ".concat(null!==(c=null===o||void 0===o?void 0:o.name)&&void 0!==c?c:"Error",": ").concat(t),r&&(n+=" (".concat(r,")")),(null===o||void 0===o?void 0:o.stack)&&(n+="\n".concat(o.stack))}else{var d;n=null!==(d=null===e||void 0===e?void 0:e.stack)&&void 0!==d?d:""}const u=this.url.toString().length;return"AbortError"===(null===e||void 0===e?void 0:e.name)||"ABORT_ERR"===(null===e||void 0===e?void 0:e.code)?(i="",r="Request was aborted (timeout or manual cancellation)",u>this.urlLengthLimit&&(r+=". Note: Your request URL is ".concat(u," characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side."))):"HeadersOverflowError"!==(null===o||void 0===o?void 0:o.name)&&"UND_ERR_HEADERS_OVERFLOW"!==(null===o||void 0===o?void 0:o.code)||(i="",r="HTTP headers exceeded server limits (typically 16KB)",u>this.urlLengthLimit&&(r+=". Your request URL is ".concat(u," characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead."))),{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:n,hint:r,code:i},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},Ge=class extends Ve{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=i?"".concat(i,".order"):"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(s?"".concat(s,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="undefined"===typeof r?"offset":"".concat(r,".offset"),o="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(i,"".concat(e)),this.url.searchParams.set(o,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.get("Accept"))&&void 0!==s?s:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(o,'; for="').concat(l,'"; options=').concat(a,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const Ke=new RegExp("[,()]");var $e=class extends Ge{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&Ke.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&Ke.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(i,"fts").concat(o,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}},Je=class{constructor(e,t){let{headers:n={},schema:r,fetch:i,urlLengthLimit:o=8e3}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},i=n?"HEAD":"GET";let o=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",s),r&&l.append("Prefer","count=".concat(r)),new $e({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer","count=".concat(t)),n||o.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));i.searchParams.set("columns",e.join(","))}}return new $e({method:"POST",url:i,headers:o,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;const{url:s,headers:a}=this.cloneRequestState();if(a.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&s.searchParams.set("on_conflict",t),r&&a.append("Prefer","count=".concat(r)),i||a.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));s.searchParams.set("columns",e.join(","))}}return new $e({method:"POST",url:s,headers:a,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer","count=".concat(t)),new $e({method:"PATCH",url:r,headers:i,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer","count=".concat(e)),new $e({method:"DELETE",url:n,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e){var t=function(e,t){if("object"!=Ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ye(t)?t:t+""}function Xe(e,t,n){return(t=Qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach(function(t){Xe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tt=class e{constructor(e){let{headers:t={},schema:n,fetch:r,timeout:i,urlLengthLimit:o=8e3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.urlLengthLimit=o;const s=null!==r&&void 0!==r?r:globalThis.fetch;this.fetch=void 0!==i&&i>0?(e,t)=>{const n=new AbortController,r=setTimeout(()=>n.abort(),i),o=null===t||void 0===t?void 0:t.signal;if(o){if(o.aborted)return clearTimeout(r),s(e,t);const i=()=>{clearTimeout(r),n.abort()};return o.addEventListener("abort",i,{once:!0}),s(e,et(et({},t),{},{signal:n.signal})).finally(()=>{clearTimeout(r),o.removeEventListener("abort",i)})}return s(e,et(et({},t),{},{signal:n.signal})).finally(()=>clearTimeout(r))}:s}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new Je(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let s;const a=new URL("".concat(this.url,"/rpc/").concat(e));let l;const c=e=>null!==e&&"object"===typeof e&&(!Array.isArray(e)||e.some(c)),d=n&&Object.values(t).some(c);d?(s="POST",l=t):n||r?(s=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;a.searchParams.append(t,n)})):(s="POST",l=t);const u=new Headers(this.headers);return d?u.set("Prefer",i?"count=".concat(i,",return=minimal"):"return=minimal"):i&&u.set("Prefer","count=".concat(i)),new $e({method:s,url:a,headers:u,schema:this.schemaName,body:l,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch,urlLengthLimit:this.urlLengthLimit})}};const nt=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}};const rt="realtime-js/".concat("2.97.0"),it="2.0.0",ot=it,st=1e4;var at,lt,ct,dt,ut,ht;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(at||(at={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(lt||(lt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(ct||(ct={})),function(e){e.websocket="websocket"}(dt||(dt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(ut||(ut={}));class pt{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},i=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,t,n){var r,i;const o=e.topic,s=null!==(r=e.ref)&&void 0!==r?r:"",a=null!==(i=e.join_ref)&&void 0!==i?i:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=0===Object.keys(c).length?"":JSON.stringify(c);if(a.length>255)throw new Error("joinRef length ".concat(a.length," exceeds maximum of 255"));if(s.length>255)throw new Error("ref length ".concat(s.length," exceeds maximum of 255"));if(o.length>255)throw new Error("topic length ".concat(o.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(d.length>255)throw new Error("metadata length ".concat(d.length," exceeds maximum of 255"));const u=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+s.length+o.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let p=new DataView(h),f=0;p.setUint8(f++,this.KINDS.userBroadcastPush),p.setUint8(f++,a.length),p.setUint8(f++,s.length),p.setUint8(f++,o.length),p.setUint8(f++,l.length),p.setUint8(f++,d.length),p.setUint8(f++,t),Array.from(a,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(s,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(o,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(l,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(d,e=>p.setUint8(f++,e.charCodeAt(0)));var g=new Uint8Array(h.byteLength+n.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(n),h.byteLength),g.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const n=JSON.parse(e),[r,i,o,s,a]=n;return t({join_ref:r,ref:i,topic:o,event:s,payload:a})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=t.getUint8(4);let a=this.HEADER_LENGTH+4;const l=n.decode(e.slice(a,a+r));a+=r;const c=n.decode(e.slice(a,a+i));a+=i;const d=n.decode(e.slice(a,a+o));a+=o;const u=e.slice(a,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(u)):u,p={type:this.BROADCAST_EVENT,event:c,payload:h};return o>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return t.includes(n)})):{}}}class ft{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(ht||(ht={}));const gt=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,i)=>(n[i]=mt(i,e,t,r),n),{}):{}},mt=(e,t,n,r)=>{const i=t.find(t=>t.name===e),o=null===i||void 0===i?void 0:i.type,s=n[e];return o&&!r.includes(o)?yt(o,s):xt(s)},yt=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return St(t,n)}switch(e){case ht.bool:return vt(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return bt(t);case ht.json:case ht.jsonb:return wt(t);case ht.timestamp:return jt(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:default:return xt(t)}},xt=e=>e,vt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bt=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wt=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},St=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch(i){r=o?o.split(","):[]}return r.map(e=>yt(t,e))}return e},jt=e=>"string"===typeof e?e.replace(" ","T"):e,kt=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _t{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:st;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Et,Tt,Ct,Rt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Et||(Et={}));class Bt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bt.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Bt.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Bt.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const i=this.cloneDeep(e),o=this.transformState(t),s={},a={};return this.map(i,(e,t)=>{o[e]||(a[e]=t)}),this.map(o,(e,t)=>{const n=i[e];if(n){const r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),o=t.filter(e=>i.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);o.length>0&&(s[e]=o),l.length>0&&(a[e]=l)}else s[e]=t}),this.syncDiff(i,{joins:s,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;const o=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),o.length>0){const n=e[t].map(e=>e.presence_ref),r=o.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,o,r)}),this.map(o,(t,n)=>{let i=e[t];if(!i)return;const o=n.map(e=>e.presence_ref);i=i.filter(e=>o.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Tt||(Tt={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Ct||(Ct={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Rt||(Rt={}));class zt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,i;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new _t(this,ct.join,this.params,this.timeout),this.rejoinTimer=new ft(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=lt.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Bt(this),this.broadcastEndpointURL=kt(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(i=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===i?void 0:i.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:o,presence:s,private:a}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[Ct.PRESENCE]&&this.bindings[Ct.PRESENCE].length>0||!0===(null===(i=this.params.config.presence)||void 0===i?void 0:i.enabled),d={},u={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(Rt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Rt.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,i=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,o=[];for(let r=0;r<i;r++){const i=t[r],{filter:{event:s,schema:a,table:l,filter:c}}=i,d=n&&n[r];if(!(d&&d.event===s&&zt.isFilterValueEqual(d.schema,a)&&zt.isFilterValueEqual(d.table,l)&&zt.isFilterValueEqual(d.filter,c)))return this.unsubscribe(),this.state=lt.errored,void(null===e||void 0===e||e(Rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},i),{id:d.id}))}return this.bindings.postgres_changes=o,void(e&&e(Rt.SUBSCRIBED))}null===e||void 0===e||e(Rt.SUBSCRIBED)}).receive("error",t=>{this.state=lt.errored,null===e||void 0===e||e(Rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===lt.joined&&e===Ct.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization="Bearer ".concat(this.socket.accessTokenValue));const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===s.status)return{success:!0};let a=s.statusText;try{const e=await s.json();a=e.error||e.message||a}catch(l){}return Promise.reject(new Error(a))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,i,o;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===o?void 0:o.ack)||n("ok"),s.receive("ok",()=>n("ok")),s.receive("error",()=>n("error")),s.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:s}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=lt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new _t(this,ct.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),o}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new _t(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const o=e.toLocaleLowerCase(),{close:s,error:a,leave:l,join:c}=ct;if(n&&[s,a,l,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o}).map(e=>e.callback(d,n)):null===(i=this.bindings[o])||void 0===i||i.filter(e=>{var n,r,i,s,a,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return o&&(null===(r=t.ids)||void 0===r?void 0:r.includes(o))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(a=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:o}=e,s={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:o};d=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(d,n)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&zt.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ct.close,{},e)}_onError(e){this._on(ct.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=gt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=gt(e.columns,e.old_record)),t}}const Pt=()=>{},At=25e3,Ot=10,It=100,Ft=[1e3,2e3,5e3,1e4];class Nt{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=st,this.transport=null,this.heartbeatIntervalMs=At,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pt,this.ref=0,this.reconnectTimer=null,this.vsn=ot,this.logger=Pt,this.conn=null,this.sendBuffer=[],this.serializer=new pt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(dt.websocket),this.httpEndpoint=kt(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case at.connecting:return ut.Connecting;case at.open:return ut.Open;case at.closing:return ut.Closing;default:return ut.Closed}}isConnected(){return this.connectionState()===ut.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new zt("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(i,")"),r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(Ws){this.log("error","error in heartbeat callback",Ws)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},It)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(Ws){this.log("error","error in heartbeat callback",Ws)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(Ws){this.log("error","error in heartbeat callback",Ws)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(Ws){this.log("error","error in heartbeat callback",Ws)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:n,payload:r,ref:i}=e,o=i?"(".concat(i,")"):"",s=r.status||"";this.log("receive","".concat(s," ").concat(t," ").concat(n," ").concat(o).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===at.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===at.open||this.conn.readyState===at.connecting)try{this.conn.close()}catch(Ws){this.log("error","Error closing connection",Ws)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(Ws){this.log("error","error in heartbeat callback",Ws)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ct.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;if(t)e=t,n=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(Ws){this.log("error","Error fetching access token from callback",Ws),e=this.accessTokenValue}else e=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:rt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(ct.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Ws){this.log("error","error in ".concat(e," callback"),Ws)}})}catch(Ws){this.log("error","error triggering ".concat(e," callbacks"),Ws)}}_setupReconnectionTimer(){this.reconnectTimer=new ft(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ot)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,i,o,s,a,l,c,d,u,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:st,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:At,this.worker=null!==(i=null===e||void 0===e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(o=null===e||void 0===e?void 0:e.accessToken)&&void 0!==o?o:null,this.heartbeatCallback=null!==(s=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==s?s:Pt,this.vsn=null!==(a=null===e||void 0===e?void 0:e.vsn)&&void 0!==a?a:ot,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>Ft[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(d=null===e||void 0===e?void 0:e.decode)&&void 0!==d?d:(e,t)=>t(JSON.parse(e));break;case it:this.encode=null!==(u=null===e||void 0===e?void 0:e.encode)&&void 0!==u?u:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Lt(e){var t=function(e,t){if("object"!=Dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dt(t)?t:t+""}function Wt(e,t,n){return(t=Lt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach(function(t){Wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ht=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(n=t.icebergType)||void 0===n?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function qt(e){var t;const n=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:r,path:i,query:o,body:s,headers:a}=t;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))void 0!==o&&r.searchParams.set(i,o);return r.toString()}(e.baseUrl,i,o),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),d=await n(l,{method:r,headers:Mt(Mt(Mt({},s?{"Content-Type":"application/json"}:{}),c),a),body:s?JSON.stringify(s):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),p=h&&u?JSON.parse(u):u;if(!d.ok){var f;const e=h?p:void 0,t=null===e||void 0===e?void 0:e.error;throw new Ht(null!==(f=null===t||void 0===t?void 0:t.message)&&void 0!==f?f:"Request failed with status ".concat(d.status),{status:d.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:p}}}}function Vt(e){return e.join("\x1f")}var Gt=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Vt(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(Vt(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Vt(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(Vt(e.namespace))}),!0}catch(t){if(t instanceof Ht&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ht&&409===n.status)return;throw n}}};function Kt(e){return e.join("\x1f")}var $t=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables"),body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){var n;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(n=null===t||void 0===t?void 0:t.purge)&&void 0!==n&&n)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(n){if(n instanceof Ht&&404===n.status)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ht&&409===n.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Jt=class{constructor(e){var t;let n="v1";e.catalogName&&(n+="/".concat(e.catalogName));const r=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=qt({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new Gt(this.client,n),this.tableOps=new $t(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var Yt=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"storage",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Qt(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var Xt=class extends Yt{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";super(e,r,t,n),this.name="vectors"===r?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zt=class extends Yt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"storage";super(e,n),this.name="vectors"===n?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const en=e=>{if(Array.isArray(e))return e.map(e=>en(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const i=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[i]=en(r)}),t};function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e){var t=function(e,t){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tn(t)?t:t+""}function rn(e,t,n){return(t=nn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach(function(t){rn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const an=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},ln=(e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&"HEAD"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(i.headers=sn({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,(null===t||void 0===t?void 0:t.duplex)&&(i.duplex=t.duplex),sn(sn({},i),n)):sn(sn({},i),n)};async function cn(e,t,n,r,i,o,s){return new Promise((a,l)=>{e(n,ln(t,r,i,o)).then(e=>{if(!e.ok)throw e;if(null===r||void 0===r?void 0:r.noResolveJson)return e;if("vectors"===s){const t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status)return{};if(!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>a(e)).catch(e=>(async(e,t,n,r)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e,i=n.status||500;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||i+"";t(new Xt(an(e),i,n,r))}).catch(()=>{if("vectors"===r){const e=i+"";t(new Xt(n.statusText||"HTTP ".concat(i," error"),i,e,r))}else{const e=i+"";t(new Xt(n.statusText||"HTTP ".concat(i," error"),i,e,r))}});else{const e=i+"";t(new Xt(n.statusText||"HTTP ".concat(i," error"),i,e,r))}}else t(new Zt(an(e),e,r))})(e,l,r,s))})}function dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"storage";return{get:async(t,n,r,i)=>cn(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>cn(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>cn(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>cn(t,"HEAD",n,sn(sn({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>cn(t,"DELETE",n,i,o,r,e)}}const un=dn("storage"),{get:hn,post:pn,put:fn,head:gn,remove:mn}=un,yn=dn("vectors");var xn=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";var i;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(i=n)?function(){return i(...arguments)}:function(){return fetch(...arguments)},this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=sn(sn({},this.headers),{},{[e]:t}),this}async handleOperation(e){try{return{data:await e(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}},vn=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qt(e))return{data:null,error:e};throw e}}};let bn;bn=Symbol.toStringTag;var wn=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[bn]="BlobDownloadBuilder",this.promise=null}asStream(){return new vn(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qt(e))return{data:null,error:e};throw e}}};const Sn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kn=class extends xn{constructor(e){let t=arguments.length>2?arguments[2]:void 0;super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>3?arguments[3]:void 0,"storage"),this.bucketId=t}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o;const s=sn(sn({},jn),r);let a=sn(sn({},i.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const l=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,a["cache-control"]="max-age=".concat(s.cacheControl),a["content-type"]=s.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&o instanceof ReadableStream||o&&"object"===typeof o&&"pipe"in o&&"function"===typeof o.pipe)&&!s.duplex&&(s.duplex="half")),(null===r||void 0===r?void 0:r.headers)&&(a=sn(sn({},a),r.headers));const c=i._removeEmptyFolders(t),d=i._getFinalPath(c),u=await("PUT"==e?fn:pn)(i.fetch,"".concat(i.url,"/object/").concat(d),o,sn({headers:a},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{path:c,id:u.Id,fullPath:u.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+"/object/upload/sign/".concat(s));return a.searchParams.set("token",t),i.handleOperation(async()=>{let e;const t=sn({upsert:jn.upsert},r),s=sn(sn({},i.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType),{path:o,fullPath:(await fn(i.fetch,a.toString(),e,{headers:s})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=sn({},n.headers);(null===t||void 0===t?void 0:t.upsert)&&(i["x-upsert"]="true");const o=await pn(n.fetch,"".concat(n.url,"/object/upload/sign/").concat(r),{},{headers:i}),s=new URL(n.url+o.url),a=s.searchParams.get("token");if(!a)throw new Yt("No token returned by API");return{signedUrl:s.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await pn(r.fetch,"".concat(r.url,"/object/move"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await pn(r.fetch,"".concat(r.url,"/object/copy"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await pn(r.fetch,"".concat(r.url,"/object/sign/").concat(i),sn({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{signedUrl:encodeURI("".concat(r.url).concat(o.signedURL).concat(s))}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await pn(r.fetch,"".concat(r.url,"/object/sign/").concat(r.bucketId),{expiresIn:t,paths:e},{headers:r.headers}),o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return i.map(e=>sn(sn({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(r.url).concat(e.signedURL).concat(o)):null}))})}download(e,t,n){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),o=i?"?".concat(i):"",s=this._getFinalPath(e);return new wn(()=>hn(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(s).concat(o),{headers:this.headers,noResolveJson:!0},n),this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>en(await hn(t.fetch,"".concat(t.url,"/object/info/").concat(n),{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await gn(t.fetch,"".concat(t.url,"/object/").concat(n),{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r)&&r instanceof Zt){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==i&&r.push(i);const o="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let a=r.join("&");return""!==a&&(a="?".concat(a)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(o,"/public/").concat(n).concat(a))}}}async remove(e){var t=this;return t.handleOperation(async()=>await mn(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=sn(sn(sn({},Sn),t),{},{prefix:e||""});return await pn(r.fetch,"".concat(r.url,"/object/list/").concat(r.bucketId),i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=sn({},e);return await pn(n.fetch,"".concat(n.url,"/object/list-v2/").concat(n.bucketId),r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const _n={"X-Client-Info":"storage-js/".concat("2.97.0")};var En=class extends xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=new URL(e);(null===r||void 0===r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));super(i.href.replace(/\/$/,""),sn(sn({},_n),t),n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await hn(t.fetch,"".concat(t.url,"/bucket").concat(n),{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await hn(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}))}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var n=this;return n.handleOperation(async()=>await pn(n.fetch,"".concat(n.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await fn(n.fetch,"".concat(n.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mn(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Tn=class extends xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),sn(sn({},_n),t),n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),i=r?"".concat(t.url,"/bucket?").concat(r):"".concat(t.url,"/bucket");return await hn(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mn(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new Yt("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Jt({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!==typeof n?n:async function(){try{for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return{data:await n.apply(e,i),error:null}}catch(s){if(r)throw s;return{data:null,error:s}}}}})}},Cn=class extends xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),sn(sn({},_n),{},{"Content-Type":"application/json"},t),n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await yn.post(n.fetch,"".concat(n.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await yn.post(n.fetch,"".concat(n.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Rn=class extends xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),sn(sn({},_n),{},{"Content-Type":"application/json"},t),n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{})}},Bn=class extends xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),sn(sn({},_n),{},{"Content-Type":"application/json"},t),n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}))}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await yn.post(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}},zn=class extends Bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new Pn(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},Pn=class extends Cn{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){return(()=>super.createIndex)().call(this,sn(sn({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,sn(sn({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new An(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},An=class extends Rn{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,sn(sn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,sn(sn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,sn(sn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,sn(sn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,sn(sn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},On=class extends En{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new kn(this.url,this.headers,e,this.fetch)}get vectors(){return new zn(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Tn(this.url+"/iceberg",this.headers,this.fetch)}};const In="2.97.0",Fn=3e4,Nn=9e4,Dn={"X-Client-Info":"gotrue-js/".concat(In)},Ln="X-Supabase-Api-Version",Wn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Un=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Mn extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Hn(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class qn extends Mn{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Vn extends Mn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Gn extends Mn{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Kn extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $n(e){return Hn(e)&&"AuthSessionMissingError"===e.name}class Jn extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yn extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qn extends Gn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xn extends Gn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zn extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class er extends Gn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function tr(e){return Hn(e)&&"AuthRetryableFetchError"===e.name}class nr extends Gn{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class rr extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),or=" \t\n\r=".split(""),sr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<or.length;t+=1)e[or[t].charCodeAt(0)]=-2;for(let t=0;t<ir.length;t+=1)e[ir[t].charCodeAt(0)]=t;return e})();function ar(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(ir[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(ir[e]),t.queuedBits-=6}}function lr(e,t,n){const r=sr[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function cr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)lr(e.charCodeAt(s),i,o);return t.join("")}function dr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function ur(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}dr(r,t)}}function hr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)lr(e.charCodeAt(i),n,r);return new Uint8Array(t)}function pr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>ar(e,n,r)),ar(null,n,r),t.join("")}const fr=()=>"undefined"!==typeof window&&"undefined"!==typeof document,gr={tested:!1,writable:!1},mr=()=>{if(!fr())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Ws){return!1}if(gr.tested)return gr.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gr.tested=!0,gr.writable=!0}catch(Ws){gr.tested=!0,gr.writable=!1}return gr.writable};const yr=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},xr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},vr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},br=async(e,t)=>{await e.removeItem(t)};class wr{constructor(){this.promise=new wr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Sr(e){const t=e.split(".");if(3!==t.length)throw new rr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Un.test(t[n]))throw new rr("JWT not in base64url format");return{header:JSON.parse(cr(t[0])),payload:JSON.parse(cr(t[1])),signature:hr(t[2]),raw:{header:t[0],payload:t[1]}}}function jr(e){return("0"+e.toString(16)).substr(-2)}async function kr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,jr).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await xr(e,"".concat(t,"-code-verifier"),i);const o=await kr(r);return[o,r===o?"plain":"s256"]}wr.promiseConstructor=Promise;const Er=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Tr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(e){if(!Tr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rr(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Br(e){return JSON.parse(JSON.stringify(e))}const zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Pr=[502,503,504];async function Ar(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new er(zr(e),0);if(Pr.includes(e.status))throw new er(zr(e),e.status);let r,i;try{r=await e.json()}catch(Ws){throw new Vn(zr(Ws),Ws)}const o=function(e){const t=e.headers.get(Ln);if(!t)return null;if(!t.match(Er))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Ws){return null}}(e);if(o&&o.getTime()>=Wn.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?i=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new nr(zr(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new Kn}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new nr(zr(r),e.status,r.weak_password.reasons);throw new qn(zr(r),e.status||500,i)}async function Or(e,t,n,r){var i;const o=Object.assign({},null===r||void 0===r?void 0:r.headers);o[Ln]||(o[Ln]=Wn.name),(null===r||void 0===r?void 0:r.jwt)&&(o.Authorization="Bearer ".concat(r.jwt));const s=null!==(i=null===r||void 0===r?void 0:r.query)&&void 0!==i?i:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,i,o){const s=((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,o);let a;try{a=await e(n,Object.assign({},s))}catch(Ws){throw console.error(Ws),new er(zr(Ws),0)}a.ok||await Ar(a);if(null===r||void 0===r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(Ws){await Ar(Ws)}}(e,t,n+a,{headers:o,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Ir(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Fr(e){const t=Ir(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Nr(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Dr(e){return{data:e,error:null}}function Lr(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=Fe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function Wr(e){return e}const Ur=["global","local","others"];class Mr{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=yr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur[0];if(Ur.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Ur.join(", ")));try{return await Or(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Or(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Nr})}catch(n){if(Hn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Fe(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Or(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:Lr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Hn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Or(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Nr})}catch(t){if(Hn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,o,s,a;try{const l={nextPage:null,lastPage:0,total:0},c=await Or(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:Wr});if(c.error)throw c.error;const d=await c.json(),u=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(a=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Hn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Cr(e);try{return await Or(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Nr})}catch(t){if(Hn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Cr(e);try{return await Or(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Nr})}catch(n){if(Hn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Cr(e);try{return await Or(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Nr})}catch(n){if(Hn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Cr(e.userId);try{const{data:t,error:n}=await Or(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Hn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Cr(e.userId),Cr(e.id);try{return{data:await Or(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Hn(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,i,o,s,a;try{const l={nextPage:null,lastPage:0,total:0},c=await Or(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:Wr});if(c.error)throw c.error;const d=await c.json(),u=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(a=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Hn(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Or(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Hn(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Or(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Hn(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Or(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(Hn(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Or(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Hn(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Or(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Hn(t))return{data:null,error:t};throw t}}}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const qr=!!(globalThis&&mr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Vr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Gr extends Vr{}async function Kr(e,t,n){qr&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),qr&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw qr&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Gr('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(qr)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Ws){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Ws)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}qr&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{qr&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}})}catch(Ws){if("AbortError"===(null===Ws||void 0===Ws?void 0:Ws.name))throw new Gr('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" timed out waiting ').concat(t,"ms"));throw Ws}}function $r(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Jr(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Yr extends Error{constructor(e){let{message:t,code:n,cause:r,name:i}=e;var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(o=null!==i&&void 0!==i?i:r instanceof Error?r.name:void 0)&&void 0!==o?o:"Unknown Error",this.code=n}}class Qr extends Yr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Xr(e){let{error:t,options:n}=e;var r,i,o;const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new Yr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=s.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new Yr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(i=s.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new Yr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(o=s.authenticatorSelection)||void 0===o?void 0:o.userVerification))return new Yr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new Yr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new Yr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===s.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Yr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Yr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!oi(e))return new Yr({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(s.rp.id!==e)return new Yr({message:'The RP ID "'.concat(s.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Yr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Zr(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new Yr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new Yr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!oi(e))return new Yr({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new Yr({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const ei=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function ti(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Fe(e,["challenge","user","excludeCredentials"]),o=hr(t).buffer,s=Object.assign(Object.assign({},n),{id:hr(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];a.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:hr(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function ni(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Fe(e,["challenge","allowCredentials"]),i=hr(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];o.allowCredentials[e]=Object.assign(Object.assign({},t),{id:hr(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function ri(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:pr(new Uint8Array(e.response.attestationObject)),clientDataJSON:pr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function ii(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:pr(new Uint8Array(i.authenticatorData)),clientDataJSON:pr(new Uint8Array(i.clientDataJSON)),signature:pr(new Uint8Array(i.signature)),userHandle:i.userHandle?pr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function oi(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function si(){var e,t;return!!(fr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const ai={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},li={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ci(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(const s of i)if(s)for(const r in s){const i=s[r];if(void 0!==i)if(Array.isArray(i))n[r]=i;else if(t(i))n[r]=i;else if(e(i)){const t=n[r];e(t)?n[r]=ci(t,i):n[r]=ci(i)}else n[r]=i}return n}class di{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:i,signal:o}=e;var s;try{const{data:e,error:a}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:a};const l=null!==o&&void 0!==o?o:ei.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;if(!t.name){const e=i;if(e)t.name="".concat(t.id,":").concat(e);else{const e=(await this.client.getUser()).data.user,n=(null===(s=null===e||void 0===e?void 0:e.user_metadata)||void 0===s?void 0:s.name)||(null===e||void 0===e?void 0:e.email)||(null===e||void 0===e?void 0:e.id)||"User";t.name="".concat(t.id,":").concat(n)}}t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return ci(ai,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:i,error:o}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qr("Browser returned unexpected credential type",t)}:{data:null,error:new Qr("Empty credential response",t)}}catch(t){return{data:null,error:Xr({error:t,options:e})}}}({publicKey:r,signal:l});return i?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:i}},error:null}:{data:null,error:o}}case"request":{const r=function(e,t){return ci(li,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:i,error:o}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qr("Browser returned unexpected credential type",t)}:{data:null,error:new Qr("Empty credential response",t)}}catch(t){return{data:null,error:Zr({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:l}));return i?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:i}},error:null}:{data:null,error:o}}}}catch(a){return Hn(a)?{data:null,error:a}:{data:null,error:new Vn("Unexpected error in challenge",a)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:i=("undefined"!==typeof window?[window.location.origin]:void 0),signal:o}={}}=e;if(!r)return{data:null,error:new Mn("rpId is required for WebAuthn authentication")};try{if(!si())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:e,error:s}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:t});if(!e)return{data:null,error:s};const{webauthn:a}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:a.type,rpId:r,rpOrigins:i,credential_response:a.credential_response}})}catch(s){return Hn(s)?{data:null,error:s}:{data:null,error:new Vn("Unexpected error in authenticate",s)}}}async _register(e,t){let{friendlyName:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:i=("undefined"!==typeof window?[window.location.origin]:void 0),signal:o}={}}=e;if(!r)return{data:null,error:new Mn("rpId is required for WebAuthn registration")};try{if(!si())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:e,error:s}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:s};const{data:a,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:t});return a?this._verify({factorId:e.id,challengeId:a.challengeId,webauthn:{rpId:r,rpOrigins:i,type:a.webauthn.type,credential_response:a.webauthn.credential_response}}):{data:null,error:l}}catch(s){return Hn(s)?{data:null,error:s}:{data:null,error:new Vn("Unexpected error in register",s)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Ws){"undefined"!==typeof self&&(self.globalThis=self)}}();const ui={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function hi(e,t,n){return await n()}const pi={};class fi{get jwks(){var e,t;return null!==(t=null===(e=pi[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=pi[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ui),e);if(this.storageKey=i.storageKey,this.instanceID=null!==(t=fi.nextInstanceID[this.storageKey])&&void 0!==t?t:0,fi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,"function"===typeof i.debug&&(this.logger=i.debug),this.instanceID>0&&fr()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Mr({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=yr(i.fetch),this.lock=i.lock||hi,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&fr()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=Kr:this.lock=hi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new di(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:mr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hr(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Hr(this.memoryStorage)),fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Ws){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Ws)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(t){this._debug("#broadcastChannel","error",t)}})}i.skipAutoInitialize||this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(In,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(fr()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Ws){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),fr()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return Hn(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return{error:i}}const{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Hn(t)?this._returnResult({error:t}):this._returnResult({error:new Vn("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await Or(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Ir}),{data:o,error:s}=i;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:l,session:a},error:null})}catch(i){if(Hn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:o}=e;let s=null,a=null;"pkce"===this.flowType&&([s,a]=await _r(this.storage,this.storageKey)),i=await Or(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:s,code_challenge_method:a},xform:Ir})}else{if(!("phone"in e))throw new Yn("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:s}=e;i=await Or(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:o,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Ir})}}const{data:o,error:s}=i;if(s||!o)return await br(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:s});const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:l,session:a},error:null})}catch(i){if(await br(this.storage,"".concat(this.storageKey,"-code-verifier")),Hn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await Or(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Fr})}else{if(!("phone"in e))throw new Yn("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await Or(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Fr})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new Jn;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(Hn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,i,o,s,a,l,c,d,u;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:u,statement:f,options:g}=e;let m;if(fr())if("object"===typeof u)m=u;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");m=e.ethereum}else{if("object"!==typeof u||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=u}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href),x=await m.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||0===x.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const v=$r(x[0]);let b=null===(n=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!b){const e=await m.request({method:"eth_chainId"});b=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(s));if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const p=$r(e.address),f=d?"".concat(d,"://").concat(r):r,g=e.statement?"".concat(e.statement,"\n"):"",m="".concat(f," wants you to sign in with your Ethereum account:\n").concat(p,"\n\n").concat(g);let y="URI: ".concat(u,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(s?"\nNonce: ".concat(s):"","\nIssued At: ").concat(o.toISOString());if(i&&(y+="\nExpiration Time: ".concat(i.toISOString())),a&&(y+="\nNot Before: ".concat(a.toISOString())),l&&(y+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}y+=e}return"".concat(m,"\n").concat(y)}({domain:y.host,address:v,statement:f,uri:y.href,version:"1",chainId:b,nonce:null===(r=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(o=null===(i=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===i?void 0:i.issuedAt)&&void 0!==o?o:new Date,expirationTime:null===(s=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===s?void 0:s.expirationTime,notBefore:null===(a=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===a?void 0:a.notBefore,requestId:null===(l=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await m.request({method:"personal_sign",params:[Jr(h),v]})}try{const{data:t,error:n}=await Or(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:Ir});if(n)throw n;if(!t||!t.session||!t.user){const e=new Jn;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(f){if(Hn(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(e){var t,n,r,i,o,s,a,l,c,d,u,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:u,wallet:h,statement:g,options:m}=e;let y;if(fr())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const x=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===m||void 0===m?void 0:m.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(x.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1","URI: ".concat(x.href),"Issued At: ".concat(null!==(r=null===(n=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(i=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===i?void 0:i.notBefore)?["Not Before: ".concat(m.signInWithSolana.notBefore)]:[],...(null===(o=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===o?void 0:o.expirationTime)?["Expiration Time: ".concat(m.signInWithSolana.expirationTime)]:[],...(null===(s=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===s?void 0:s.chainId)?["Chain ID: ".concat(m.signInWithSolana.chainId)]:[],...(null===(a=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===a?void 0:a.nonce)?["Nonce: ".concat(m.signInWithSolana.nonce)]:[],...(null===(l=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(m.signInWithSolana.requestId)]:[],...(null===(d=null===(c=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...m.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:n}=await Or(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:pr(f)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Ir});if(n)throw n;if(!t||!t.session||!t.user){const e=new Jn;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(g){if(Hn(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await vr(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new Zn;const{data:t,error:i}=await Or(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ir});if(await br(this.storage,"".concat(this.storageKey,"-code-verifier")),i)throw i;if(!t||!t.session||!t.user){const e=new Jn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:i})}catch(i){if(await br(this.storage,"".concat(this.storageKey,"-code-verifier")),Hn(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:o}=e,s=await Or(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Ir}),{data:a,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const e=new Jn;return this._returnResult({data:{user:null,session:null},error:e})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:a,error:l})}catch(t){if(Hn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,i,o;try{if("email"in e){const{email:r,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await _r(this.storage,this.storageKey));const{error:a}=await Or(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null===i||void 0===i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:a}=await Or(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(o=null===n||void 0===n?void 0:n.channel)&&void 0!==o?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:a})}throw new Yn("You must provide either an email or phone number.")}catch(s){if(await br(this.storage,"".concat(this.storageKey,"-code-verifier")),Hn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:o,error:s}=await Or(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Ir});if(s)throw s;if(!o){throw new Error("An error occurred on token verification.")}const a=o.session,l=o.user;return(null===a||void 0===a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),this._returnResult({data:{user:l,session:a},error:null})}catch(r){if(Hn(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,i,o;try{let s=null,a=null;"pkce"===this.flowType&&([s,a]=await _r(this.storage,this.storageKey));const l=await Or(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Dr});return(null===(i=l.data)||void 0===i?void 0:i.url)&&fr()&&!(null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(s){if(await br(this.storage,"".concat(this.storageKey,"-code-verifier")),Hn(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Kn;const{error:r}=await Or(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(Hn(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await Or(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:s}=await Or(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s})}throw new Yn("You must provide either an email or phone number and a type")}catch(t){if(Hn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Ws){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Ws){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Nn;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await vr(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Rr()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"===typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!==typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Or(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Nr}):await this._useSession(async e=>{var t,n,r;const{data:i,error:o}=e;if(o)throw o;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Or(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Nr}):{data:{user:null},error:new Kn}})}catch(t){if(Hn(t))return $n(t)&&(await this._removeSession(),await br(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Kn;const o=r.session;let s=null,a=null;"pkce"===this.flowType&&null!=e.email&&([s,a]=await _r(this.storage,this.storageKey));const{data:l,error:c}=await Or(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:a}),jwt:o.access_token,xform:Nr});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await br(this.storage,"".concat(this.storageKey,"-code-verifier")),Hn(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kn;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:o}=Sr(e.access_token);if(o.exp&&(n=o.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:o}=await this._getUser(e.access_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(t){if(Hn(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Kn;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Hn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!fr())throw new Qn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Xn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Qn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xn("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:s,expires_at:a,token_type:l}=e;if(!i||!s||!o||!l)throw new Qn("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let u=c+d;a&&(u=parseInt(a));const h=u-c;1e3*h<=Fn&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(d,"s"));const p=u-d;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,u,c);const{data:f,error:g}=await this._getUser(i);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:u,refresh_token:o,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if(Hn(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await vr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i&&!$n(i))return this._returnResult({error:i});const o=null===(n=r.session)||void 0===n?void 0:n.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return Hn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status)&&!$n(t))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await br(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await _r(this.storage,this.storageKey,!0));try{return await Or(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(await br(this.storage,"".concat(this.storageKey,"-code-verifier")),Hn(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Hn(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,i,o,s;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await Or(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(o=a.session)||void 0===o?void 0:o.access_token)&&void 0!==s?s:void 0})});if(r)throw r;return fr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null})}catch(n){if(Hn(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:i}}=t;if(r)throw r;const{options:o,provider:s,token:a,access_token:l,nonce:c}=e,d=await Or(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===i||void 0===i?void 0:i.access_token)&&void 0!==n?n:void 0,body:{provider:s,id_token:a,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Ir}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new Jn})}catch(r){if(await br(this.storage,"".concat(this.storageKey,"-code-verifier")),Hn(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:o}=t;if(o)throw o;return await Or(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Hn(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Or(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Ir})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&tr(t)&&Date.now()+n-i<Fn},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(Ws){if(!r(i,Ws))return void t(Ws)}})()}))}catch(i){if(this._debug(t,"error",i),Hn(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),fr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await vr(this.storage,this.storageKey);if(i&&this.userStorage){let t=await vr(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},await xr(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Rr()}else if(i&&!i.user&&!i.user){const e=await vr(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await br(this.storage,this.storageKey+"-user"),await xr(this.storage,this.storageKey,i)):i.user=Rr()}if(this._debug(n,"session from storage",i),!this._isValidSession(i))return this._debug(n,"session is not valid"),void(null!==i&&await this._removeSession());const o=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<Nn;if(this._debug(n,"session has".concat(o?"":" not"," expired with margin of ").concat(Nn,"s")),o){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=await this._callRefreshToken(i.refresh_token);e&&(console.error(e),tr(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(i.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return this._debug(n,"error",i),void console.error(i)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new wr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Kn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),Hn(i)){const e={data:null,error:i};return tr(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Ws){r.push(Ws)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await br(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await xr(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Br(e);await xr(this.storage,this.storageKey,r)}else{const e=Br(t);await xr(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await br(this.storage,this.storageKey),await br(this.storage,this.storageKey+"-code-verifier"),await br(this.storage,this.storageKey+"-user"),this.userStorage&&await br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Ws){console.error("removing visibilitychange callback failed",Ws)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fn);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Fn);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Fn,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Ws){console.error("Auto refresh tick failed with error. This is likely a transient error.",Ws)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Ws){if(!(Ws.isAcquireTimeout||Ws instanceof Vr))throw Ws;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await _r(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?this._returnResult({data:null,error:i}):await Or(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Hn(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:a,error:l}=await Or(this.fetch,"POST","".concat(this.url,"/factors"),{body:s,headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===a.type&&(null===(r=null===a||void 0===a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code="data:image/svg+xml;utf-8,".concat(a.totp.qr_code)),this._returnResult({data:a,error:null}))})}catch(t){if(Hn(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?ri(e.webauthn.credential_response):ii(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:a}=await Or(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:o,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return a?this._returnResult({data:null,error:a}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:a}))})}catch(t){if(Hn(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return this._returnResult({data:null,error:i});const o=await Or(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if("webauthn"!==s.type)return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:ti(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:ni(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Hn(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(i),"verified"===i.status&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,n,r,i;if(e)try{const{payload:r}=Sr(e);let i=null;r.aal&&(i=r.aal);let o=i;const{data:{user:s},error:a}=await this.getUser(e);if(a)return this._returnResult({data:null,error:a});(null!==(n=null===(t=null===s||void 0===s?void 0:s.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:r.amr||[]},error:null}}catch(d){if(Hn(d))return this._returnResult({data:null,error:d});throw d}const{data:{session:o},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Sr(o.access_token);let l=null;a.aal&&(l=a.aal);let c=l;(null!==(i=null===(r=o.user.factors)||void 0===r?void 0:r.filter(e=>"verified"===e.status))&&void 0!==i?i:[]).length>0&&(c="aal2");return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:a.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Or(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Kn})})}catch(t){if(Hn(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Kn});const o=await Or(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return o.data&&o.data.redirect_url&&fr()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Hn(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Kn});const o=await Or(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return o.data&&o.data.redirect_url&&fr()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Hn(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await Or(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Kn})})}catch(e){if(Hn(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await Or(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kn})})}catch(t){if(Hn(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:i}=await Or(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(i)throw i;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:i,signature:o,raw:{header:s,payload:a}}=Sr(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:o},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,function(e){const t=[];return ur(e,e=>t.push(e)),new Uint8Array(t)}("".concat(s,".").concat(a))))throw new rr("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(Hn(n))return this._returnResult({data:null,error:n});throw n}}}fi.nextInstanceID={};const gi=fi;let mi="";mi="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const yi={headers:{"X-Client-Info":"supabase-js-".concat(mi,"/").concat("2.97.0")}},xi={schema:"public"},vi={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bi={};function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Si(e){var t=function(e,t){if("object"!=wi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wi(t)?t:t+""}function ji(e,t,n){return(t=Si(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach(function(t){ji(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ei=(e,t,n)=>{const r=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n),i=Headers;return async(n,o)=>{var s;const a=null!==(s=await t())&&void 0!==s?s:e;let l=new i(null===o||void 0===o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(a)),r(n,_i(_i({},o),{},{headers:l}))}};var Ti=class extends gi{constructor(e){super(e)}},Ci=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const s="sb-".concat(o.hostname.split(".")[0],"-auth-token"),a=function(e,t){var n,r;const{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:_i(_i({},l),i),auth:_i(_i({},c),o),realtime:_i(_i({},d),s),storage:{},global:_i(_i(_i({},u),a),{},{headers:_i(_i({},null!==(n=null===u||void 0===u?void 0:u.headers)&&void 0!==n?n:{}),null!==(r=null===a||void 0===a?void 0:a.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:xi,realtime:bi,auth:_i(_i({},vi),{},{storageKey:s}),global:yi});var l;(this.storageKey=null!==(r=a.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=a.global.headers)&&void 0!==i?i:{},a.accessToken)?(this.accessToken=a.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=a.auth)&&void 0!==l?l:{},this.headers,a.global.fetch);this.fetch=Ei(t,this._getAccessToken.bind(this),a.global.fetch),this.realtime=this._initRealtimeClient(_i({headers:this.headers,accessToken:this._getAccessToken.bind(this)},a.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new tt(new URL("rest/v1",o).href,{headers:this.headers,schema:a.db.schema,fetch:this.fetch,timeout:a.db.timeout,urlLengthLimit:a.db.urlLengthLimit}),this.storage=new On(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),a.accessToken||this._listenForAuthEvents()}get functions(){return new He(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,n=this;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:s,userStorage:a,storageKey:l,flowType:c,lock:d,debug:u,throwOnError:h}=e;const p={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ti({url:this.authUrl.href,headers:_i(_i({},p),t),storageKey:l,autoRefreshToken:r,persistSession:i,detectSessionInUrl:o,storage:s,userStorage:a,flowType:c,lock:d,debug:u,throwOnError:h,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Nt(this.realtimeUrl.href,_i(_i({},e),{},{params:_i(_i({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!==typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(void 0===t||null===t)return!1;const n=t.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ri=((e,t,n)=>new Ci(e,t,n))("https://rmnqfrljoknmellbnpiy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtbnFmcmxqb2tubWVsbGJucGl5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE3NDg4MDMsImV4cCI6MjA4NzMyNDgwM30.FiZzRBOtjbeGA6cWhj3YhTu87F0dImSsK8joMiWab9E"),Bi={async getTherapistByUrl(e){const{data:t,error:n}=await Ri.from("therapists").select("id, business_name, full_name").eq("custom_url",e).single();if(n)throw n;return t},async upsertClient(e,t){const{data:n}=await Ri.from("clients").select("*").eq("therapist_id",e).eq("phone",t.phone).maybeSingle();if(n)return n;const{data:r,error:i}=await Ri.from("clients").insert([{therapist_id:e,name:t.name,phone:t.phone,email:t.email||null}]).select().single();if(i)throw i;return r},async createSession(e){const{data:t,error:n}=await Ri.from("sessions").insert([e]).select().single();if(n)throw n;return t},async getTherapistSessions(e){const{data:t,error:n}=await Ri.from("sessions").select("*, client:clients(*)").eq("therapist_id",e).order("created_at",{ascending:!1}).limit(100);if(n)throw n;return t},async getSession(e){const{data:t,error:n}=await Ri.from("sessions").select("*, client:clients(*)").eq("id",e).single();if(n)throw n;return t},async updateSession(e,t){const{data:n,error:r}=await Ri.from("sessions").update(t).eq("id",e).select().single();if(r)throw r;return n},async getTherapistClients(e){const{data:t,error:n}=await Ri.from("clients").select("*").eq("therapist_id",e).order("created_at",{ascending:!1});if(n)throw n;return t},async getClientHistory(e){const{data:t,error:n}=await Ri.from("sessions").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(n)throw n;return t}};var zi=n(579);const Pi=(0,i.createContext)({}),Ai=()=>(0,i.useContext)(Pi),Oi=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!0);(0,i.useEffect)(()=>{Ri.auth.getSession().then(e=>{let{data:{session:t}}=e;null!==t&&void 0!==t&&t.user?(r(t.user),Ri.from("therapists").select("*").eq("id",t.user.id).single().then(e=>{let{data:t}=e;t&&s(t)}).finally(()=>l(!1))):l(!1)}).catch(()=>l(!1));const{data:{subscription:e}}=Ri.auth.onAuthStateChange((e,t)=>{null!==t&&void 0!==t&&t.user?(r(t.user),Ri.from("therapists").select("*").eq("id",t.user.id).single().then(e=>{let{data:t}=e;t&&s(t)})):(r(null),s(null))});return()=>e.unsubscribe()},[]);return(0,zi.jsx)(Pi.Provider,{value:{user:n,therapist:o,loading:a,signIn:async(e,t)=>{try{const{data:n,error:i}=await Ri.auth.signInWithPassword({email:e,password:t});if(i)throw i;r(n.user);const{data:o}=await Ri.from("therapists").select("*").eq("id",n.user.id).single();return o&&s(o),{success:!0}}catch(n){return{success:!1,error:n.message}}},signOut:async()=>{await Ri.auth.signOut(),r(null),s(null),window.location.href="/login"},signUp:async(e,t,n)=>{try{const{data:r,error:i}=await Ri.auth.signUp({email:e,password:t});if(i)throw i;const{error:o}=await Ri.from("therapists").insert([{id:r.user.id,email:e,business_name:n.businessName,full_name:n.fullName,phone:n.phone,custom_url:n.customUrl,password_hash:"managed_by_supabase_auth",plan:"free"}]);if(o)throw o;return{success:!0}}catch(r){return{success:!1,error:r.message}}},updateProfile:async e=>{try{const{data:t,error:r}=await Ri.from("therapists").update(e).eq("id",n.id).select().single();if(r)throw r;return s(t),{success:!0,data:t}}catch(t){return{success:!1,error:t.message}}},isAuthenticated:!!n},children:t})};function Ii(e){let{children:t}=e;const{user:n,loading:r}=Ai();return r?(0,zi.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#F9FAFB"},children:(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("div",{style:{fontSize:"18px",color:"#6B7280"},children:"Loading..."})]})}):n?t:(0,zi.jsx)(we,{to:"/login",replace:!0})}function Fi(){const[e,t]=(0,i.useState)(0),n=[{emoji:"\ud83c\udf3f",text:"Be Professional",subtitle:"Modern intake that clients love"},{emoji:"\u26a1",text:"Be Efficient",subtitle:"Give clients 8 extra minutes of care"},{emoji:"\ud83d\udc9c",text:"Be Memorable",subtitle:"Data-driven sessions they'll remember"}];i.useEffect(()=>{const e=setInterval(()=>{t(e=>(e+1)%n.length)},3e3);return()=>clearInterval(e)},[]);const r="#6B9E80",o="#2A5741",s="#B4A7D6",a="#F3F1F9",l="#D8D3E8",c="#6B7280",d="#1F2937",u="#F9FAFB",h="#059669";return(0,zi.jsxs)("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[(0,zi.jsx)("nav",{style:{background:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 0",position:"sticky",top:0,zIndex:1e3},children:(0,zi.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,zi.jsx)("span",{style:{fontSize:"28px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"24px",fontWeight:"700",color:o},children:"BodyMap"})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"32px",alignItems:"center"},children:[(0,zi.jsx)("a",{href:"#features",style:{color:c,textDecoration:"none",fontWeight:"500"},children:"Features"}),(0,zi.jsx)(Ae,{to:"/pricing",style:{color:c,textDecoration:"none",fontWeight:"500"},children:"Pricing"}),(0,zi.jsx)(Ae,{to:"/why-bodymap",style:{color:c,textDecoration:"none",fontWeight:"500"},children:"Why BodyMap"}),(0,zi.jsx)(Ae,{to:"/signup",style:{background:r,color:"white",padding:"10px 20px",borderRadius:"8px",textDecoration:"none",fontWeight:"600"},children:"Start Free Trial"})]})]})}),(0,zi.jsx)("section",{style:{background:"linear-gradient(135deg, ".concat(r," 0%, ").concat(o," 100%)"),padding:"80px 24px",textAlign:"center",color:"white",position:"relative",overflow:"hidden"},children:(0,zi.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto",position:"relative",zIndex:1},children:[(0,zi.jsx)("div",{style:{fontSize:"72px",marginBottom:"16px",transition:"all 0.5s ease",opacity:1},children:n[e].emoji}),(0,zi.jsx)("h1",{style:{fontSize:"56px",fontWeight:"700",marginBottom:"8px",transition:"all 0.5s ease"},children:n[e].text}),(0,zi.jsx)("p",{style:{fontSize:"24px",opacity:.95,marginBottom:"32px",transition:"all 0.5s ease"},children:n[e].subtitle}),(0,zi.jsx)("div",{style:{display:"flex",gap:"8px",justifyContent:"center",marginTop:"24px"},children:n.map((t,n)=>(0,zi.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:e===n?"white":"rgba(255,255,255,0.4)",transition:"all 0.3s"}},n))})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px",textAlign:"center"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"48px",fontWeight:"700",color:d,marginBottom:"16px"},children:"Elevate Every Client Experience"}),(0,zi.jsxs)("p",{style:{fontSize:"20px",color:c,marginBottom:"40px",lineHeight:"1.6"},children:["Your clients visualize their needs in 60 seconds.",(0,zi.jsx)("br",{}),"You deliver personalized, data-driven sessions.",(0,zi.jsx)("br",{}),"They remember the experience. They come back."]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginBottom:"60px"},children:[(0,zi.jsx)("a",{href:"#demo",style:{background:r,color:"white",padding:"16px 32px",borderRadius:"8px",textDecoration:"none",fontSize:"18px",fontWeight:"600"},children:"See How It Works"}),(0,zi.jsx)(Ae,{to:"/signup",style:{background:"white",color:r,padding:"16px 32px",borderRadius:"8px",textDecoration:"none",fontSize:"18px",fontWeight:"600",border:"2px solid ".concat(r)},children:"Start Free Trial"})]})]})}),(0,zi.jsx)("section",{id:"demo",style:{background:a,padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",color:d,marginBottom:"16px"},children:"How BodyMap Works"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:c,marginBottom:"60px"},children:"Three simple steps. Zero complexity. Immediate impact."}),(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"40px",marginBottom:"60px"},children:[{num:"1",title:"Share Your Link",desc:"Text or email your custom BodyMap link to clients",detail:"mybodymap.app/yourbusiness",image:"\ud83d\udcf1"},{num:"2",title:"Client Fills Visual Intake",desc:"They tap their body map and set preferences in 60 seconds",detail:"Works on any phone. No app needed.",image:"\ud83d\uddfa\ufe0f"},{num:"3",title:"You See Their Needs",desc:"Review their visual map and preferences on your dashboard",detail:"Personalized session ready to go.",image:"\ud83d\udcbb"}].map(e=>(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:s,color:"white",fontSize:"24px",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:e.num}),(0,zi.jsx)("div",{style:{fontSize:"56px",marginBottom:"16px"},children:e.image}),(0,zi.jsx)("h3",{style:{fontSize:"22px",fontWeight:"700",color:d,marginBottom:"12px"},children:e.title}),(0,zi.jsx)("p",{style:{fontSize:"16px",color:c,lineHeight:"1.5",marginBottom:"8px"},children:e.desc}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:"#9CA3AF",fontStyle:"italic"},children:e.detail})]},e.num))}),(0,zi.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"40px",border:"1px solid #E5E7EB",marginBottom:"20px"},children:[(0,zi.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:d,marginBottom:"24px"},children:"See BodyMap in Action"}),(0,zi.jsxs)("div",{style:{background:u,borderRadius:"8px",padding:"80px 40px",border:"2px dashed #D1D5DB",textAlign:"center"},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udcf8"}),(0,zi.jsx)("p",{style:{fontSize:"16px",color:c,marginBottom:"8px"},children:"Demo screenshots coming here"}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:"#9CA3AF"},children:"(Client intake flow \u2192 Body map interface \u2192 Therapist dashboard)"})]})]})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",color:d,textAlign:"center",marginBottom:"16px"},children:"The Benefits Are Clear"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:c,textAlign:"center",marginBottom:"60px"},children:"It's about more than efficiency. It's about transforming your practice."}),(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"60px",alignItems:"center",marginBottom:"60px"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:s,marginBottom:"12px"},children:"\ud83d\udc9c BENEFIT #1"}),(0,zi.jsx)("h3",{style:{fontSize:"32px",fontWeight:"700",color:d,marginBottom:"16px"},children:"Elevated Client Experience"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:c,lineHeight:"1.6",marginBottom:"24px"},children:"Clients feel heard before they arrive. Visual body maps beat verbal descriptions. Every session is personalized with their exact preferences. Data-driven care they can feel."}),(0,zi.jsxs)("div",{style:{background:a,borderRadius:"8px",padding:"20px",border:"1px solid ".concat(l)},children:[(0,zi.jsx)("div",{style:{fontSize:"14px",color:s,fontWeight:"600",marginBottom:"8px"},children:"The Result:"}),(0,zi.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:s,marginBottom:"4px"},children:"92% of clients"}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:c},children:"say BodyMap therapists provide better sessions"})]})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:r,marginBottom:"12px"},children:"\ud83c\udf3f BENEFIT #2"}),(0,zi.jsx)("h3",{style:{fontSize:"32px",fontWeight:"700",color:d,marginBottom:"16px"},children:"2x Higher Client Retention"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:c,lineHeight:"1.6",marginBottom:"24px"},children:"When clients feel understood, they come back. BodyMap therapists see double the repeat bookings compared to traditional intake methods. Loyal clients, predictable revenue."}),(0,zi.jsxs)("div",{style:{background:"#ECFDF5",borderRadius:"8px",padding:"20px",border:"1px solid #A7F3D0"},children:[(0,zi.jsx)("div",{style:{fontSize:"14px",color:h,fontWeight:"600",marginBottom:"8px"},children:"The Result:"}),(0,zi.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:h,marginBottom:"4px"},children:"2x repeat rate"}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:c},children:"vs. therapists without visual intake"})]})]})]}),(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"60px",alignItems:"center"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:r,marginBottom:"12px"},children:"\u26a1 BENEFIT #3"}),(0,zi.jsx)("h3",{style:{fontSize:"32px",fontWeight:"700",color:d,marginBottom:"16px"},children:"Give Clients 8 Extra Minutes"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:c,lineHeight:"1.6",marginBottom:"24px"},children:"Review their visual intake in 2 minutes. Spend the other 58 minutes on hands-on therapy. No rushed table conversations. Full session time for what matters most."}),(0,zi.jsxs)("div",{style:{background:u,borderRadius:"8px",padding:"16px"},children:[(0,zi.jsx)("div",{style:{fontSize:"13px",color:c,marginBottom:"8px"},children:"Time Breakdown Per Session:"}),(0,zi.jsxs)("div",{style:{fontSize:"14px",color:d,lineHeight:"1.8"},children:["\u2022 Quick review: 2 min",(0,zi.jsx)("br",{}),"\u2022 Hands-on therapy: 58 min",(0,zi.jsx)("br",{}),"\u2022 ",(0,zi.jsx)("strong",{children:"8 extra minutes of care"})]})]})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:r,marginBottom:"12px"},children:"\ud83d\udcb0 BENEFIT #4"}),(0,zi.jsx)("h3",{style:{fontSize:"32px",fontWeight:"700",color:d,marginBottom:"16px"},children:"Time Savings Add Up"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:c,lineHeight:"1.6",marginBottom:"24px"},children:"8 minutes per session \xd7 4 clients = 32 minutes per day. That's 640 minutes (10+ hours) per month. Use it for more clients, personal time, or better work-life balance."}),(0,zi.jsxs)("div",{style:{background:u,borderRadius:"8px",padding:"16px"},children:[(0,zi.jsx)("div",{style:{fontSize:"13px",color:c,marginBottom:"8px"},children:"Monthly Impact:"}),(0,zi.jsxs)("div",{style:{fontSize:"14px",color:d,lineHeight:"1.8"},children:["\u2022 4 sessions/day \xd7 8 min = 32 min/day",(0,zi.jsx)("br",{}),"\u2022 32 min \xd7 20 days = 640 min/month",(0,zi.jsx)("br",{}),"\u2022 ",(0,zi.jsx)("strong",{children:"\u2248 $640 in time value"})," (at $1/min)"]})]})]})]})]})}),(0,zi.jsx)("section",{id:"features",style:{background:u,padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",color:d,textAlign:"center",marginBottom:"60px"},children:"Everything You Need"}),(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"32px"},children:[{emoji:"\ud83d\uddfa\ufe0f",title:"Visual Body Maps",desc:"Front & back body diagrams. Clients tap to mark focus/avoid areas. Clear visual communication beats verbal every time."},{emoji:"\ud83e\udde0",title:"AI Session Intelligence",desc:'Pattern detection across sessions. "Client often requests lower back + hamstring work." Gets smarter over time.'},{emoji:"\ud83d\udcca",title:"Session History",desc:"Track client preferences over time. See what worked last session. Build long-term relationships with data."},{emoji:"\u26a1",title:"Works in 60 Seconds",desc:"No app download required. Works on any phone. Simple for clients of all ages and tech comfort levels."},{emoji:"\ud83d\udc9c",title:"Client Loyalty Built-In",desc:"Automatic session tracking. Reward repeat clients. You set the rules (10 sessions = 1 free). We handle the counting."},{emoji:"\ud83d\udcf1",title:"Mobile-First Design",desc:"Works perfectly on phones, tablets, and desktop. Your clients can fill it anywhere. You can review anywhere."}].map(e=>(0,zi.jsxs)("div",{style:{background:"white",padding:"32px",borderRadius:"12px",border:"1px solid #E5E7EB"},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:e.emoji}),(0,zi.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:d,marginBottom:"12px"},children:e.title}),(0,zi.jsx)("p",{style:{fontSize:"15px",color:c,lineHeight:"1.6"},children:e.desc})]},e.title))}),(0,zi.jsx)("div",{style:{marginTop:"40px",background:a,padding:"24px",borderRadius:"12px",border:"1px solid ".concat(l),textAlign:"center"},children:(0,zi.jsxs)("p",{style:{fontSize:"14px",color:c,margin:0},children:[(0,zi.jsx)("strong",{children:"Note:"})," BodyMap is a communication tool for intake preferences, not medical software. No HIPAA compliance required."]})})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",color:d,textAlign:"center",marginBottom:"60px"},children:"Built For Every Practice Size"}),(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"32px"},children:[{icon:"\ud83d\udc64",title:"Solo Therapists",desc:"Elevate client experience, boost retention, reclaim your time",plan:"Free or Silver plan"},{icon:"\ud83c\udfe2",title:"Small Practices (2-5 therapists)",desc:"Standardize intake, share insights, maintain quality across your team",plan:"Gold plan"},{icon:"\ud83c\udfed",title:"Massage Chains",desc:"Enterprise pricing available. Volume discounts for 10+ locations.",plan:"Contact for pricing"},{icon:"\ud83c\udf93",title:"Massage Schools",desc:"Train students with professional intake tools. Real-world experience.",plan:"Education pricing"}].map(e=>(0,zi.jsxs)("div",{style:{background:u,padding:"32px",borderRadius:"12px",border:"2px solid #E5E7EB",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.borderColor=s,e.currentTarget.style.background=a},onMouseOut:e=>{e.currentTarget.style.borderColor="#E5E7EB",e.currentTarget.style.background=u},children:[(0,zi.jsx)("div",{style:{fontSize:"56px",marginBottom:"16px"},children:e.icon}),(0,zi.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",color:d,marginBottom:"12px"},children:e.title}),(0,zi.jsx)("p",{style:{fontSize:"16px",color:c,lineHeight:"1.6",marginBottom:"12px"},children:e.desc}),(0,zi.jsxs)("div",{style:{fontSize:"14px",color:s,fontWeight:"600"},children:["\u2192 ",e.plan]})]},e.title))})]})}),(0,zi.jsx)("section",{style:{background:a,padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",color:d,marginBottom:"16px"},children:"Start Free, Upgrade When Ready"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:c,marginBottom:"60px"},children:"No credit card required. Cancel anytime."}),(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",marginBottom:"40px"},children:[{name:"Bronze",price:"$0",clients:"5 clients/month",cta:"Start Free",badge:"\ud83e\udd49"},{name:"Silver",price:"$24",clients:"Unlimited clients",cta:"Start Trial",badge:"\ud83e\udd48",popular:!0},{name:"Gold",price:"$49",clients:"Up to 5 therapists",cta:"Start Trial",badge:"\ud83e\udd47"}].map(e=>(0,zi.jsxs)("div",{style:{background:e.popular?"white":u,border:e.popular?"3px solid ".concat(s):"1px solid #E5E7EB",borderRadius:"12px",padding:"32px 24px",position:"relative"},children:[e.popular&&(0,zi.jsx)("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:s,color:"white",padding:"4px 16px",borderRadius:"12px",fontSize:"12px",fontWeight:"700"},children:"MOST POPULAR"}),(0,zi.jsx)("div",{style:{fontSize:"32px",marginBottom:"8px"},children:e.badge}),(0,zi.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:d,marginBottom:"8px"},children:e.name}),(0,zi.jsx)("div",{style:{fontSize:"36px",fontWeight:"700",color:s,marginBottom:"4px"},children:e.price}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:c,marginBottom:"20px"},children:"per month"}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:c,marginBottom:"24px",minHeight:"40px"},children:e.clients}),(0,zi.jsx)(Ae,{to:"/signup",style:{display:"block",background:e.popular?s:"white",color:e.popular?"white":s,border:e.popular?"none":"2px solid ".concat(s),padding:"12px 24px",borderRadius:"8px",textDecoration:"none",fontSize:"14px",fontWeight:"600"},children:e.cta})]},e.name))}),(0,zi.jsx)(Ae,{to:"/pricing",style:{display:"inline-block",color:s,textDecoration:"none",fontSize:"16px",fontWeight:"600",borderBottom:"2px solid ".concat(s)},children:"See Full Pricing & Features \u2192"})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px",textAlign:"center"},children:(0,zi.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"48px",fontWeight:"700",color:d,marginBottom:"16px"},children:"Ready to Elevate Your Client Experience?"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:c,marginBottom:"40px"},children:"Join therapists who are seeing 2x retention, happier clients, and more efficient practices."}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginBottom:"24px"},children:[(0,zi.jsx)("a",{href:"#demo",style:{background:r,color:"white",padding:"16px 40px",borderRadius:"8px",textDecoration:"none",fontSize:"18px",fontWeight:"600"},children:"See How It Works"}),(0,zi.jsx)(Ae,{to:"/signup",style:{background:"white",color:s,padding:"16px 40px",borderRadius:"8px",textDecoration:"none",fontSize:"18px",fontWeight:"600",border:"2px solid ".concat(s)},children:"Start Free Trial"})]}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:"#9CA3AF"},children:"No credit card. No setup fees. Cancel anytime."})]})}),(0,zi.jsx)("footer",{style:{background:d,color:"white",padding:"60px 24px 40px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"40px",marginBottom:"40px"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[(0,zi.jsx)("span",{style:{fontSize:"24px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"20px",fontWeight:"700"},children:"BodyMap"})]}),(0,zi.jsx)("p",{style:{fontSize:"14px",opacity:.8,lineHeight:"1.6"},children:"Professional intake for massage therapists. Elevate experience, boost retention."})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"PRODUCT"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,zi.jsx)("a",{href:"#features",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Features"}),(0,zi.jsx)(Ae,{to:"/pricing",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Pricing"}),(0,zi.jsx)(Ae,{to:"/why-bodymap",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Why BodyMap"}),(0,zi.jsx)("a",{href:"#demo",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Demo"})]})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"COMPANY"}),(0,zi.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:(0,zi.jsx)(Ae,{to:"/contact",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Contact"})})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"LEGAL"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,zi.jsx)(Ae,{to:"/privacy",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Privacy Policy"}),(0,zi.jsx)(Ae,{to:"/terms",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Terms of Service"})]})]})]}),(0,zi.jsx)("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.6},children:"\xa9 2026 BodyMap LLC. Made with \ud83c\udf3f for massage therapists."})})]})})]})}function Ni(){const[e,t]=(0,i.useState)("monthly"),n="#6B9E80",r="#2A5741",o="#B4A7D6",s="#F3F1F9",a="#D8D3E8",l="#6B7280",c="#1F2937",d="#F9FAFB",u="#059669";return(0,zi.jsxs)("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[(0,zi.jsx)("nav",{style:{background:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 0",position:"sticky",top:0,zIndex:1e3},children:(0,zi.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none"},children:[(0,zi.jsx)("span",{style:{fontSize:"28px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"24px",fontWeight:"700",color:r},children:"BodyMap"})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"32px",alignItems:"center"},children:[(0,zi.jsx)(Ae,{to:"/",style:{color:l,textDecoration:"none",fontWeight:"500"},children:"Home"}),(0,zi.jsx)("a",{href:"/#features",style:{color:l,textDecoration:"none",fontWeight:"500"},children:"Features"}),(0,zi.jsx)(Ae,{to:"/why-bodymap",style:{color:l,textDecoration:"none",fontWeight:"500"},children:"Why BodyMap"}),(0,zi.jsx)(Ae,{to:"/signup",style:{background:n,color:"white",padding:"10px 20px",borderRadius:"8px",textDecoration:"none",fontWeight:"600"},children:"Start Free Trial"})]})]})}),(0,zi.jsx)("section",{style:{background:"linear-gradient(135deg, ".concat(n," 0%, ").concat(r," 100%)"),padding:"80px 24px",textAlign:"center",color:"white"},children:(0,zi.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,zi.jsx)("h1",{style:{fontSize:"56px",fontWeight:"700",marginBottom:"16px"},children:"Simple, Transparent Pricing"}),(0,zi.jsx)("p",{style:{fontSize:"20px",opacity:.95,marginBottom:"40px"},children:"Start free. Upgrade anytime. Cancel anytime."}),(0,zi.jsxs)("div",{style:{display:"inline-flex",background:"rgba(255,255,255,0.2)",borderRadius:"12px",padding:"4px"},children:[(0,zi.jsx)("button",{onClick:()=>t("monthly"),style:{background:"monthly"===e?"white":"transparent",color:"monthly"===e?r:"white",border:"none",padding:"12px 32px",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"Monthly"}),(0,zi.jsxs)("button",{onClick:()=>t("annual"),style:{background:"annual"===e?"white":"transparent",color:"annual"===e?r:"white",border:"none",padding:"12px 32px",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",position:"relative"},children:["Annual",(0,zi.jsx)("span",{style:{position:"absolute",top:"-8px",right:"-8px",background:"#FBBF24",color:"#92400E",fontSize:"10px",padding:"2px 6px",borderRadius:"4px",fontWeight:"700"},children:"SAVE 20%"})]})]})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto"},children:[(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"32px",marginBottom:"80px"},children:[{name:"Bronze",badge:"\ud83e\udd49",price:{monthly:0,annual:0},clients:"5 clients/month",tagline:"Perfect for new therapists",features:["Visual body maps (front/back)","Basic preferences tracking","Session history (last 10 sessions)"],cta:"Start Free",ctaLink:"/signup"},{name:"Silver",badge:"\ud83e\udd48",price:{monthly:24,annual:19},clients:"Unlimited clients",tagline:"Perfect for established therapists",popular:!0,features:["Everything in Bronze","UNLIMITED client intakes","AI Session Intelligence","Full session history (unlimited)","Client Loyalty Program","Priority email support (24hr)"],cta:"Start 14-Day Free Trial",ctaLink:"/signup?plan=silver"},{name:"Gold",badge:"\ud83e\udd47",price:{monthly:49,annual:39},clients:"Up to 5 therapists",tagline:"Perfect for small practices",features:["Everything in Silver","Up to 5 therapist accounts","Shared client database","Team dashboard","Custom intake questions","Priority support (12hr response)"],cta:"Start 14-Day Free Trial",ctaLink:"/signup?plan=gold"}].map(t=>{const n="monthly"===e?t.price.monthly:t.price.annual;return(0,zi.jsxs)("div",{style:{background:t.popular?s:d,border:t.popular?"3px solid ".concat(o):"1px solid #E5E7EB",borderRadius:"16px",padding:"40px 32px",position:"relative",transition:"transform 0.2s, box-shadow 0.2s"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 20px 40px rgba(0,0,0,0.1)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[t.popular&&(0,zi.jsx)("div",{style:{position:"absolute",top:"-16px",left:"50%",transform:"translateX(-50%)",background:o,color:"white",padding:"6px 20px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",letterSpacing:"0.5px"},children:"MOST POPULAR"}),(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"12px",textAlign:"center"},children:t.badge}),(0,zi.jsxs)("div",{style:{textAlign:"center",marginBottom:"24px"},children:[(0,zi.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",color:c,marginBottom:"8px"},children:t.name}),(0,zi.jsxs)("div",{style:{fontSize:"48px",fontWeight:"700",color:o,marginBottom:"4px"},children:["$",n]}),(0,zi.jsxs)("div",{style:{fontSize:"14px",color:l},children:["per ","monthly"===e?"month":"month, billed annually"]}),"annual"===e&&t.price.annual>0&&(0,zi.jsxs)("div",{style:{fontSize:"12px",color:u,marginTop:"4px",fontWeight:"600"},children:["Save $",12*(t.price.monthly-t.price.annual),"/year"]})]}),(0,zi.jsxs)("div",{style:{fontSize:"14px",color:l,textAlign:"center",marginBottom:"24px",minHeight:"60px"},children:[(0,zi.jsx)("div",{style:{fontWeight:"600",color:c,marginBottom:"4px"},children:t.clients}),(0,zi.jsx)("div",{style:{fontSize:"13px"},children:t.tagline})]}),(0,zi.jsx)(Ae,{to:t.ctaLink,style:{display:"block",background:t.popular?o:"white",color:t.popular?"white":o,border:t.popular?"none":"2px solid ".concat(o),padding:"14px 24px",borderRadius:"8px",textDecoration:"none",fontSize:"15px",fontWeight:"600",textAlign:"center",marginBottom:"32px"},children:t.cta}),(0,zi.jsx)("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:"24px"},children:t.features.map((e,t)=>(0,zi.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",fontSize:"14px"},children:[(0,zi.jsx)("span",{style:{color:u,fontWeight:"700"},children:"\u2713"}),(0,zi.jsx)("span",{style:{color:"#374151"},children:e})]},t))})]},t.name)})}),(0,zi.jsxs)("div",{style:{background:d,borderRadius:"16px",padding:"48px",textAlign:"center",border:"1px solid #E5E7EB"},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udcbc"}),(0,zi.jsx)("h3",{style:{fontSize:"32px",fontWeight:"700",color:c,marginBottom:"12px"},children:"Enterprise"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:l,marginBottom:"32px",maxWidth:"600px",margin:"0 auto 32px"},children:"For massage chains (10+ locations) and massage schools"}),(0,zi.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"32px",maxWidth:"700px",margin:"0 auto 32px"},children:[(0,zi.jsxs)("p",{style:{fontSize:"16px",color:c,marginBottom:"16px"},children:[(0,zi.jsx)("strong",{children:"Coming Soon:"})," Multi-location dashboards and school-wide licenses"]}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:l},children:"For now, contact us for volume discounts on individual therapist accounts."})]}),(0,zi.jsx)(Ae,{to:"/contact",style:{display:"inline-block",background:n,color:"white",padding:"16px 40px",borderRadius:"8px",textDecoration:"none",fontSize:"16px",fontWeight:"600"},children:"Contact for Pricing"})]})]})}),(0,zi.jsx)("section",{style:{background:d,padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"36px",fontWeight:"700",textAlign:"center",marginBottom:"48px",color:c},children:"Feature Comparison"}),(0,zi.jsx)("div",{style:{background:"white",borderRadius:"12px",overflow:"hidden",border:"1px solid #E5E7EB"},children:(0,zi.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,zi.jsx)("thead",{children:(0,zi.jsxs)("tr",{style:{background:d},children:[(0,zi.jsx)("th",{style:{padding:"20px",textAlign:"left",fontWeight:"600",color:c,borderBottom:"1px solid #E5E7EB"},children:"Feature"}),(0,zi.jsx)("th",{style:{padding:"20px",textAlign:"center",fontWeight:"600",color:c,borderBottom:"1px solid #E5E7EB"},children:"Bronze"}),(0,zi.jsx)("th",{style:{padding:"20px",textAlign:"center",fontWeight:"600",color:c,borderBottom:"1px solid #E5E7EB"},children:"Silver"}),(0,zi.jsx)("th",{style:{padding:"20px",textAlign:"center",fontWeight:"600",color:c,borderBottom:"1px solid #E5E7EB"},children:"Gold"})]})}),(0,zi.jsx)("tbody",{children:[{feature:"Client intakes/month",values:["5","\u221e","\u221e"]},{feature:"Visual body maps",values:["\u2713","\u2713","\u2713"]},{feature:"Session history",values:["10","\u221e","\u221e"]},{feature:"AI Session Intelligence",values:["\u2014","\u2713","\u2713"]},{feature:"Client Loyalty Program",values:["\u2014","\u2713","\u2713"]},{feature:"Priority email support",values:["\u2014","24hr","12hr"]},{feature:"Therapist accounts",values:["1","1","5"]},{feature:"Shared client database",values:["\u2014","\u2014","\u2713"]},{feature:"Team dashboard",values:["\u2014","\u2014","\u2713"]},{feature:"Custom intake questions",values:["\u2014","\u2014","\u2713"]}].map((e,t)=>(0,zi.jsxs)("tr",{style:{borderBottom:"1px solid #F3F4F6"},children:[(0,zi.jsx)("td",{style:{padding:"16px 20px",color:"#374151",fontWeight:"500"},children:e.feature}),e.values.map((e,t)=>(0,zi.jsx)("td",{style:{padding:"16px 20px",textAlign:"center",color:"\u2713"===e?u:"\u2014"===e?"#D1D5DB":"#374151",fontWeight:"\u2713"===e?"700":"400"},children:e},t))]},t))})]})})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto",textAlign:"center"},children:[(0,zi.jsx)("div",{style:{fontSize:"56px",marginBottom:"16px"},children:"\ud83d\udc9c"}),(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",color:c,marginBottom:"16px"},children:"Client Loyalty Built Right In"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:l,marginBottom:"48px"},children:"Reward repeat clients automatically. Boost retention without extra work."}),(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",marginBottom:"48px"},children:[(0,zi.jsxs)("div",{style:{background:s,padding:"32px",borderRadius:"12px",border:"1px solid ".concat(a),textAlign:"left"},children:[(0,zi.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:c,marginBottom:"20px"},children:"How It Works"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",fontSize:"15px",color:l},children:[(0,zi.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,zi.jsx)("span",{style:{color:o,fontWeight:"700"},children:"1."}),(0,zi.jsx)("span",{children:'You set the rules in your dashboard (e.g., "10 sessions = 1 free")'})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,zi.jsx)("span",{style:{color:o,fontWeight:"700"},children:"2."}),(0,zi.jsx)("span",{children:"BodyMap automatically tracks every session"})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,zi.jsx)("span",{style:{color:o,fontWeight:"700"},children:"3."}),(0,zi.jsx)("span",{children:"When clients hit the milestone, you're notified"})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,zi.jsx)("span",{style:{color:o,fontWeight:"700"},children:"4."}),(0,zi.jsx)("span",{children:"Reward them with their free session"})]})]})]}),(0,zi.jsxs)("div",{style:{background:d,padding:"32px",borderRadius:"12px",border:"1px solid #E5E7EB",textAlign:"left"},children:[(0,zi.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:c,marginBottom:"20px"},children:"The Results"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:o,marginBottom:"4px"},children:"2x"}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:l},children:"Higher client retention vs. no loyalty program"})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:o,marginBottom:"4px"},children:"78%"}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:l},children:"Of clients complete loyalty cycle and return"})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:o,marginBottom:"4px"},children:"$0"}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:l},children:"Extra work for you - it's automatic"})]})]})]})]}),(0,zi.jsx)("div",{style:{background:d,padding:"20px",borderRadius:"12px",border:"1px solid #E5E7EB"},children:(0,zi.jsxs)("p",{style:{fontSize:"14px",color:l,margin:0},children:[(0,zi.jsx)("strong",{children:"Available in Silver & Gold plans."})," You control the rewards, we handle the tracking."]})})]})}),(0,zi.jsx)("section",{style:{background:d,padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"36px",fontWeight:"700",textAlign:"center",marginBottom:"48px",color:c},children:"Frequently Asked Questions"}),(0,zi.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[{q:"Can I upgrade/downgrade anytime?",a:"Yes. Changes take effect immediately. Prorated refunds for downgrades."},{q:"Is there a setup fee?",a:"No setup fees. Ever."},{q:"What if I go over my client limit on Bronze?",a:"You'll get a prompt to upgrade. Your account won't be locked - you can still use BodyMap."},{q:"Do my clients pay anything?",a:"No. Clients use BodyMap completely free. You pay the subscription, they fill out the intake."},{q:"Can I cancel anytime?",a:"Yes. No contracts. No penalties. Export your data anytime before you cancel."},{q:"Is BodyMap HIPAA compliant?",a:"BodyMap is a communication tool for intake preferences, not medical software. It doesn't require HIPAA compliance. Your existing practice management software handles protected health information (PHI). BodyMap just collects preferences like pressure, music, and body areas."},{q:"How secure is my data?",a:"All data is encrypted in transit (SSL) and at rest. We use industry-standard security practices. Only you and your clients can access your practice data. We never sell or share your information."},{q:"Do you offer discounts for annual plans?",a:"Yes. Save 20% with annual billing on Silver and Gold plans."}].map((e,t)=>(0,zi.jsxs)("div",{style:{background:"white",padding:"24px",borderRadius:"12px",border:"1px solid #E5E7EB"},children:[(0,zi.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:c,marginBottom:"8px"},children:e.q}),(0,zi.jsx)("p",{style:{fontSize:"15px",color:l,margin:0,lineHeight:"1.6"},children:e.a})]},t))})]})}),(0,zi.jsx)("section",{style:{background:"linear-gradient(135deg, ".concat(n," 0%, ").concat(r," 100%)"),padding:"80px 24px",textAlign:"center",color:"white"},children:(0,zi.jsxs)("div",{style:{maxWidth:"700px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",marginBottom:"16px"},children:"Ready to get started?"}),(0,zi.jsx)("p",{style:{fontSize:"18px",opacity:.95,marginBottom:"32px"},children:"Start free. Upgrade when you're ready. Cancel anytime."}),(0,zi.jsx)(Ae,{to:"/signup",style:{display:"inline-block",background:"white",color:r,padding:"16px 40px",borderRadius:"8px",textDecoration:"none",fontSize:"18px",fontWeight:"600"},children:"Start Free Trial \u2192"}),(0,zi.jsx)("p",{style:{fontSize:"14px",opacity:.8,marginTop:"16px"},children:"No credit card required"})]})}),(0,zi.jsx)("footer",{style:{background:c,color:"white",padding:"60px 24px 40px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"40px",marginBottom:"40px"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px",textDecoration:"none",color:"white"},children:[(0,zi.jsx)("span",{style:{fontSize:"24px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"20px",fontWeight:"700"},children:"BodyMap"})]}),(0,zi.jsx)("p",{style:{fontSize:"14px",opacity:.8,lineHeight:"1.6"},children:"Professional intake for massage therapists. Elevate experience, boost retention."})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"PRODUCT"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,zi.jsx)("a",{href:"/#features",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Features"}),(0,zi.jsx)(Ae,{to:"/pricing",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Pricing"}),(0,zi.jsx)(Ae,{to:"/why-bodymap",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Why BodyMap"})]})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"COMPANY"}),(0,zi.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:(0,zi.jsx)(Ae,{to:"/contact",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Contact"})})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"LEGAL"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,zi.jsx)(Ae,{to:"/privacy",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Privacy Policy"}),(0,zi.jsx)(Ae,{to:"/terms",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Terms of Service"})]})]})]}),(0,zi.jsx)("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"32px",textAlign:"center"},children:(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.6},children:"\xa9 2026 BodyMap LLC. Made with \ud83c\udf3f for massage therapists."})})]})})]})}function Di(){const e="#6B9E80",t="#2A5741",n="#B4A7D6",r="#F3F1F9",i="#6B7280",o="#1F2937",s="#F9FAFB",a="#059669",l="#DC2626";return(0,zi.jsxs)("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[(0,zi.jsx)("nav",{style:{background:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 0",position:"sticky",top:0,zIndex:1e3},children:(0,zi.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none"},children:[(0,zi.jsx)("span",{style:{fontSize:"28px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"24px",fontWeight:"700",color:t},children:"BodyMap"})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"32px",alignItems:"center"},children:[(0,zi.jsx)(Ae,{to:"/",style:{color:i,textDecoration:"none",fontWeight:"500"},children:"Home"}),(0,zi.jsx)("a",{href:"/#features",style:{color:i,textDecoration:"none",fontWeight:"500"},children:"Features"}),(0,zi.jsx)(Ae,{to:"/pricing",style:{color:i,textDecoration:"none",fontWeight:"500"},children:"Pricing"}),(0,zi.jsx)(Ae,{to:"/signup",style:{background:e,color:"white",padding:"10px 20px",borderRadius:"8px",textDecoration:"none",fontWeight:"600"},children:"Start Free Trial"})]})]})}),(0,zi.jsx)("section",{style:{background:"linear-gradient(135deg, ".concat(e," 0%, ").concat(t," 100%)"),padding:"80px 24px",textAlign:"center",color:"white"},children:(0,zi.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[(0,zi.jsx)("h1",{style:{fontSize:"56px",fontWeight:"700",marginBottom:"16px"},children:"Why Massage Therapists Choose BodyMap"}),(0,zi.jsx)("p",{style:{fontSize:"22px",opacity:.95},children:"Better client experience. Higher retention. Time efficiency. All in one."})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",textAlign:"center",color:o,marginBottom:"16px"},children:"It's More Than Efficiency"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:i,textAlign:"center",marginBottom:"60px"},children:"BodyMap transforms how you connect with clients. The time savings? That's just a bonus."}),(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"32px",marginBottom:"60px"},children:[{emoji:"\ud83d\udc9c",title:"Elevated Client Experience",desc:"Clients feel heard before they arrive. Visual body maps beat verbal descriptions. Every session is personalized. Data-driven care they can feel.",stat:"92%",statLabel:"say sessions feel more personalized"},{emoji:"\ud83d\udd04",title:"2x Higher Retention",desc:"When clients feel understood, they come back. BodyMap therapists see double the repeat bookings vs. traditional intake methods.",stat:"2x",statLabel:"repeat client rate vs. old way"},{emoji:"\u26a1",title:"Time Efficiency",desc:"Review their visual intake in 2 minutes. Spend 58 minutes on hands-on therapy. Give clients 8 extra minutes of care every session.",stat:"8 min",statLabel:"extra care per session"}].map(e=>(0,zi.jsxs)("div",{style:{background:s,padding:"32px",borderRadius:"12px",border:"1px solid #E5E7EB"},children:[(0,zi.jsx)("div",{style:{fontSize:"56px",marginBottom:"16px",textAlign:"center"},children:e.emoji}),(0,zi.jsx)("h3",{style:{fontSize:"22px",fontWeight:"700",color:o,marginBottom:"12px",textAlign:"center"},children:e.title}),(0,zi.jsx)("p",{style:{fontSize:"15px",color:i,lineHeight:"1.6",marginBottom:"20px",textAlign:"center"},children:e.desc}),(0,zi.jsxs)("div",{style:{background:r,borderRadius:"8px",padding:"16px",textAlign:"center"},children:[(0,zi.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:n,marginBottom:"4px"},children:e.stat}),(0,zi.jsx)("div",{style:{fontSize:"13px",color:i},children:e.statLabel})]})]},e.title))})]})}),(0,zi.jsx)("section",{style:{background:s,padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",textAlign:"center",color:o,marginBottom:"60px"},children:"The Time Efficiency Breakdown"}),(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"60px",marginBottom:"60px"},children:[(0,zi.jsxs)("div",{style:{background:"#FEF2F2",padding:"40px",borderRadius:"16px",border:"2px solid #FCA5A5"},children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:l,marginBottom:"16px"},children:"\u274c TRADITIONAL INTAKE"}),(0,zi.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",color:o,marginBottom:"24px"},children:"60-Minute Session Breakdown"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",fontSize:"15px"},children:[(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid #FECACA"},children:[(0,zi.jsx)("span",{style:{color:i},children:"Verbal intake conversation"}),(0,zi.jsx)("span",{style:{fontWeight:"700",color:l},children:"10 min"})]}),(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid #FECACA"},children:[(0,zi.jsx)("span",{style:{color:i},children:"Hands-on therapy"}),(0,zi.jsx)("span",{style:{fontWeight:"700",color:o},children:"50 min"})]}),(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"700",color:l},children:[(0,zi.jsx)("span",{children:"Client gets:"}),(0,zi.jsx)("span",{children:"50 min of care"})]})]}),(0,zi.jsxs)("div",{style:{marginTop:"32px",padding:"20px",background:"#FEE2E2",borderRadius:"12px"},children:[(0,zi.jsx)("div",{style:{fontSize:"13px",color:l,marginBottom:"8px"},children:"DAILY IMPACT (4 clients)"}),(0,zi.jsxs)("div",{style:{fontSize:"14px",color:"#991B1B",marginBottom:"8px"},children:["4 sessions \xd7 10 min = ",(0,zi.jsx)("strong",{children:"40 min/day in intake"})]}),(0,zi.jsx)("div",{style:{fontSize:"13px",color:"#991B1B"},children:"40 min \xd7 $1/min = $40/day | $800/month (20 days)"})]})]}),(0,zi.jsxs)("div",{style:{background:"#ECFDF5",padding:"40px",borderRadius:"16px",border:"2px solid #6EE7B7"},children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:a,marginBottom:"16px"},children:"\u2705 WITH BODYMAP"}),(0,zi.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",color:o,marginBottom:"24px"},children:"60-Minute Session Breakdown"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",fontSize:"15px"},children:[(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid #A7F3D0"},children:[(0,zi.jsx)("span",{style:{color:i},children:"Review visual intake"}),(0,zi.jsx)("span",{style:{fontWeight:"700",color:a},children:"2 min"})]}),(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid #A7F3D0"},children:[(0,zi.jsx)("span",{style:{color:i},children:"Hands-on therapy"}),(0,zi.jsx)("span",{style:{fontWeight:"700",color:o},children:"58 min"})]}),(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"700",color:a},children:[(0,zi.jsx)("span",{children:"Client gets:"}),(0,zi.jsx)("span",{children:"58 min of care"})]})]}),(0,zi.jsxs)("div",{style:{marginTop:"32px",padding:"20px",background:"#D1FAE5",borderRadius:"12px"},children:[(0,zi.jsx)("div",{style:{fontSize:"13px",color:a,marginBottom:"8px"},children:"DAILY IMPACT (4 clients)"}),(0,zi.jsxs)("div",{style:{fontSize:"14px",color:"#047857",marginBottom:"8px"},children:["4 sessions \xd7 8 min saved = ",(0,zi.jsx)("strong",{children:"32 min/day efficiency"})]}),(0,zi.jsx)("div",{style:{fontSize:"13px",color:"#047857"},children:"32 min \xd7 $1/min = $32/day | $640/month (20 days)"})]})]})]}),(0,zi.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(t," 0%, #1a3d2e 100%)"),padding:"48px",borderRadius:"16px",textAlign:"center",color:"white"},children:[(0,zi.jsx)("div",{style:{fontSize:"16px",opacity:.9,marginBottom:"24px"},children:"THE COMPLETE EQUATION"}),(0,zi.jsxs)("div",{style:{fontSize:"20px",marginBottom:"32px",lineHeight:"1.8",opacity:.95},children:[(0,zi.jsx)("strong",{children:"4 clients"})," \xd7 ",(0,zi.jsx)("strong",{children:"8 min saved"})," = ",(0,zi.jsx)("strong",{children:"32 min/day"}),(0,zi.jsx)("br",{}),(0,zi.jsx)("strong",{children:"32 min"})," \xd7 ",(0,zi.jsx)("strong",{children:"$1/min"})," \xd7 ",(0,zi.jsx)("strong",{children:"20 days"})," = ",(0,zi.jsx)("strong",{children:"$640/month"})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"48px",justifyContent:"center",paddingTop:"32px",borderTop:"1px solid rgba(255,255,255,0.2)"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"8px"},children:"Monthly Time Efficiency"}),(0,zi.jsx)("div",{style:{fontSize:"36px",fontWeight:"700"},children:"640 min"}),(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.8,marginTop:"4px"},children:"\u2248 10.5 hours/month"})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"8px"},children:"Time Value"}),(0,zi.jsx)("div",{style:{fontSize:"36px",fontWeight:"700"},children:"$640"}),(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.8,marginTop:"4px"},children:"at $1/minute"})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"8px"},children:"BodyMap Cost"}),(0,zi.jsx)("div",{style:{fontSize:"36px",fontWeight:"700"},children:"$24"}),(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.8,marginTop:"4px"},children:"Silver plan"})]})]})]}),(0,zi.jsx)("div",{style:{marginTop:"40px",background:r,padding:"24px",borderRadius:"12px",border:"1px solid ".concat(n),textAlign:"center"},children:(0,zi.jsxs)("p",{style:{fontSize:"16px",color:o,margin:0,lineHeight:"1.6"},children:[(0,zi.jsx)("strong",{children:"But remember:"})," The real value isn't just time or money. It's the elevated client experience, the 2x retention rate, and the professional edge that sets you apart. The efficiency? That's the bonus."]})})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",textAlign:"center",color:o,marginBottom:"16px"},children:"What You Actually Get"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:i,textAlign:"center",marginBottom:"60px"},children:"Beyond the numbers, here's how BodyMap changes your practice."}),(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"32px"},children:[{emoji:"\ud83d\udc42",title:"Clients Feel Truly Heard",desc:"Visual body maps beat verbal descriptions every time. Preferences are remembered. No repeating themselves. They arrive knowing you understand their needs."},{emoji:"\ud83d\udcc8",title:"Predictable Revenue",desc:"2x repeat booking rate means you can actually forecast revenue. Loyal clients, consistent schedule, less time spent on acquisition."},{emoji:"\ud83e\udde0",title:"Pattern Intelligence",desc:'AI detects patterns you might miss. "This client always needs hamstring work." Personalize treatment plans with data, not guesswork.'},{emoji:"\ud83d\ude0c",title:"Zero Awkward Moments",desc:'No more rushed table conversations. No "wait, where does it hurt again?" No forgotten preferences. Just smooth, professional sessions.'},{emoji:"\u2b50",title:"Better Reviews",desc:'"She knew exactly what I needed." "So organized and professional." "Best massage I\'ve ever had." The reviews write themselves.'},{emoji:"\ud83d\udcbc",title:"Professional Edge",desc:"Stand out from the therapist down the street. Clients see you as modern, organized, data-driven. You're not just good - you're different."}].map(e=>(0,zi.jsxs)("div",{style:{background:s,padding:"32px",borderRadius:"12px",border:"1px solid #E5E7EB"},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:e.emoji}),(0,zi.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:o,marginBottom:"12px"},children:e.title}),(0,zi.jsx)("p",{style:{fontSize:"15px",color:i,lineHeight:"1.6",margin:0},children:e.desc})]},e.title))})]})}),(0,zi.jsx)("section",{style:{background:r,padding:"80px 24px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"42px",fontWeight:"700",textAlign:"center",color:o,marginBottom:"60px"},children:"Impact Across Practice Sizes"}),(0,zi.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[{icon:"\ud83d\udc64",title:"Solo Therapist (You)",cost:"$24/month Silver",math:"4 clients/day \xd7 8 min \xd7 20 days = 640 min/month",value:"$640 time value for $24 = 27x return",impact:"See one extra client per week with saved time. Or finish early and have life balance. Your choice."},{icon:"\ud83c\udfe2",title:"Small Practice (3 therapists)",cost:"$49/month Gold",math:"3 therapists \xd7 640 min = 1,920 min/month",value:"$1,920 time value for $49 = 39x return",impact:"Standardized intake across team. Consistent quality. Shared client insights. Professional brand."},{icon:"\ud83c\udfed",title:"Massage Chain (10+ locations)",cost:"Custom pricing",math:"50 therapists \xd7 640 min = 32,000 min/month",value:"$32,000 time value across organization",impact:"Brand consistency at scale. Data-driven operations. Training tool for new therapists. Competitive advantage."}].map(e=>(0,zi.jsx)("div",{style:{background:"white",padding:"32px",borderRadius:"12px",border:"1px solid #E5E7EB"},children:(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"24px"},children:[(0,zi.jsx)("div",{style:{fontSize:"56px"},children:e.icon}),(0,zi.jsxs)("div",{style:{flex:1},children:[(0,zi.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",color:o,marginBottom:"8px"},children:e.title}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:n,fontWeight:"600",marginBottom:"16px"},children:e.cost}),(0,zi.jsxs)("div",{style:{background:s,padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:[(0,zi.jsx)("div",{style:{fontSize:"13px",color:i,marginBottom:"8px",fontWeight:"600"},children:"THE MATH:"}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:o,marginBottom:"8px"},children:e.math}),(0,zi.jsx)("div",{style:{fontSize:"14px",color:a,fontWeight:"600"},children:e.value})]}),(0,zi.jsxs)("p",{style:{fontSize:"15px",color:i,lineHeight:"1.6",margin:0},children:[(0,zi.jsx)("strong",{children:"Real Impact:"})," ",e.impact]})]})]})},e.title))})]})}),(0,zi.jsx)("section",{style:{background:"white",padding:"80px 24px",textAlign:"center"},children:(0,zi.jsxs)("div",{style:{maxWidth:"700px",margin:"0 auto"},children:[(0,zi.jsx)("h2",{style:{fontSize:"48px",fontWeight:"700",color:o,marginBottom:"16px"},children:"The Decision Is Simple"}),(0,zi.jsxs)("p",{style:{fontSize:"18px",color:i,marginBottom:"40px",lineHeight:"1.6"},children:["Keep doing verbal intake and hoping clients remember to mention everything.",(0,zi.jsx)("br",{}),"Or give them a visual way to show you exactly what they need."]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginBottom:"24px"},children:[(0,zi.jsx)(Ae,{to:"/#demo",style:{background:e,color:"white",padding:"16px 40px",borderRadius:"8px",textDecoration:"none",fontSize:"18px",fontWeight:"600"},children:"See How It Works"}),(0,zi.jsx)(Ae,{to:"/signup",style:{background:"white",color:n,padding:"16px 40px",borderRadius:"8px",textDecoration:"none",fontSize:"18px",fontWeight:"600",border:"2px solid ".concat(n)},children:"Start Free Trial"})]}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:"#9CA3AF"},children:"No credit card. No commitment. See the difference yourself."})]})}),(0,zi.jsx)("footer",{style:{background:o,color:"white",padding:"60px 24px 40px"},children:(0,zi.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"40px",marginBottom:"40px"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px",textDecoration:"none",color:"white"},children:[(0,zi.jsx)("span",{style:{fontSize:"24px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"20px",fontWeight:"700"},children:"BodyMap"})]}),(0,zi.jsx)("p",{style:{fontSize:"14px",opacity:.8,lineHeight:"1.6"},children:"Professional intake for massage therapists. Elevate experience, boost retention."})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"PRODUCT"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,zi.jsx)("a",{href:"/#features",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Features"}),(0,zi.jsx)(Ae,{to:"/pricing",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Pricing"}),(0,zi.jsx)(Ae,{to:"/why-bodymap",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Why BodyMap"})]})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"COMPANY"}),(0,zi.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:(0,zi.jsx)(Ae,{to:"/contact",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Contact"})})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",marginBottom:"16px",opacity:.6},children:"LEGAL"}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,zi.jsx)(Ae,{to:"/privacy",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Privacy Policy"}),(0,zi.jsx)(Ae,{to:"/terms",style:{color:"white",textDecoration:"none",opacity:.8,fontSize:"14px"},children:"Terms of Service"})]})]})]}),(0,zi.jsx)("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"32px",textAlign:"center"},children:(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.6},children:"\xa9 2026 BodyMap LLC. Made with \ud83c\udf3f for massage therapists."})})]})})]})}function Li(){const e="#6B9E80",t="#2A5741",n="#6B7280",r="#1F2937",i="#F9FAFB";return(0,zi.jsxs)("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[(0,zi.jsx)("nav",{style:{background:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 0",position:"sticky",top:0,zIndex:1e3},children:(0,zi.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none"},children:[(0,zi.jsx)("span",{style:{fontSize:"28px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"24px",fontWeight:"700",color:t},children:"BodyMap"})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"32px",alignItems:"center"},children:[(0,zi.jsx)(Ae,{to:"/",style:{color:n,textDecoration:"none",fontWeight:"500"},children:"Home"}),(0,zi.jsx)(Ae,{to:"/pricing",style:{color:n,textDecoration:"none",fontWeight:"500"},children:"Pricing"}),(0,zi.jsx)(Ae,{to:"/signup",style:{background:e,color:"white",padding:"10px 20px",borderRadius:"8px",textDecoration:"none",fontWeight:"600"},children:"Start Free Trial"})]})]})}),(0,zi.jsx)("section",{style:{padding:"80px 24px",background:i,minHeight:"70vh"},children:(0,zi.jsxs)("div",{style:{maxWidth:"700px",margin:"0 auto"},children:[(0,zi.jsx)("h1",{style:{fontSize:"48px",fontWeight:"700",color:r,marginBottom:"16px",textAlign:"center"},children:"Get in Touch"}),(0,zi.jsx)("p",{style:{fontSize:"18px",color:n,textAlign:"center",marginBottom:"48px"},children:"Questions? Feedback? Enterprise pricing? We'd love to hear from you."}),(0,zi.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"48px",border:"1px solid #E5E7EB"},children:[(0,zi.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,zi.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:r,marginBottom:"16px"},children:"Email Us"}),(0,zi.jsx)("a",{href:"mailto:hello@mybodymap.app",style:{fontSize:"18px",color:e,textDecoration:"none",fontWeight:"600"},children:"hello@mybodymap.app"})]}),(0,zi.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,zi.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:r,marginBottom:"16px"},children:"Response Time"}),(0,zi.jsx)("p",{style:{fontSize:"16px",color:n,lineHeight:"1.6"},children:"We typically respond within 24 hours during business days (Monday-Friday, 9am-5pm CST)."})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:r,marginBottom:"16px"},children:"Enterprise & Schools"}),(0,zi.jsx)("p",{style:{fontSize:"16px",color:n,lineHeight:"1.6",marginBottom:"16px"},children:"Looking for volume discounts for massage chains or schools? Email us with:"}),(0,zi.jsxs)("ul",{style:{fontSize:"15px",color:n,lineHeight:"1.8",paddingLeft:"24px"},children:[(0,zi.jsx)("li",{children:"Number of therapists/students"}),(0,zi.jsx)("li",{children:"Number of locations (if applicable)"}),(0,zi.jsx)("li",{children:"Any specific feature needs"})]})]})]}),(0,zi.jsx)("div",{style:{marginTop:"40px",textAlign:"center"},children:(0,zi.jsx)(Ae,{to:"/",style:{color:e,textDecoration:"none",fontWeight:"600"},children:"\u2190 Back to Home"})})]})}),(0,zi.jsx)("footer",{style:{background:r,color:"white",padding:"40px 24px"},children:(0,zi.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",textAlign:"center"},children:(0,zi.jsx)("div",{style:{fontSize:"14px",opacity:.6},children:"\xa9 2026 BodyMap LLC. Made with \ud83c\udf3f for massage therapists."})})})]})}function Wi(){const e="#6B9E80",t="#2A5741",n="#6B7280",r="#1F2937";return(0,zi.jsxs)("div",{style:{fontFamily:"-apple-system, sans-serif"},children:[(0,zi.jsx)("nav",{style:{background:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 0"},children:(0,zi.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none"},children:[(0,zi.jsx)("span",{style:{fontSize:"28px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"24px",fontWeight:"700",color:t},children:"BodyMap"})]})})}),(0,zi.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"80px 24px"},children:[(0,zi.jsx)("h1",{style:{fontSize:"48px",fontWeight:"700",marginBottom:"32px"},children:"Privacy Policy"}),(0,zi.jsx)("p",{style:{color:n,marginBottom:"32px"},children:"Last updated: February 20, 2026"}),(0,zi.jsxs)("div",{style:{lineHeight:"1.8",color:r},children:[(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"1. Information We Collect"}),(0,zi.jsx)("p",{style:{marginBottom:"16px"},children:"We collect information you provide directly to us, including:"}),(0,zi.jsxs)("ul",{style:{marginBottom:"24px",paddingLeft:"24px"},children:[(0,zi.jsx)("li",{children:"Account information (name, email, business name)"}),(0,zi.jsx)("li",{children:"Client intake preferences (body map selections, session preferences)"}),(0,zi.jsx)("li",{children:"Session history and notes"}),(0,zi.jsx)("li",{children:"Payment information (processed securely through Stripe)"})]}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"2. How We Use Your Information"}),(0,zi.jsx)("p",{style:{marginBottom:"16px"},children:"We use the information we collect to:"}),(0,zi.jsxs)("ul",{style:{marginBottom:"24px",paddingLeft:"24px"},children:[(0,zi.jsx)("li",{children:"Provide, maintain, and improve our services"}),(0,zi.jsx)("li",{children:"Process transactions and send related information"}),(0,zi.jsx)("li",{children:"Send technical notices and support messages"}),(0,zi.jsx)("li",{children:"Respond to your comments and questions"})]}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"3. Data Security"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:"We use industry-standard encryption to protect your data both in transit (SSL) and at rest. Only you and your authorized clients can access your practice data."}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"4. Data Sharing"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:"We do not sell, trade, or rent your personal information to third parties. We may share data only with service providers who help us operate our business (hosting, payment processing) under strict confidentiality agreements."}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"5. Your Rights"}),(0,zi.jsx)("p",{style:{marginBottom:"16px"},children:"You have the right to:"}),(0,zi.jsxs)("ul",{style:{marginBottom:"24px",paddingLeft:"24px"},children:[(0,zi.jsx)("li",{children:"Access your personal data"}),(0,zi.jsx)("li",{children:"Correct inaccurate data"}),(0,zi.jsx)("li",{children:"Request deletion of your data"}),(0,zi.jsx)("li",{children:"Export your data"}),(0,zi.jsx)("li",{children:"Opt out of marketing communications"})]}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"6. HIPAA Compliance"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:"BodyMap is a communication tool for intake preferences, not medical software. It does not store protected health information (PHI) and does not require HIPAA compliance. Your existing practice management software should be used for any HIPAA-regulated data."}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"7. Contact Us"}),(0,zi.jsxs)("p",{style:{marginBottom:"24px"},children:["If you have questions about this Privacy Policy, please contact us at: ",(0,zi.jsx)("a",{href:"mailto:privacy@mybodymap.app",style:{color:e},children:"privacy@mybodymap.app"})]})]}),(0,zi.jsx)("div",{style:{marginTop:"48px",textAlign:"center"},children:(0,zi.jsx)(Ae,{to:"/",style:{color:e,textDecoration:"none",fontWeight:"600"},children:"\u2190 Back to Home"})})]})]})}function Ui(){const e="#6B9E80",t="#2A5741",n="#6B7280",r="#1F2937";return(0,zi.jsxs)("div",{style:{fontFamily:"-apple-system, sans-serif"},children:[(0,zi.jsx)("nav",{style:{background:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 0"},children:(0,zi.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",textDecoration:"none"},children:[(0,zi.jsx)("span",{style:{fontSize:"28px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"24px",fontWeight:"700",color:t},children:"BodyMap"})]})})}),(0,zi.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"80px 24px"},children:[(0,zi.jsx)("h1",{style:{fontSize:"48px",fontWeight:"700",marginBottom:"32px"},children:"Terms of Service"}),(0,zi.jsx)("p",{style:{color:n,marginBottom:"32px"},children:"Last updated: February 20, 2026"}),(0,zi.jsxs)("div",{style:{lineHeight:"1.8",color:r},children:[(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"1. Acceptance of Terms"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:"By accessing and using BodyMap, you accept and agree to be bound by these Terms of Service. If you do not agree, do not use our services."}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"2. Description of Service"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:"BodyMap provides client intake management software for massage therapists. Our service allows therapists to collect visual body maps and preferences from clients before sessions."}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"3. User Accounts"}),(0,zi.jsx)("p",{style:{marginBottom:"16px"},children:"You are responsible for:"}),(0,zi.jsxs)("ul",{style:{marginBottom:"24px",paddingLeft:"24px"},children:[(0,zi.jsx)("li",{children:"Maintaining the confidentiality of your account"}),(0,zi.jsx)("li",{children:"All activities that occur under your account"}),(0,zi.jsx)("li",{children:"Notifying us immediately of any unauthorized use"})]}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"4. Acceptable Use"}),(0,zi.jsx)("p",{style:{marginBottom:"16px"},children:"You agree not to:"}),(0,zi.jsxs)("ul",{style:{marginBottom:"24px",paddingLeft:"24px"},children:[(0,zi.jsx)("li",{children:"Use the service for any illegal purpose"}),(0,zi.jsx)("li",{children:"Violate any laws in your jurisdiction"}),(0,zi.jsx)("li",{children:"Infringe on intellectual property rights"}),(0,zi.jsx)("li",{children:"Transmit malicious code or viruses"}),(0,zi.jsx)("li",{children:"Attempt to gain unauthorized access to our systems"})]}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"5. Payment Terms"}),(0,zi.jsx)("p",{style:{marginBottom:"16px"},children:"Subscription fees:"}),(0,zi.jsxs)("ul",{style:{marginBottom:"24px",paddingLeft:"24px"},children:[(0,zi.jsx)("li",{children:"Billed monthly or annually based on your selection"}),(0,zi.jsx)("li",{children:"Charged automatically until you cancel"}),(0,zi.jsx)("li",{children:"Non-refundable except as required by law"}),(0,zi.jsx)("li",{children:"Subject to change with 30 days notice"})]}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"6. Cancellation"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:"You may cancel your subscription at any time. Cancellation takes effect at the end of your current billing period. You can export your data before canceling."}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"7. Disclaimer of Warranties"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:'BodyMap is provided "as is" without warranties of any kind. We do not guarantee uninterrupted or error-free service. BodyMap is a communication tool, not medical software, and should not be used for medical diagnosis or treatment.'}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"8. Limitation of Liability"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:"BodyMap LLC shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of the service. Our total liability shall not exceed the amount you paid us in the past 12 months."}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"9. Changes to Terms"}),(0,zi.jsx)("p",{style:{marginBottom:"24px"},children:"We reserve the right to modify these terms at any time. We will notify you of significant changes via email. Continued use after changes constitutes acceptance."}),(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",marginTop:"32px",marginBottom:"16px"},children:"10. Contact"}),(0,zi.jsxs)("p",{style:{marginBottom:"24px"},children:["Questions about these Terms? Contact us at: ",(0,zi.jsx)("a",{href:"mailto:legal@mybodymap.app",style:{color:e},children:"legal@mybodymap.app"})]})]}),(0,zi.jsx)("div",{style:{marginTop:"48px",textAlign:"center"},children:(0,zi.jsx)(Ae,{to:"/",style:{color:e,textDecoration:"none",fontWeight:"600"},children:"\u2190 Back to Home"})})]})]})}const Mi="#6B9E80",Hi="#2A5741",qi="#6B7280",Vi="#1F2937",Gi="#F9FAFB",Ki="#DC2626";function $i(){const[e,t]=(0,i.useState)({email:"",password:"",confirmPassword:"",fullName:"",businessName:"",phone:"",customUrl:""}),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(!1),{signUp:a}=Ai(),l=oe(),c=e=>{const{name:n,value:r}=e.target;if(t(e=>Mt(Mt({},e),{},{[n]:r})),"businessName"===n){const e=r.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"").substring(0,30);t(t=>Mt(Mt({},t),{},{customUrl:e}))}};return(0,zi.jsx)("div",{style:{minHeight:"100vh",background:Gi,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",fontFamily:"system-ui, sans-serif"},children:(0,zi.jsxs)("div",{style:{maxWidth:"500px",width:"100%"},children:[(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center",marginBottom:"32px",textDecoration:"none"},children:[(0,zi.jsx)("span",{style:{fontSize:"40px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"32px",fontWeight:"700",color:Hi},children:"BodyMap"})]}),(0,zi.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"40px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,zi.jsx)("h1",{style:{fontSize:"24px",fontWeight:"700",color:Vi,marginBottom:"8px",textAlign:"center"},children:"Create Your Account"}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:qi,marginBottom:"32px",textAlign:"center"},children:"Start your 14-day free trial"}),n&&(0,zi.jsx)("div",{style:{background:"#FEF2F2",border:"1px solid #FCA5A5",borderRadius:"8px",padding:"12px",marginBottom:"24px",color:Ki,fontSize:"14px"},children:n}),(0,zi.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r(""),e.password!==e.confirmPassword)return void r("Passwords do not match");if(e.password.length<8)return void r("Password must be at least 8 characters");if(!e.customUrl||e.customUrl.length<3)return void r("Custom URL must be at least 3 characters");s(!0);const n=await a(e.email,e.password,{fullName:e.fullName,businessName:e.businessName,phone:e.phone,customUrl:e.customUrl});n.success?l("/dashboard"):r(n.error),s(!1)},children:[(0,zi.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Your Full Name"}),(0,zi.jsx)("input",{type:"text",name:"fullName",required:!0,value:e.fullName,onChange:c,placeholder:"Jane Smith",style:{width:"100%",padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Business Name"}),(0,zi.jsx)("input",{type:"text",name:"businessName",required:!0,value:e.businessName,onChange:c,placeholder:"Healing Hands Massage",style:{width:"100%",padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Your Custom URL"}),(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,zi.jsx)("span",{style:{color:qi,fontSize:"14px"},children:"mybodymap.app/"}),(0,zi.jsx)("input",{type:"text",name:"customUrl",required:!0,value:e.customUrl,onChange:c,placeholder:"healinghands",style:{flex:1,padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsx)("p",{style:{fontSize:"12px",color:qi,marginTop:"4px"},children:"Clients will use this link to fill out their body map"})]}),(0,zi.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Phone Number"}),(0,zi.jsx)("input",{type:"tel",name:"phone",required:!0,value:e.phone,onChange:c,placeholder:"(555) 123-4567",style:{width:"100%",padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Email"}),(0,zi.jsx)("input",{type:"email",name:"email",required:!0,value:e.email,onChange:c,placeholder:"you@example.com",style:{width:"100%",padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Password"}),(0,zi.jsx)("input",{type:"password",name:"password",required:!0,value:e.password,onChange:c,placeholder:"Minimum 8 characters",style:{width:"100%",padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Confirm Password"}),(0,zi.jsx)("input",{type:"password",name:"confirmPassword",required:!0,value:e.confirmPassword,onChange:c,placeholder:"Re-enter your password",style:{width:"100%",padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsx)("button",{type:"submit",disabled:o,style:{width:"100%",background:o?"#9CA3AF":Mi,color:"white",padding:"14px",borderRadius:"8px",border:"none",fontSize:"16px",fontWeight:"600",cursor:o?"not-allowed":"pointer",marginBottom:"16px"},children:o?"Creating account...":"Create Account"}),(0,zi.jsxs)("div",{style:{textAlign:"center",fontSize:"14px",color:qi},children:["Already have an account?"," ",(0,zi.jsx)(Ae,{to:"/login",style:{color:Mi,fontWeight:"600",textDecoration:"none"},children:"Sign in"})]})]}),(0,zi.jsxs)("p",{style:{fontSize:"12px",color:qi,textAlign:"center",marginTop:"24px"},children:["By signing up, you agree to our"," ",(0,zi.jsx)(Ae,{to:"/terms",style:{color:Mi},children:"Terms"})," ","and"," ",(0,zi.jsx)(Ae,{to:"/privacy",style:{color:Mi},children:"Privacy Policy"})]})]}),(0,zi.jsx)("div",{style:{textAlign:"center",marginTop:"24px"},children:(0,zi.jsx)(Ae,{to:"/",style:{color:qi,fontSize:"14px",textDecoration:"none"},children:"\u2190 Back to home"})})]})})}const Ji="#6B9E80",Yi="#2A5741",Qi="#6B7280",Xi="#1F2937",Zi="#F9FAFB",eo="#DC2626";function to(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(!1),{signIn:c}=Ai();oe();return(0,zi.jsx)("div",{style:{minHeight:"100vh",background:Zi,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",fontFamily:"system-ui, sans-serif"},children:(0,zi.jsxs)("div",{style:{maxWidth:"400px",width:"100%"},children:[(0,zi.jsxs)(Ae,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center",marginBottom:"32px",textDecoration:"none"},children:[(0,zi.jsx)("span",{style:{fontSize:"40px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("span",{style:{fontSize:"32px",fontWeight:"700",color:Yi},children:"BodyMap"})]}),(0,zi.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"40px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,zi.jsx)("h1",{style:{fontSize:"24px",fontWeight:"700",color:Xi,marginBottom:"8px",textAlign:"center"},children:"Welcome Back"}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:Qi,marginBottom:"32px",textAlign:"center"},children:"Sign in to your therapist dashboard"}),o&&(0,zi.jsx)("div",{style:{background:"#FEF2F2",border:"1px solid #FCA5A5",borderRadius:"8px",padding:"12px",marginBottom:"24px",color:eo,fontSize:"14px"},children:o}),(0,zi.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(""),l(!0);const r=await c(e,n);r.success?window.location.href="/dashboard":s(r.error),l(!1)},children:[(0,zi.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Email"}),(0,zi.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>t(e.target.value),placeholder:"you@example.com",style:{width:"100%",padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,zi.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Password"}),(0,zi.jsx)("input",{type:"password",required:!0,value:n,onChange:e=>r(e.target.value),placeholder:"Enter your password",style:{width:"100%",padding:"12px",fontSize:"15px",border:"1px solid #D1D5DB",borderRadius:"8px",boxSizing:"border-box"}})]}),(0,zi.jsx)("button",{type:"submit",disabled:a,style:{width:"100%",background:a?"#9CA3AF":Ji,color:"white",padding:"14px",borderRadius:"8px",border:"none",fontSize:"16px",fontWeight:"600",cursor:a?"not-allowed":"pointer",marginBottom:"16px"},children:a?"Signing in...":"Sign In"}),(0,zi.jsxs)("div",{style:{textAlign:"center",fontSize:"14px",color:Qi},children:["Don't have an account?"," ",(0,zi.jsx)(Ae,{to:"/signup",style:{color:Ji,fontWeight:"600",textDecoration:"none"},children:"Sign up"})]})]})]}),(0,zi.jsx)("div",{style:{textAlign:"center",marginTop:"24px"},children:(0,zi.jsx)(Ae,{to:"/",style:{color:Qi,fontSize:"14px",textDecoration:"none"},children:"\u2190 Back to home"})})]})})}const no="#6B9E80",ro="#2A5741",io="#F5F0E8",oo="#1A1A2E",so="#6B7280",ao="#E8E4DC",lo="#FFFFFF",co="#C9A84C";function uo(e){let{therapistId:t,onSelectClient:n}=e;const[r,o]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[l,c]=(0,i.useState)("");(0,i.useEffect)(()=>{t&&async function(){a(!0);try{const e=await Bi.getTherapistClients(t);o(e||[])}catch(e){console.error(e)}finally{a(!1)}}()},[t]);const d=r.filter(e=>{var t,n,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.phone)||void 0===n?void 0:n.includes(l))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(l.toLowerCase()))}),u=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"?",h=e=>{const t=["#6B9E80","#2A5741","#C9A84C","#7C8DB5","#B57C8D"];return t[((null===e||void 0===e?void 0:e.charCodeAt(0))||0)%t.length]};return s?(0,zi.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"60px",color:so},children:(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("div",{style:{fontSize:"32px",marginBottom:"12px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("p",{style:{fontFamily:"Georgia, serif",fontSize:"16px",color:so},children:"Loading clients..."})]})}):(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"28px"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h2",{style:{fontFamily:"Georgia, serif",fontSize:"28px",fontWeight:"700",color:oo,margin:"0 0 4px 0",letterSpacing:"-0.5px"},children:"Your Clients"}),(0,zi.jsxs)("p",{style:{fontSize:"14px",color:so,margin:0},children:[r.length," client",1!==r.length?"s":""," total"]})]}),(0,zi.jsx)("input",{value:l,onChange:e=>c(e.target.value),placeholder:"Search clients...",style:{padding:"10px 16px",border:"1.5px solid ".concat(ao),borderRadius:"8px",fontSize:"14px",width:"220px",outline:"none",fontFamily:"system-ui",background:io}})]}),0===d.length?(0,zi.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px",color:so},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udc64"}),(0,zi.jsx)("p",{style:{fontFamily:"Georgia, serif",fontSize:"18px",color:oo,marginBottom:"8px"},children:"No clients yet"}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:so},children:"Share your intake link to get started"})]}):(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:d.map(e=>(0,zi.jsx)(ho,{client:e,onSelect:n,initials:u,avatarColor:h},e.id))})]})}function ho(e){let{client:t,onSelect:n,initials:r,avatarColor:o}=e;const[s,a]=(0,i.useState)(!1);return(0,zi.jsxs)("div",{onClick:()=>n(t),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{background:lo,borderRadius:"14px",padding:"20px",border:"1.5px solid ".concat(s?no:ao),cursor:"pointer",transition:"all 0.2s ease",boxShadow:s?"0 8px 24px rgba(42,87,65,0.12)":"0 1px 4px rgba(0,0,0,0.06)",transform:s?"translateY(-2px)":"none"},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:"14px"},children:[(0,zi.jsx)("div",{style:{width:"44px",height:"44px",borderRadius:"50%",background:o(t.name),color:lo,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"700",fontFamily:"Georgia, serif",flexShrink:0},children:r(t.name)}),(0,zi.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,zi.jsx)("p",{style:{fontSize:"16px",fontWeight:"700",color:oo,margin:"0 0 2px 0",fontFamily:"Georgia, serif",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name}),(0,zi.jsx)("p",{style:{fontSize:"13px",color:so,margin:0},children:t.phone||"\u2014"})]}),(0,zi.jsx)("span",{style:{color:s?no:ao,fontSize:"20px",transition:"color 0.2s"},children:"\u203a"})]}),(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid ".concat(ao)},children:[(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("p",{style:{fontSize:"18px",fontWeight:"700",color:ro,margin:"0 0 2px 0"},children:t.total_sessions||0}),(0,zi.jsx)("p",{style:{fontSize:"11px",color:so,margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Sessions"})]}),(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("p",{style:{fontSize:"18px",fontWeight:"700",color:co,margin:"0 0 2px 0"},children:t.loyalty_points||0}),(0,zi.jsx)("p",{style:{fontSize:"11px",color:so,margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Points"})]}),(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("p",{style:{fontSize:"13px",fontWeight:"600",color:oo,margin:"0 0 2px 0"},children:new Date(t.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"})}),(0,zi.jsx)("p",{style:{fontSize:"11px",color:so,margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Member"})]})]})]})}const po={sage:"#6B9E80",forest:"#2A5741",beige:"#F5F0E8",darkGray:"#1A1A2E",gray:"#6B7280",lightGray:"#E8E4DC",white:"#FFFFFF",gold:"#C9A84C"};function fo(e){let{client:t,therapistId:n,onBack:r,onSelectSession:o}=e;const[s,a]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&async function(){c(!0);try{const{data:e,error:n}=await Ri.from("sessions").select("*").eq("client_id",t.id).order("created_at",{ascending:!1});n||a(e||[])}catch(e){console.error(e)}finally{c(!1)}}()},[null===t||void 0===t?void 0:t.id]),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"28px"},children:[(0,zi.jsx)("button",{onClick:r,style:{background:"transparent",border:"1.5px solid ".concat(po.lightGray),color:po.gray,padding:"8px 16px",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontFamily:"system-ui"},children:"\u2190 All Clients"}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h2",{style:{fontFamily:"Georgia, serif",fontSize:"28px",fontWeight:"700",color:po.darkGray,margin:"0 0 2px 0",letterSpacing:"-0.5px"},children:t.name}),(0,zi.jsxs)("p",{style:{fontSize:"14px",color:po.gray,margin:0},children:[s.length," session",1!==s.length?"s":""," on record"]})]})]}),(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"24px"},children:[{label:"Total Sessions",value:s.length,color:po.forest},{label:"Completed",value:s.filter(e=>e.completed).length,color:po.sage},{label:"Pending",value:s.filter(e=>!e.completed).length,color:po.gold}].map((e,t)=>(0,zi.jsxs)("div",{style:{background:po.white,borderRadius:"12px",padding:"16px",border:"1px solid ".concat(po.lightGray),textAlign:"center"},children:[(0,zi.jsx)("p",{style:{fontSize:"24px",fontWeight:"700",color:e.color,margin:"0 0 4px 0"},children:e.value}),(0,zi.jsx)("p",{style:{fontSize:"12px",color:po.gray,margin:0,textTransform:"uppercase",letterSpacing:"0.5px"},children:e.label})]},t))}),l?(0,zi.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:po.gray},children:[(0,zi.jsx)("div",{style:{fontSize:"32px",marginBottom:"12px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("p",{style:{fontFamily:"Georgia, serif"},children:"Loading sessions..."})]}):0===s.length?(0,zi.jsxs)("div",{style:{textAlign:"center",padding:"60px",color:po.gray},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udccb"}),(0,zi.jsx)("p",{style:{fontFamily:"Georgia, serif",fontSize:"18px",color:po.darkGray},children:"No sessions yet"}),(0,zi.jsx)("p",{style:{fontSize:"14px"},children:"Sessions appear here after the client submits their intake form"})]}):(0,zi.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:s.map(e=>(0,zi.jsx)(go,{session:e,onSelect:o},e.id))})]})}function go(e){var t,n,r,o;let{session:s,onSelect:a}=e;const[l,c]=(0,i.useState)(!1),d=((null===(t=s.front_focus)||void 0===t?void 0:t.length)||0)+((null===(n=s.back_focus)||void 0===n?void 0:n.length)||0),u=((null===(r=s.front_avoid)||void 0===r?void 0:r.length)||0)+((null===(o=s.back_avoid)||void 0===o?void 0:o.length)||0);return(0,zi.jsxs)("div",{onClick:()=>a(s),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{background:po.white,borderRadius:"12px",padding:"16px 20px",border:"1.5px solid ".concat(l?"#6B9E80":po.lightGray),cursor:"pointer",transition:"all 0.15s ease",boxShadow:l?"0 4px 16px rgba(42,87,65,0.1)":"0 1px 3px rgba(0,0,0,0.04)",display:"flex",alignItems:"center",gap:"16px"},children:[(0,zi.jsxs)("div",{style:{flex:1},children:[(0,zi.jsx)("p",{style:{fontSize:"15px",fontWeight:"600",color:"#1A1A2E",margin:"0 0 4px 0",fontFamily:"Georgia, serif"},children:new Date(s.created_at).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[s.goal&&(0,zi.jsxs)("span",{style:{fontSize:"13px",color:"#6B7280"},children:["Goal: ",(0,zi.jsx)("strong",{children:s.goal})]}),s.pressure&&(0,zi.jsxs)("span",{style:{fontSize:"13px",color:"#6B7280"},children:["Pressure: ",(0,zi.jsxs)("strong",{children:[s.pressure,"/5"]})]}),d>0&&(0,zi.jsxs)("span",{style:{fontSize:"13px",color:"#6B9E80"},children:["\ud83d\udfe2 ",d," focus"]}),u>0&&(0,zi.jsxs)("span",{style:{fontSize:"13px",color:"#EF4444"},children:["\ud83d\udd34 ",u," avoid"]})]})]}),(0,zi.jsx)("span",{style:{background:s.completed?"#D1FAE5":"#FEF3C7",color:s.completed?"#065F46":"#92400E",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",whiteSpace:"nowrap"},children:s.completed?"\u2713 Done":"\u23f3 Pending"}),(0,zi.jsx)("span",{style:{color:l?"#6B9E80":"#E8E4DC",fontSize:"20px",transition:"color 0.15s"},children:"\u203a"})]})}const mo="#6B9E80",yo="#2A5741",xo="#F5F0E8",vo="#1A1A2E",bo="#6B7280",wo="#E8E4DC",So="#FFFFFF",jo={"f-head":"Head","f-neck":"Neck","f-l-shoulder":"L Shoulder","f-r-shoulder":"R Shoulder","f-chest":"Chest","f-abdomen":"Abdomen","f-l-arm":"L Arm","f-r-arm":"R Arm","f-l-thigh":"L Thigh","f-r-thigh":"R Thigh","f-l-knee":"L Knee","f-r-knee":"R Knee","f-l-foot":"L Foot","f-r-foot":"R Foot","f-hip":"Hips","b-head":"Back of Head","b-neck":"Back of Neck","b-upper-bk":"Upper Back","b-mid-bk":"Mid Back","b-lower-bk":"Lower Back","b-l-shoulder":"L Shoulder Blade","b-r-shoulder":"R Shoulder Blade","b-glutes":"Glutes","b-l-hamstr":"L Hamstring","b-r-hamstr":"R Hamstring","b-l-calf":"L Calf","b-r-calf":"R Calf"},ko={"f-head":[85,28],"f-neck":[85,52],"f-l-shoulder":[58,72],"f-r-shoulder":[112,72],"f-chest":[85,95],"f-abdomen":[85,125],"f-l-arm":[45,110],"f-r-arm":[125,110],"f-l-thigh":[68,185],"f-r-thigh":[102,185],"f-l-knee":[68,225],"f-r-knee":[102,225],"f-l-foot":[68,290],"f-r-foot":[102,290],"f-hip":[85,155],"b-head":[85,28],"b-neck":[85,52],"b-upper-bk":[85,85],"b-mid-bk":[85,110],"b-lower-bk":[85,135],"b-l-shoulder":[58,72],"b-r-shoulder":[112,72],"b-glutes":[85,160],"b-l-hamstr":[68,195],"b-r-hamstr":[102,195],"b-l-calf":[68,245],"b-r-calf":[102,245]};function _o(e){let{focusAreas:t=[],avoidAreas:n=[]}=e;return(0,zi.jsxs)("svg",{width:"150",height:"290",viewBox:"0 0 170 310",style:{filter:"drop-shadow(0 2px 6px rgba(0,0,0,0.08))"},children:[(0,zi.jsx)("ellipse",{cx:"85",cy:"28",rx:"20",ry:"24",fill:"#EDE8DF",stroke:"#C8BFB0",strokeWidth:"1.5"}),(0,zi.jsx)("rect",{x:"77",y:"50",width:"16",height:"14",rx:"3",fill:"#EDE8DF",stroke:"#C8BFB0",strokeWidth:"1.5"}),(0,zi.jsx)("path",{d:"M57 64 Q47 70 44 90 L40 155 Q40 162 48 162 L122 162 Q130 162 130 155 L126 90 Q123 70 113 64 Z",fill:"#EDE8DF",stroke:"#C8BFB0",strokeWidth:"1.5"}),(0,zi.jsx)("path",{d:"M57 66 Q42 74 38 115 Q36 128 40 138 Q46 141 50 138 Q54 112 60 85 Z",fill:"#EDE8DF",stroke:"#C8BFB0",strokeWidth:"1.5"}),(0,zi.jsx)("path",{d:"M113 66 Q128 74 132 115 Q134 128 130 138 Q124 141 120 138 Q116 112 110 85 Z",fill:"#EDE8DF",stroke:"#C8BFB0",strokeWidth:"1.5"}),(0,zi.jsx)("path",{d:"M60 162 Q56 195 54 232 Q52 260 56 278 Q62 284 70 282 Q76 278 76 260 L78 162 Z",fill:"#EDE8DF",stroke:"#C8BFB0",strokeWidth:"1.5"}),(0,zi.jsx)("path",{d:"M110 162 Q114 195 116 232 Q118 260 114 278 Q108 284 100 282 Q94 278 94 260 L92 162 Z",fill:"#EDE8DF",stroke:"#C8BFB0",strokeWidth:"1.5"}),t.map((e,t)=>{const n=ko[e];return n?(0,zi.jsxs)("g",{children:[(0,zi.jsx)("circle",{cx:n[0],cy:n[1],r:"12",fill:"rgba(107,158,128,0.25)",stroke:"#6B9E80",strokeWidth:"2"}),(0,zi.jsx)("circle",{cx:n[0],cy:n[1],r:"5",fill:"#6B9E80"})]},"f"+t):null}),n.map((e,t)=>{const n=ko[e];return n?(0,zi.jsxs)("g",{children:[(0,zi.jsx)("circle",{cx:n[0],cy:n[1],r:"12",fill:"rgba(239,68,68,0.2)",stroke:"#EF4444",strokeWidth:"2"}),(0,zi.jsx)("circle",{cx:n[0],cy:n[1],r:"5",fill:"#EF4444"})]},"a"+t):null})]})}function Eo(e){let{session:t,client:n,onBack:r,onUpdate:o}=e;const[s,a]=(0,i.useState)(t.therapist_notes||""),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[f,g]=(0,i.useState)([]);(0,i.useEffect)(()=>{!async function(){try{const{data:e}=await Ri.from("sessions").select("*").eq("client_id",n.id).order("created_at",{ascending:!1}).limit(10);g(e||[])}catch(e){console.error(e)}}()},[null===n||void 0===n?void 0:n.id]);const m=i.useMemo(()=>{if(f.length<2)return[];const e=[],t=f.filter(e=>e.pressure).map(e=>e.pressure);if(t.length>=2){const n=Math.round(t.reduce((e,t)=>e+t,0)/t.length);e.push({icon:"\ud83d\udc86",text:"Consistently prefers pressure level ".concat(n,"/5")})}const n=f.filter(e=>e.goal).map(e=>e.goal),r=n.sort((e,t)=>n.filter(t=>t===e).length-n.filter(e=>e===t).length).pop();r&&e.push({icon:"\ud83c\udfaf",text:"Most common goal: ".concat(r)});const i=f.flatMap(e=>[...e.front_avoid||[],...e.back_avoid||[]]),o={};i.forEach(e=>o[e]=(o[e]||0)+1);Object.entries(o).sort((e,t)=>t[1]-e[1]).slice(0,2).forEach(t=>{let[n,r]=t;r>=2&&e.push({icon:"\u26a0\ufe0f",text:"Always avoids: ".concat(jo[n]||n," (").concat(r,"x)")})});const s=f.flatMap(e=>[...e.front_focus||[],...e.back_focus||[]]),a={};s.forEach(e=>a[e]=(a[e]||0)+1);Object.entries(a).sort((e,t)=>t[1]-e[1]).slice(0,2).forEach(t=>{let[n,r]=t;r>=2&&e.push({icon:"\u2728",text:"Always focuses: ".concat(jo[n]||n," (").concat(r,"x)")})});const l=f.filter(e=>e.lighting).map(e=>e.lighting);return l.length>=2&&1===new Set(l).size&&e.push({icon:"\ud83d\udca1",text:"Always prefers ".concat(l[0]," lighting")}),e.slice(0,5)},[f]);const y=[{label:"Pressure",value:t.pressure?"Level ".concat(t.pressure,"/5"):null,icon:"\ud83d\udc86"},{label:"Goal",value:t.goal,icon:"\ud83c\udfaf"},{label:"Table Temp",value:t.table_temp,icon:"\ud83c\udf21\ufe0f"},{label:"Room Temp",value:t.room_temp,icon:"\ud83c\udfe0"},{label:"Music",value:t.music,icon:"\ud83c\udfb5"},{label:"Lighting",value:t.lighting,icon:"\ud83d\udca1"},{label:"Conversation",value:t.conversation,icon:"\ud83d\udcac"},{label:"Draping",value:t.draping,icon:"\ud83d\udecf\ufe0f"},{label:"Oil Preference",value:"none"!==t.oil_pref?t.oil_pref:null,icon:"\ud83c\udf3f"},{label:"Medical Flag",value:"none"!==t.med_flag?t.med_flag:null,icon:"\u2695\ufe0f"}].filter(e=>e.value);return(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"28px"},children:[(0,zi.jsx)("button",{onClick:r,style:{background:"transparent",border:"1.5px solid ".concat(wo),color:bo,padding:"8px 16px",borderRadius:"8px",fontSize:"14px",cursor:"pointer"},children:"\u2190 Sessions"}),(0,zi.jsxs)("div",{style:{flex:1},children:[(0,zi.jsx)("h2",{style:{fontFamily:"Georgia, serif",fontSize:"26px",fontWeight:"700",color:vo,margin:"0 0 2px 0",letterSpacing:"-0.5px"},children:n.name}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:bo,margin:0},children:new Date(t.created_at).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,zi.jsx)("button",{onClick:()=>window.print(),style:{background:xo,border:"1.5px solid ".concat(wo),color:bo,padding:"8px 16px",borderRadius:"8px",fontSize:"14px",cursor:"pointer"},children:"\ud83d\udda8\ufe0f Print Brief"}),(0,zi.jsx)("span",{style:{background:t.completed?"#D1FAE5":"#FEF3C7",color:t.completed?"#065F46":"#92400E",padding:"6px 16px",borderRadius:"20px",fontSize:"13px",fontWeight:"600"},children:t.completed?"\u2713 Completed":"\u23f3 Pending Review"})]})]}),(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,zi.jsxs)("div",{style:{background:So,borderRadius:"14px",padding:"24px",border:"1px solid ".concat(wo),boxShadow:"0 1px 4px rgba(0,0,0,0.05)"},children:[(0,zi.jsx)("h3",{style:{fontFamily:"Georgia, serif",fontSize:"17px",fontWeight:"700",color:vo,marginBottom:"16px",letterSpacing:"-0.3px"},children:"Client Preferences"}),0===y.length?(0,zi.jsx)("p",{style:{color:bo,fontSize:"14px"},children:"No preferences recorded"}):(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:y.map((e,t)=>(0,zi.jsxs)("div",{style:{padding:"10px 12px",background:xo,borderRadius:"8px",border:"1px solid ".concat(wo)},children:[(0,zi.jsxs)("p",{style:{fontSize:"11px",color:bo,margin:"0 0 3px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:[e.icon," ",e.label]}),(0,zi.jsx)("p",{style:{fontSize:"14px",fontWeight:"600",color:vo,margin:0,textTransform:"capitalize"},children:e.value})]},t))})]}),m.length>0&&(0,zi.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(yo,"08, ").concat(mo,"12)"),borderRadius:"14px",padding:"24px",border:"1px solid ".concat(mo,"30")},children:[(0,zi.jsx)("h3",{style:{fontFamily:"Georgia, serif",fontSize:"17px",fontWeight:"700",color:yo,marginBottom:"16px",letterSpacing:"-0.3px"},children:"\ud83d\udd0d Client Patterns"}),(0,zi.jsxs)("p",{style:{fontSize:"12px",color:bo,margin:"0 0 12px 0"},children:["Based on ",f.length," sessions"]}),(0,zi.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:m.map((e,t)=>(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",background:So,borderRadius:"8px",border:"1px solid ".concat(mo,"25")},children:[(0,zi.jsx)("span",{style:{fontSize:"16px"},children:e.icon}),(0,zi.jsx)("span",{style:{fontSize:"13px",color:vo,fontWeight:"500"},children:e.text})]},t))})]}),(0,zi.jsxs)("div",{style:{background:So,borderRadius:"14px",padding:"24px",border:"1px solid ".concat(wo),boxShadow:"0 1px 4px rgba(0,0,0,0.05)"},children:[(0,zi.jsx)("h3",{style:{fontFamily:"Georgia, serif",fontSize:"17px",fontWeight:"700",color:vo,marginBottom:"16px",letterSpacing:"-0.3px"},children:"Your Notes"}),(0,zi.jsx)("textarea",{value:s,onChange:e=>a(e.target.value),placeholder:"Add session notes...",style:{width:"100%",minHeight:"100px",padding:"12px",border:"1.5px solid ".concat(wo),borderRadius:"8px",fontSize:"14px",fontFamily:"Georgia, serif",resize:"vertical",boxSizing:"border-box",background:xo,lineHeight:"1.6"}}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"12px"},children:[(0,zi.jsx)("button",{onClick:async function(){c(!0);try{const{data:e}=await Ri.from("sessions").update({therapist_notes:s}).eq("id",t.id).select().single();u(!0),setTimeout(()=>u(!1),2e3),o&&e&&o(e)}catch(e){console.error(e)}finally{c(!1)}},disabled:l,style:{flex:1,background:mo,color:So,border:"none",padding:"11px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",fontFamily:"system-ui"},children:l?"Saving...":d?"\u2713 Saved!":"Save Notes"}),!t.completed&&(0,zi.jsx)("button",{onClick:async function(){p(!0);try{const{data:e}=await Ri.from("sessions").update({completed:!0,therapist_notes:s,completed_at:(new Date).toISOString()}).eq("id",t.id).select().single();o&&e&&o(e),r()}catch(e){console.error(e)}finally{p(!1)}},disabled:h,style:{flex:1,background:yo,color:So,border:"none",padding:"11px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",fontFamily:"system-ui"},children:h?"...":"\u2713 Mark Complete"})]})]})]}),(0,zi.jsxs)("div",{style:{background:So,borderRadius:"14px",padding:"24px",border:"1px solid ".concat(wo),boxShadow:"0 1px 4px rgba(0,0,0,0.05)"},children:[(0,zi.jsx)("h3",{style:{fontFamily:"Georgia, serif",fontSize:"17px",fontWeight:"700",color:vo,marginBottom:"8px",letterSpacing:"-0.3px"},children:"Body Map"}),(0,zi.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[(0,zi.jsx)("span",{style:{fontSize:"12px",background:"rgba(107,158,128,0.15)",color:yo,padding:"4px 12px",borderRadius:"20px",fontWeight:"500"},children:"\ud83d\udfe2 Focus"}),(0,zi.jsx)("span",{style:{fontSize:"12px",background:"rgba(239,68,68,0.1)",color:"#991B1B",padding:"4px 12px",borderRadius:"20px",fontWeight:"500"},children:"\ud83d\udd34 Avoid"})]}),(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:"20px"},children:[(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:bo,marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"},children:"Front"}),(0,zi.jsx)(_o,{focusAreas:t.front_focus||[],avoidAreas:t.front_avoid||[]})]}),(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("p",{style:{fontSize:"11px",fontWeight:"600",color:bo,marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"},children:"Back"}),(0,zi.jsx)(_o,{focusAreas:t.back_focus||[],avoidAreas:t.back_avoid||[]})]})]}),[...t.front_focus||[],...t.front_avoid||[],...t.back_focus||[],...t.back_avoid||[]].length>0&&(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontSize:"12px",color:bo,marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Areas"}),(0,zi.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:[[...t.front_focus||[],...t.back_focus||[]].map((e,t)=>(0,zi.jsxs)("span",{style:{background:"rgba(107,158,128,0.15)",color:yo,padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:"500"},children:["\ud83d\udfe2 ",jo[e]||e]},"f"+t)),[...t.front_avoid||[],...t.back_avoid||[]].map((e,t)=>(0,zi.jsxs)("span",{style:{background:"rgba(239,68,68,0.1)",color:"#991B1B",padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:"500"},children:["\ud83d\udd34 ",jo[e]||e]},"a"+t))]})]})]})]}),(0,zi.jsx)("style",{children:"\n        @media print {\n          body * { visibility: hidden; }\n          .print-area, .print-area * { visibility: visible; }\n          button { display: none !important; }\n        }\n      "})]})}const To="#6B9E80",Co="#2A5741",Ro="#F0EAD9",Bo="#F9FAFB",zo="#1F2937",Po="#6B7280",Ao="#E5E7EB",Oo="#FFFFFF";function Io(e){let{view:t}=e;const{therapist:n,signOut:r}=Ai(),o=oe(),{clientId:s,sessionId:a}=se(),[l,c]=(0,i.useState)({clients:0,sessions:0}),[d,u]=(0,i.useState)(null),[h,p]=(0,i.useState)(null);(0,i.useEffect)(()=>{null!==n&&void 0!==n&&n.id&&async function(){try{const e=await Bi.getTherapistClients(n.id),{data:t}=await Ri.from("sessions").select("id").eq("therapist_id",n.id);c({clients:(null===e||void 0===e?void 0:e.length)||0,sessions:(null===t||void 0===t?void 0:t.length)||0})}catch(e){console.error(e)}}()},[null===n||void 0===n?void 0:n.id]),(0,i.useEffect)(()=>{s&&async function(){try{const{data:e,error:t}=await Ri.from("clients").select("*").eq("id",s).single();t||u(e)}catch(e){console.error(e)}}()},[s]),(0,i.useEffect)(()=>{a&&async function(){try{const{data:e,error:t}=await Ri.from("sessions").select("*").eq("id",a).single();t||p(e)}catch(e){console.error(e)}}()},[a]);return(0,zi.jsxs)("div",{style:{minHeight:"100vh",background:Ro,fontFamily:"system-ui, sans-serif"},children:[(0,zi.jsxs)("header",{style:{background:Oo,borderBottom:"1px solid ".concat(Ao),padding:"16px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,zi.jsxs)("div",{onClick:()=>o("/"),style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[(0,zi.jsx)("span",{style:{fontSize:"32px"},children:"\ud83c\udf3f"}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h1",{style:{fontSize:"20px",fontWeight:"700",color:Co,margin:0},children:"BodyMap"}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:Po,margin:0},children:(null===n||void 0===n?void 0:n.business_name)||"Dashboard"})]})]}),(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,zi.jsxs)("div",{style:{textAlign:"right"},children:[(0,zi.jsx)("p",{style:{fontSize:"14px",fontWeight:"600",color:zo,margin:0},children:null===n||void 0===n?void 0:n.full_name}),(0,zi.jsx)("p",{style:{fontSize:"12px",color:Po,margin:0},children:"free"===(null===n||void 0===n?void 0:n.plan)?"Free Plan":"silver"===(null===n||void 0===n?void 0:n.plan)?"Silver Plan":"Gold Plan"})]}),(0,zi.jsx)("button",{onClick:async()=>{await r()},style:{background:Oo,border:"1px solid ".concat(Ao),color:Po,padding:"8px 16px",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Logout"})]})]}),(0,zi.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px 24px"},children:[(0,zi.jsxs)("div",{style:{background:Oo,borderRadius:"12px",padding:"8px",marginBottom:"24px",display:"flex",gap:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,zi.jsx)("button",{onClick:()=>o("/dashboard"),style:{flex:1,background:"clients"===t||"sessions"===t||"session-detail"===t?To:"transparent",color:"clients"===t||"sessions"===t||"session-detail"===t?Oo:Po,border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"},children:"\ud83d\udccb Clients"}),(0,zi.jsx)("button",{onClick:()=>o("/dashboard/settings"),style:{flex:1,background:"settings"===t?To:"transparent",color:"settings"===t?Oo:Po,border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"},children:"\u2699\ufe0f Settings"})]}),(0,zi.jsxs)("div",{style:{background:Oo,borderRadius:"12px",padding:"32px",minHeight:"400px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:["clients"===t&&(0,zi.jsx)(uo,{therapistId:null===n||void 0===n?void 0:n.id,onSelectClient:e=>o("/dashboard/clients/".concat(e.id))}),"sessions"===t&&d&&(0,zi.jsx)(fo,{client:d,therapistId:null===n||void 0===n?void 0:n.id,onBack:()=>o("/dashboard"),onSelectSession:e=>o("/dashboard/clients/".concat(s,"/sessions/").concat(e.id))}),"sessions"===t&&!d&&(0,zi.jsx)("div",{style:{textAlign:"center",padding:"40px",color:Po},children:"Loading client..."}),"session-detail"===t&&h&&d&&(0,zi.jsx)(Eo,{session:h,client:d,onBack:()=>o("/dashboard/clients/".concat(s)),onUpdate:e=>p(e)}),"session-detail"===t&&(!h||!d)&&(0,zi.jsx)("div",{style:{textAlign:"center",padding:"40px",color:Po},children:"Loading session..."}),"settings"===t&&(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:zo,marginBottom:"16px"},children:"Account Settings"}),(0,zi.jsx)("div",{style:{background:Bo,border:"1px solid ".concat(Ao),borderRadius:"8px",padding:"16px",marginBottom:"16px"},children:(0,zi.jsxs)("p",{style:{fontSize:"14px",color:Po,margin:0},children:[(0,zi.jsx)("strong",{children:"Custom URL:"})," mybodymap.app/",null===n||void 0===n?void 0:n.custom_url]})}),(0,zi.jsx)("div",{style:{background:Bo,border:"1px solid ".concat(Ao),borderRadius:"8px",padding:"16px"},children:(0,zi.jsxs)("p",{style:{fontSize:"14px",color:Po,margin:0},children:[(0,zi.jsx)("strong",{children:"Email:"})," ",null===n||void 0===n?void 0:n.email]})})]})]}),(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"24px"},children:[(0,zi.jsxs)("div",{style:{background:Oo,borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,zi.jsx)("p",{style:{fontSize:"14px",color:Po,margin:"0 0 8px 0"},children:"Total Clients"}),(0,zi.jsx)("p",{style:{fontSize:"32px",fontWeight:"700",color:Co,margin:0},children:l.clients})]}),(0,zi.jsxs)("div",{style:{background:Oo,borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,zi.jsx)("p",{style:{fontSize:"14px",color:Po,margin:"0 0 8px 0"},children:"Total Sessions"}),(0,zi.jsx)("p",{style:{fontSize:"32px",fontWeight:"700",color:To,margin:0},children:l.sessions})]}),(0,zi.jsxs)("div",{style:{background:Oo,borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,zi.jsx)("p",{style:{fontSize:"14px",color:Po,margin:"0 0 8px 0"},children:"Plan"}),(0,zi.jsx)("p",{style:{fontSize:"20px",fontWeight:"700",color:zo,margin:0},children:"free"===(null===n||void 0===n?void 0:n.plan)?"Free (5 clients max)":"silver"===(null===n||void 0===n?void 0:n.plan)?"Silver ($24/mo)":"Gold ($49/mo)"})]})]})]})]})}function Fo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const No=["style"],Do=["style"],Lo={bg:"#F0EAD9",cardBg:"#FDFAF3",green:"#2A5741",sage:"#6B9E80",sagePale:"#D0E8D8",sageMid:"#A8CDBA",focus:"#3D8C55",avoid:"#B84A42",skin:"#E8D0B0",skinDark:"#C9A87A",neutral:"#C4B49A",text:"#1C3024",textMid:"#4A6154",textLight:"#7A9485",border:"#DDD5C0",white:"#FFFFFF",shadow:"rgba(42,87,65,0.10)",aiGold:"#B87840",aiGoldPale:"#F5EDD8",aiGoldBorder:"#D4B070",gold:"#D4AC4A",goldPale:"#FDF6DC"},Wo="'Cormorant Garamond', Georgia, serif",Uo="'Nunito', 'Helvetica Neue', sans-serif",Mo=10,Ho=["","Feather","Light","Medium","Firm","Deep"],qo=["","\ud83e\udeb6","\ud83d\ude0c","\ud83d\udc4c","\ud83d\udcaa","\u26a1"],Vo={relax:"Relaxation",pain:"Pain Relief",athletic:"Athletic Recovery",stress:"Stress Relief",injury:"Injury Rehab"},Go={pressure:3,goal:"relax",tableTemp:"warm",roomTemp:"comfortable",music:"soft",lighting:"dim",conversation:"quiet",draping:"standard",oilPref:"none",medFlag:"none"};async function Ko(e){try{var t,n;const r=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:1e3,system:'You are a wellness session preference observer for BodyMap. Notice patterns in self-reported preferences only.\nRULES: Never diagnose. Never use: diagnosis, condition, injury, treatment, syndrome, disorder, symptom, prognosis, risk.\nFrame everything as preference patterns: "you tend to prefer", "your sessions show a pattern of".\nEnd every response with: "\u2728 These are observations from your personal session preferences only \u2014 not medical advice."',messages:[{role:"user",content:e}]})});return(null===(t=(await r.json()).content)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text)||null}catch(r){return null}}const $o=[{id:"f-head",label:"Head",type:"ellipse",cx:100,cy:44,rx:27,ry:31},{id:"f-neck",label:"Neck",type:"rect",x:90,y:73,w:20,h:17,rx:7},{id:"f-l-shldr",label:"L. Shoulder",type:"ellipse",cx:62,cy:100,rx:19,ry:14},{id:"f-r-shldr",label:"R. Shoulder",type:"ellipse",cx:138,cy:100,rx:19,ry:14},{id:"f-l-chest",label:"L. Chest",type:"rect",x:78,y:91,w:23,h:29,rx:5},{id:"f-r-chest",label:"R. Chest",type:"rect",x:99,y:91,w:23,h:29,rx:5},{id:"f-abdomen",label:"Abdomen",type:"rect",x:77,y:119,w:46,h:33,rx:6},{id:"f-l-arm-u",label:"L. Upper Arm",type:"rect",x:46,y:110,w:18,h:46,rx:9},{id:"f-r-arm-u",label:"R. Upper Arm",type:"rect",x:136,y:110,w:18,h:46,rx:9},{id:"f-l-forearm",label:"L. Forearm",type:"rect",x:40,y:154,w:16,h:42,rx:8},{id:"f-r-forearm",label:"R. Forearm",type:"rect",x:144,y:154,w:16,h:42,rx:8},{id:"f-l-hand",label:"L. Hand",type:"ellipse",cx:48,cy:204,rx:10,ry:12},{id:"f-r-hand",label:"R. Hand",type:"ellipse",cx:152,cy:204,rx:10,ry:12},{id:"f-l-hip",label:"L. Hip",type:"rect",x:76,y:151,w:24,h:24,rx:6},{id:"f-r-hip",label:"R. Hip",type:"rect",x:100,y:151,w:24,h:24,rx:6},{id:"f-l-thigh",label:"L. Thigh",type:"rect",x:76,y:173,w:23,h:62,rx:9},{id:"f-r-thigh",label:"R. Thigh",type:"rect",x:101,y:173,w:23,h:62,rx:9},{id:"f-l-knee",label:"L. Knee",type:"ellipse",cx:87,cy:242,rx:13,ry:12},{id:"f-r-knee",label:"R. Knee",type:"ellipse",cx:113,cy:242,rx:13,ry:12},{id:"f-l-calf",label:"L. Calf",type:"rect",x:76,y:251,w:21,h:54,rx:9},{id:"f-r-calf",label:"R. Calf",type:"rect",x:103,y:251,w:21,h:54,rx:9},{id:"f-l-foot",label:"L. Foot",type:"ellipse",cx:84,cy:312,rx:17,ry:9},{id:"f-r-foot",label:"R. Foot",type:"ellipse",cx:116,cy:312,rx:17,ry:9}],Jo=[{id:"b-head",label:"Head",type:"ellipse",cx:100,cy:44,rx:27,ry:31},{id:"b-neck",label:"Neck",type:"rect",x:90,y:73,w:20,h:17,rx:7},{id:"b-l-shldr",label:"L. Shoulder",type:"ellipse",cx:62,cy:100,rx:19,ry:14},{id:"b-r-shldr",label:"R. Shoulder",type:"ellipse",cx:138,cy:100,rx:19,ry:14},{id:"b-upper-bk",label:"Upper Back",type:"rect",x:77,y:90,w:46,h:29,rx:5},{id:"b-mid-bk",label:"Mid Back",type:"rect",x:77,y:118,w:46,h:28,rx:5},{id:"b-lower-bk",label:"Lower Back",type:"rect",x:77,y:145,w:46,h:26,rx:5},{id:"b-l-arm-u",label:"L. Upper Arm",type:"rect",x:46,y:110,w:18,h:46,rx:9},{id:"b-r-arm-u",label:"R. Upper Arm",type:"rect",x:136,y:110,w:18,h:46,rx:9},{id:"b-l-forearm",label:"L. Forearm",type:"rect",x:40,y:154,w:16,h:42,rx:8},{id:"b-r-forearm",label:"R. Forearm",type:"rect",x:144,y:154,w:16,h:42,rx:8},{id:"b-l-hand",label:"L. Hand",type:"ellipse",cx:48,cy:204,rx:10,ry:12},{id:"b-r-hand",label:"R. Hand",type:"ellipse",cx:152,cy:204,rx:10,ry:12},{id:"b-l-glute",label:"L. Glute",type:"ellipse",cx:89,cy:184,rx:17,ry:16},{id:"b-r-glute",label:"R. Glute",type:"ellipse",cx:111,cy:184,rx:17,ry:16},{id:"b-l-hamstr",label:"L. Hamstring",type:"rect",x:76,y:197,w:23,h:53,rx:9},{id:"b-r-hamstr",label:"R. Hamstring",type:"rect",x:101,y:197,w:23,h:53,rx:9},{id:"b-l-knee",label:"L. Knee",type:"ellipse",cx:87,cy:257,rx:13,ry:12},{id:"b-r-knee",label:"R. Knee",type:"ellipse",cx:113,cy:257,rx:13,ry:12},{id:"b-l-calf",label:"L. Calf",type:"rect",x:76,y:266,w:21,h:52,rx:9},{id:"b-r-calf",label:"R. Calf",type:"rect",x:103,y:266,w:21,h:52,rx:9},{id:"b-l-foot",label:"L. Foot",type:"ellipse",cx:84,cy:325,rx:17,ry:9},{id:"b-r-foot",label:"R. Foot",type:"ellipse",cx:116,cy:325,rx:17,ry:9}],Yo=[...$o,...Jo];function Qo(e){var t;if(!e.length)return null;const n={};e.forEach(e=>Object.entries(e.bodyMap||{}).forEach(e=>{let[t,r]=e;n[t]||(n[t]={focus:0,avoid:0}),n[t][r]=(n[t][r]||0)+1}));const r=Object.entries(n).filter(e=>{let[,t]=e;return t.focus>0}).sort((e,t)=>{let[,n]=e,[,r]=t;return r.focus-n.focus}).slice(0,5).map(t=>{var n;let[r,i]=t;return{label:(null===(n=Yo.find(e=>e.id===r))||void 0===n?void 0:n.label)||r,count:i.focus,pct:Math.round(i.focus/e.length*100)}}),i=Object.entries(n).filter(e=>{let[,t]=e;return t.avoid>0}).sort((e,t)=>{let[,n]=e,[,r]=t;return r.avoid-n.avoid}).slice(0,3).map(t=>{var n;let[r,i]=t;return{label:(null===(n=Yo.find(e=>e.id===r))||void 0===n?void 0:n.label)||r,count:i.avoid,pct:Math.round(i.avoid/e.length*100)}}),o=e.map(e=>{var t;return null===(t=e.prefs)||void 0===t?void 0:t.pressure}).filter(Boolean),s=o.length?Math.round(o.reduce((e,t)=>e+t,0)/o.length):3,a={};e.forEach(e=>{var t;null!==(t=e.prefs)&&void 0!==t&&t.goal&&(a[e.prefs.goal]=(a[e.prefs.goal]||0)+1)});return{topFocus:r,topAvoid:i,avgPressure:s,topGoal:null===(t=Object.entries(a).sort((e,t)=>{let[,n]=e,[,r]=t;return r-n})[0])||void 0===t?void 0:t[0],total:e.length}}function Xo(e){const t=e.filter(e=>!e.isFreeSession).length,n=t%Mo;return{paid:t,cycleProgress:n,nextFreeIn:Mo-n,hasEarned:0===n&&t>0}}const Zo=e=>{let{isFront:t}=e;const n=Lo.skin,r=Lo.skinDark,i=1.2;return(0,zi.jsxs)("g",{children:[(0,zi.jsx)("ellipse",{cx:"100",cy:"44",rx:"28",ry:"32",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"90",y:"73",width:"20",height:"18",rx:"7",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"67",y:"87",width:"66",height:"75",rx:"13",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"71",y:"148",width:"58",height:"38",rx:"9",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"45",y:"108",width:"20",height:"48",rx:"10",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"135",y:"108",width:"20",height:"48",rx:"10",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"39",y:"154",width:"18",height:"44",rx:"9",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"143",y:"154",width:"18",height:"44",rx:"9",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("ellipse",{cx:"48",cy:"205",rx:"11",ry:"13",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("ellipse",{cx:"152",cy:"205",rx:"11",ry:"13",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"75",y:"183",width:"25",height:"65",rx:"11",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"100",y:"183",width:"25",height:"65",rx:"11",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("ellipse",{cx:"87",cy:"253",rx:"14",ry:"13",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("ellipse",{cx:"113",cy:"253",rx:"14",ry:"13",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"75",y:"262",width:"23",height:"56",rx:"11",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("rect",{x:"102",y:"262",width:"23",height:"56",rx:"11",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("ellipse",{cx:"84",cy:"325",rx:"18",ry:"10",fill:n,stroke:r,strokeWidth:i}),(0,zi.jsx)("ellipse",{cx:"116",cy:"325",rx:"18",ry:"10",fill:n,stroke:r,strokeWidth:i}),t?(0,zi.jsxs)(zi.Fragment,{children:[(0,zi.jsx)("ellipse",{cx:"93",cy:"42",rx:"3",ry:"3.5",fill:r,opacity:"0.25"}),(0,zi.jsx)("ellipse",{cx:"107",cy:"42",rx:"3",ry:"3.5",fill:r,opacity:"0.25"}),(0,zi.jsx)("path",{d:"M 94 52 Q 100 56 106 52",stroke:r,strokeWidth:"1.5",fill:"none",opacity:"0.25",strokeLinecap:"round"})]}):(0,zi.jsx)("path",{d:"M100,88 L100,218",stroke:r,strokeWidth:"1",strokeDasharray:"3,5",opacity:"0.2"})]})},es=e=>{let{r:t,state:n,onToggle:r,readOnly:i}=e;const o={fill:"focus"===n?Lo.focus:"avoid"===n?Lo.avoid:Lo.neutral,opacity:n?.88:.4,onClick:i?void 0:()=>r(t.id),style:{cursor:i?"default":"pointer",transition:"all 0.18s"}};return"ellipse"===t.type?(0,zi.jsx)("ellipse",Mt(Mt({},o),{},{cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry})):(0,zi.jsx)("rect",Mt(Mt({},o),{},{x:t.x,y:t.y,width:t.w,height:t.h,rx:t.rx||0}))},ts=e=>{var t,n;let{regions:r,selections:o,onToggle:s,readOnly:a=!1,scale:l=1}=e;const[c,d]=(0,i.useState)(null),u=null===(t=r[0])||void 0===t||null===(n=t.id)||void 0===n?void 0:n.startsWith("f-");return(0,zi.jsxs)("div",{style:{position:"relative",userSelect:"none"},children:[(0,zi.jsxs)("svg",{viewBox:"0 0 200 340",style:{width:"100%",maxWidth:200*l,display:"block",margin:"0 auto"},children:[(0,zi.jsx)(Zo,{isFront:u}),r.map(e=>(0,zi.jsx)("g",{onMouseEnter:()=>!a&&d(e.label),onMouseLeave:()=>d(null),children:(0,zi.jsx)(es,{r:e,state:o[e.id],onToggle:s,readOnly:a})},e.id))]}),c&&(0,zi.jsx)("div",{style:{position:"absolute",top:6,left:"50%",transform:"translateX(-50%)",background:Lo.green,color:"#fff",padding:"4px 14px",borderRadius:20,fontSize:12,fontFamily:Uo,fontWeight:700,pointerEvents:"none",whiteSpace:"nowrap",zIndex:9},children:c})]})},ns=e=>{let{regions:t,selections:n,label:r}=e;return(0,zi.jsxs)("div",{style:{textAlign:"center",flex:1},children:[r&&(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:11,fontWeight:800,color:Lo.textLight,marginBottom:4,letterSpacing:1,textTransform:"uppercase"},children:r}),(0,zi.jsx)(ts,{regions:t,selections:n,onToggle:()=>{},readOnly:!0,scale:.54})]})},rs=e=>{let{children:t,style:n={},onClick:r}=e;return(0,zi.jsx)("div",{onClick:r,style:Mt({background:Lo.cardBg,borderRadius:20,padding:18,boxShadow:"0 4px 18px ".concat(Lo.shadow),marginBottom:12,cursor:r?"pointer":"default"},n),children:t})},is=e=>{let{children:t,onClick:n,ghost:r=!1,disabled:i=!1,style:o={}}=e;return(0,zi.jsx)("button",{onClick:i?void 0:n,style:Mt({background:r?"transparent":i?Lo.border:Lo.green,color:r?Lo.textMid:i?Lo.textLight:"#fff",border:r?"2px solid ".concat(Lo.border):"none",padding:"14px 22px",borderRadius:50,fontFamily:Uo,fontSize:14,fontWeight:800,cursor:i?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:r||i?"none":"0 4px 14px ".concat(Lo.shadow),flex:1},o),children:t})},os=e=>{let{style:t={}}=e,n=Fo(e,No);return(0,zi.jsx)("input",Mt(Mt({},n),{},{style:Mt({fontFamily:Uo,border:"2px solid ".concat(Lo.border),borderRadius:12,padding:"12px 14px",fontSize:15,width:"100%",color:Lo.text,background:Lo.white,outline:"none",boxSizing:"border-box"},t)}))},ss=e=>{let{style:t={}}=e,n=Fo(e,Do);return(0,zi.jsx)("textarea",Mt(Mt({},n),{},{style:Mt({fontFamily:Uo,border:"2px solid ".concat(Lo.border),borderRadius:12,padding:"12px 14px",fontSize:14,width:"100%",color:Lo.text,background:Lo.white,outline:"none",resize:"vertical",minHeight:80,boxSizing:"border-box",lineHeight:1.6},t)}))},as=e=>{let{icon:t,label:n,selected:r,onClick:i}=e;return(0,zi.jsxs)("button",{onClick:i,style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:5,padding:"11px 4px",borderRadius:14,border:"2px solid ".concat(r?Lo.green:Lo.border),background:r?Lo.sagePale:Lo.white,cursor:"pointer",transition:"all 0.2s"},children:[(0,zi.jsx)("span",{style:{fontSize:20},children:t}),(0,zi.jsx)("span",{style:{fontSize:10,fontWeight:800,color:r?Lo.green:Lo.textLight,fontFamily:Uo,textAlign:"center",lineHeight:1.2},children:n})]})},ls=e=>{let{icon:t,title:n}=e;return(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:7,marginBottom:9},children:[(0,zi.jsx)("span",{style:{fontSize:15},children:t}),(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green},children:n})]})},cs=e=>{let{value:t,onChange:n}=e;return(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[(0,zi.jsx)("span",{style:{fontFamily:Uo,fontSize:11,color:Lo.textLight},children:"\ud83e\udeb6 Feather"}),(0,zi.jsxs)("span",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green},children:[qo[t]," ",Ho[t]]}),(0,zi.jsx)("span",{style:{fontFamily:Uo,fontSize:11,color:Lo.textLight},children:"\u26a1 Deep"})]}),(0,zi.jsx)("input",{type:"range",min:1,max:5,value:t,onChange:e=>n(+e.target.value),style:{width:"100%",accentColor:Lo.green,cursor:"pointer"}}),(0,zi.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:5},children:[1,2,3,4,5].map(e=>(0,zi.jsx)("div",{style:{width:8,height:8,borderRadius:"50%",background:e<=t?Lo.green:Lo.border,transition:"background 0.2s"}},e))})]})},ds=e=>{let{step:t}=e;const n=["Front","Back","Preferences"];return(0,zi.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:22},children:n.map((e,r)=>(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4},children:[(0,zi.jsx)("div",{style:{width:30,height:30,borderRadius:"50%",fontFamily:Uo,background:r+1<t?Lo.sage:r+1===t?Lo.green:Lo.border,color:r+1<=t?"#fff":Lo.textLight,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:800,boxShadow:r+1===t?"0 0 0 4px ".concat(Lo.sagePale):"none"},children:r+1<t?"\u2713":r+1}),(0,zi.jsx)("span",{style:{fontSize:10,fontWeight:700,fontFamily:Uo,color:r+1<=t?Lo.green:Lo.textLight},children:e})]}),r<n.length-1&&(0,zi.jsx)("div",{style:{width:40,height:2,background:r+1<t?Lo.sage:Lo.border,marginBottom:14}})]},r))})},us=e=>{let{mode:t,setMode:n}=e;return(0,zi.jsx)("div",{style:{display:"flex",background:"#E2D9CB",borderRadius:50,padding:4,marginBottom:12},children:[{v:"focus",e:"\ud83d\udfe2",l:"Focus Here",a:Lo.focus},{v:"avoid",e:"\ud83d\udd34",l:"Avoid",a:Lo.avoid}].map(e=>{let{v:r,e:i,l:o,a:s}=e;return(0,zi.jsxs)("button",{onClick:()=>n(r),style:{flex:1,padding:"10px 8px",borderRadius:50,border:"none",fontFamily:Uo,fontSize:13,fontWeight:700,cursor:"pointer",background:t===r?s:"transparent",color:t===r?"#fff":Lo.textLight,transition:"all 0.2s"},children:[i," ",o]},r)})})},hs=e=>{let{regions:t,selections:n}=e;const r=t.filter(e=>n[e.id]);return r.length?(0,zi.jsxs)("div",{style:{marginTop:12,padding:"10px 12px",background:Lo.sagePale,borderRadius:12},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:Lo.green,marginBottom:6,textTransform:"uppercase"},children:"Selected:"}),(0,zi.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:5},children:r.map(e=>(0,zi.jsxs)("span",{style:{background:"focus"===n[e.id]?Lo.focus:Lo.avoid,color:"#fff",padding:"3px 9px",borderRadius:20,fontSize:11,fontWeight:700,fontFamily:Uo},children:["focus"===n[e.id]?"\ud83d\udfe2":"\ud83d\udd34"," ",e.label]},e.id))})]}):null},ps=()=>(0,zi.jsxs)("div",{style:{padding:"16px 0"},children:[[80,95,70,88].map((e,t)=>(0,zi.jsx)("div",{style:{height:12,background:"linear-gradient(90deg,".concat(Lo.aiGoldPale," 25%,#EDE0C8 50%,").concat(Lo.aiGoldPale," 75%)"),backgroundSize:"200% 100%",borderRadius:6,marginBottom:10,width:"".concat(e,"%"),animation:"shimmer 1.5s infinite"}},t)),(0,zi.jsx)("style",{children:"@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}"})]}),fs=e=>{let{children:t,style:n={}}=e;return(0,zi.jsx)("div",{style:Mt({background:"linear-gradient(135deg,".concat(Lo.aiGoldPale," 0%,#FDF6E8 100%)"),border:"1.5px solid ".concat(Lo.aiGoldBorder),borderRadius:20,padding:18,marginBottom:12,boxShadow:"0 4px 20px rgba(184,120,64,0.12)"},n),children:t})},gs=e=>{let{label:t="AI Insight"}=e;return(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:7,marginBottom:12},children:[(0,zi.jsx)("div",{style:{width:26,height:26,borderRadius:"50%",background:Lo.aiGold,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14},children:"\u2726"}),(0,zi.jsx)("span",{style:{fontFamily:Uo,fontSize:11,fontWeight:800,color:Lo.aiGold,textTransform:"uppercase",letterSpacing:1},children:t})]})},ms=e=>{let{sessions:t}=e;const{paid:n,cycleProgress:r,nextFreeIn:i,hasEarned:o}=Xo(t);return n?o?(0,zi.jsxs)("div",{style:{background:"linear-gradient(135deg,".concat(Lo.gold," 0%,#E8C84A 100%)"),borderRadius:20,padding:18,marginBottom:12,boxShadow:"0 4px 20px rgba(212,172,74,0.3)"},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[(0,zi.jsx)("div",{style:{fontSize:36},children:"\ud83c\udf81"}),(0,zi.jsxs)("div",{style:{flex:1},children:[(0,zi.jsx)("p",{style:{fontFamily:Wo,fontSize:22,fontWeight:600,color:Lo.text,marginBottom:4},children:"You've earned a free session!"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:Lo.textMid},children:"Show this to your therapist to redeem your complimentary session."})]})]}),(0,zi.jsx)("div",{style:{background:"rgba(255,255,255,0.5)",borderRadius:12,padding:"10px 14px",textAlign:"center"},children:(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,fontWeight:800,color:Lo.text},children:"\ud83c\udd93 1 FREE SESSION READY TO REDEEM"})})]}):(0,zi.jsxs)("div",{style:{background:Lo.goldPale,border:"1.5px solid ".concat(Lo.gold,"40"),borderRadius:20,padding:18,marginBottom:12},children:[(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,zi.jsx)("span",{style:{fontSize:18},children:"\ud83c\udf81"}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.text},children:"Loyalty Reward"}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:11,color:Lo.textLight},children:[i," session",1!==i?"s":""," until your free session"]})]})]}),(0,zi.jsxs)("p",{style:{fontFamily:Wo,fontSize:24,fontWeight:600,color:Lo.aiGold},children:[r,(0,zi.jsxs)("span",{style:{fontSize:14,color:Lo.textLight},children:["/",Mo]})]})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[Array.from({length:Mo}).map((e,t)=>(0,zi.jsx)("div",{style:{flex:1,height:10,borderRadius:5,background:t<r?"linear-gradient(90deg,".concat(Lo.aiGold,",").concat(Lo.gold,")"):Lo.border,transition:"background 0.3s"}},t)),(0,zi.jsx)("div",{style:{width:28,height:28,borderRadius:"50%",background:r===Mo?Lo.gold:Lo.border,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,flexShrink:0},children:"\ud83c\udf81"})]}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:11,color:Lo.textLight,marginTop:8,textAlign:"center"},children:["Every ",Mo," sessions = 1 complimentary session"]})]}):null},ys=e=>{let{sessions:t,clientName:n}=e;const{paid:r,cycleProgress:i,nextFreeIn:o,hasEarned:s}=Xo(t);return r?s?(0,zi.jsxs)("div",{style:{background:"linear-gradient(135deg,".concat(Lo.gold," 0%,#E8C84A 100%)"),borderRadius:16,padding:16,marginBottom:12,boxShadow:"0 4px 16px rgba(212,172,74,0.3)"},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:10},children:[(0,zi.jsx)("span",{style:{fontSize:28},children:"\ud83c\udf81"}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.text},children:"Free Session Earned!"}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid},children:[n," has completed ",r," paid sessions"]})]})]}),(0,zi.jsxs)("div",{style:{background:"rgba(255,255,255,0.6)",borderRadius:10,padding:"10px 14px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.text},children:"\ud83c\udd93 This session is complimentary"}),(0,zi.jsx)("button",{style:{background:Lo.green,color:"#fff",border:"none",padding:"6px 14px",borderRadius:50,fontFamily:Uo,fontSize:11,fontWeight:800,cursor:"pointer"},children:"Mark Redeemed"})]})]}):(0,zi.jsxs)("div",{style:{background:Lo.goldPale,border:"1.5px solid ".concat(Lo.gold,"40"),borderRadius:14,padding:13,marginBottom:12,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,zi.jsx)("span",{style:{fontSize:18},children:"\ud83c\udf81"}),(0,zi.jsxs)("div",{children:[(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,fontWeight:800,color:Lo.text},children:[i," of ",Mo," sessions"]}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:11,color:Lo.textLight},children:[o," more until ",n,"'s free session"]})]})]}),(0,zi.jsx)("div",{style:{display:"flex",gap:4},children:Array.from({length:Mo}).map((e,t)=>(0,zi.jsx)("div",{style:{width:10,height:10,borderRadius:"50%",background:t<i?Lo.aiGold:Lo.border}},t))})]}):null},xs=e=>{let{clientInfo:t,bodyMap:n,prefs:r,notes:o,sessions:s}=e;const[a,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),p=async()=>{d(!0);const e=Yo.filter(e=>"focus"===n[e.id]).map(e=>e.label),i=Yo.filter(e=>"avoid"===n[e.id]).map(e=>e.label),a=Qo(s),c="Professional massage therapist session brief. Client: ".concat(t.name,". Focus: ").concat(e.join(", ")||"none",". Avoid: ").concat(i.join(", ")||"none",". Pressure: ").concat(Ho[r.pressure],". Goal: ").concat(Vo[r.goal]||"Relaxation",". Conversation: ").concat(r.conversation,". ").concat(o?'Notes: "'.concat(o,'".'):"").concat("yes"===r.medFlag&&r.medNote?'Area of awareness: "'.concat(r.medNote,'".'):"").concat(a&&s.length>=2?"History: ".concat(s.length," sessions. Top focus: ").concat(a.topFocus.slice(0,3).map(e=>"".concat(e.label," ").concat(e.pct,"%")).join(", "),"."):""," Write warm professional 3-4 sentence brief. Never diagnose."),u=await Ko(c);l(u),d(!1),h(!0)};return(0,zi.jsxs)(fs,{children:[(0,zi.jsx)(gs,{label:"AI Session Brief"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid,marginBottom:14},children:"AI-generated overview from intake & session history"}),!u&&!c&&(0,zi.jsx)("button",{onClick:p,style:{background:Lo.aiGold,color:"#fff",border:"none",padding:"12px 20px",borderRadius:50,fontFamily:Uo,fontSize:13,fontWeight:800,cursor:"pointer",width:"100%"},children:"\u2726 Generate Session Brief"}),c&&(0,zi.jsx)(ps,{}),a&&(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:14,color:Lo.text,lineHeight:1.8,fontStyle:"italic"},children:a}),(0,zi.jsx)("button",{onClick:p,style:{background:"transparent",border:"1px solid ".concat(Lo.aiGoldBorder),color:Lo.aiGold,padding:"7px 14px",borderRadius:50,fontFamily:Uo,fontSize:12,fontWeight:700,cursor:"pointer",marginTop:10},children:"\u21ba Regenerate"})]})]})},vs=e=>{let{sessions:t,clientName:n}=e;const[r,o]=(0,i.useState)(null),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),d=(0,i.useCallback)(async()=>{if(t.length<2)return;a(!0);const e=Qo(t),r=t.slice(0,5).map(e=>{var t;return null===(t=e.prefs)||void 0===t?void 0:t.pressure}).filter(Boolean),i=r.length>1&&r[0]>r[r.length-1]?"lighter":r.length>1&&r[0]<r[r.length-1]?"deeper":"consistent",s="Wellness pattern observations for ".concat(n||"this person",". ").concat(t.length," sessions. Focus: ").concat(null===e||void 0===e?void 0:e.topFocus.slice(0,4).map(e=>"".concat(e.label," ").concat(e.count,"/").concat(t.length," sessions")).join(", "),". Avoid: ").concat((null===e||void 0===e?void 0:e.topAvoid.slice(0,3).map(e=>"".concat(e.label," ").concat(e.pct,"%")).join(", "))||"none",". Pressure: ").concat(Ho[(null===e||void 0===e?void 0:e.avgPressure)||3],", trending ").concat(i,". Write 2-3 warm curious observations as wellness companion. 4-5 sentences. End with disclaimer."),l=await Ko(s);o(l),a(!1),c(!0)},[t,n]);return t.length<2?(0,zi.jsxs)(fs,{children:[(0,zi.jsx)(gs,{label:"Wellness Intelligence"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:Lo.textMid},children:"Complete 2+ sessions to unlock your personal wellness pattern insights."})]}):(0,zi.jsxs)(fs,{children:[(0,zi.jsx)(gs,{label:"Wellness Intelligence"}),(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.aiGold,marginBottom:4,textTransform:"uppercase"},children:"Your Wellness Patterns"}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid,marginBottom:14},children:["AI observations from your ",t.length," sessions \u2014 not medical advice"]}),!l&&!s&&(0,zi.jsx)("button",{onClick:d,style:{background:Lo.aiGold,color:"#fff",border:"none",padding:"12px 20px",borderRadius:50,fontFamily:Uo,fontSize:13,fontWeight:800,cursor:"pointer",width:"100%"},children:"\u2726 Reveal My Wellness Patterns"}),s&&(0,zi.jsx)(ps,{}),r&&(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:14,color:Lo.text,lineHeight:1.9},children:r}),(0,zi.jsx)("button",{onClick:d,style:{background:"transparent",border:"1px solid ".concat(Lo.aiGoldBorder),color:Lo.aiGold,padding:"7px 14px",borderRadius:50,fontFamily:Uo,fontSize:11,fontWeight:700,cursor:"pointer",marginTop:10},children:"\u21ba Refresh"})]})]})},bs=e=>{var t;let{sessions:n,onPreFill:r}=e;if(!n.length)return null;const i=n[0],o=Object.values(i.bodyMap||{}).filter(e=>"focus"===e).length,s=Math.floor((Date.now()-new Date(i.date))/864e5);return(0,zi.jsxs)(fs,{style:{marginBottom:14},children:[(0,zi.jsx)(gs,{label:"Smart Session Start"}),(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[(0,zi.jsxs)("div",{style:{flex:1},children:[(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:13,fontWeight:700,color:Lo.text,marginBottom:4},children:["Welcome back",null!==(t=i.clientInfo)&&void 0!==t&&t.name?", ".concat(i.clientInfo.name):"","!"]}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid},children:["Last session"," ",0===s?"today":1===s?"yesterday":"".concat(s," days ago")," \xb7 ",o," ","focus area",1!==o?"s":""]})]}),(0,zi.jsx)(ns,{regions:$o,selections:i.bodyMap||{},label:""})]}),(0,zi.jsx)("button",{onClick:()=>r(i),style:{background:Lo.aiGold,color:"#fff",border:"none",padding:"11px 18px",borderRadius:50,fontFamily:Uo,fontSize:13,fontWeight:800,cursor:"pointer",width:"100%"},children:"\u2726 Start from Last Session's Preferences"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:11,color:Lo.textLight,textAlign:"center",marginTop:8},children:"Pre-fills your map and preferences \u2014 modify anything"})]})},ws=e=>{let{sessions:t,onApply:n}=e;if(t.length<3)return null;const r=Qo(t);if(!r||!r.topFocus.length)return null;const i=r.topFocus[0],o=i.pct>=80?Lo.focus:i.pct>=60?Lo.aiGold:Lo.sage,s=i.pct>=80?"Strong pattern":i.pct>=60?"Clear pattern":"Emerging pattern";return(0,zi.jsxs)(fs,{children:[(0,zi.jsx)(gs,{label:"Session Intelligence"}),(0,zi.jsxs)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.aiGold,marginBottom:12,textTransform:"uppercase"},children:["Based on your ",t.length," sessions"]}),(0,zi.jsxs)("div",{style:{background:"rgba(255,255,255,0.6)",borderRadius:14,padding:"12px 14px",marginBottom:10},children:[(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,fontWeight:800,color:Lo.textMid},children:"Most Chosen Focus Area"}),(0,zi.jsx)("span",{style:{background:o,color:"#fff",fontSize:10,fontWeight:800,padding:"2px 8px",borderRadius:20,fontFamily:Uo},children:s})]}),(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,zi.jsx)("p",{style:{fontFamily:Wo,fontSize:22,fontWeight:600,color:Lo.green,flex:1},children:i.label}),(0,zi.jsxs)("div",{style:{textAlign:"right"},children:[(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:20,fontWeight:800,color:o},children:[i.pct,"%"]}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,color:Lo.textLight},children:"of sessions"})]})]}),(0,zi.jsx)("div",{style:{height:6,background:Lo.border,borderRadius:3,marginTop:8},children:(0,zi.jsx)("div",{style:{height:"100%",width:"".concat(i.pct,"%"),background:"linear-gradient(90deg,".concat(Lo.focus,",").concat(Lo.sage,")"),borderRadius:3}})})]}),r.topFocus.length>1&&(0,zi.jsx)("div",{style:{marginBottom:12},children:(0,zi.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:r.topFocus.slice(0,5).map(e=>(0,zi.jsxs)("span",{style:{background:"".concat(Lo.focus,"18"),color:Lo.focus,border:"1px solid ".concat(Lo.focus,"30"),padding:"4px 10px",borderRadius:20,fontSize:11,fontWeight:700,fontFamily:Uo},children:["\ud83d\udfe2 ",e.label," \xb7 ",e.pct,"%"]},e.label))})}),(0,zi.jsx)("button",{onClick:n,style:{background:Lo.green,color:"#fff",border:"none",padding:"12px 20px",borderRadius:50,fontFamily:Uo,fontSize:13,fontWeight:800,cursor:"pointer",width:"100%"},children:"\u2726 Pre-fill from My Patterns"})]})},Ss=[{id:"pressure",icon:"\ud83d\udc86",label:"Pressure Match",q:"Did the pressure match what you asked for?",opts:[{v:1,e:"\ud83d\ude23",l:"Way off"},{v:2,e:"\ud83d\ude15",l:"A bit off"},{v:3,e:"\ud83d\ude0a",l:"Pretty good"},{v:4,e:"\ud83d\ude0c",l:"Just right"},{v:5,e:"\ud83e\udd29",l:"Perfect"}]},{id:"focus",icon:"\ud83c\udfaf",label:"Focus Accuracy",q:"Did your therapist work on the right areas?",opts:[{v:1,e:"\ud83d\ude1e",l:"Missed them"},{v:2,e:"\ud83d\ude10",l:"Partially"},{v:3,e:"\ud83d\ude42",l:"Mostly yes"},{v:4,e:"\ud83d\ude04",l:"Very accurate"},{v:5,e:"\u2b50",l:"Spot on"}]},{id:"comfort",icon:"\ud83d\udee1\ufe0f",label:"Comfort & Communication",q:"Did you feel comfortable and heard?",opts:[{v:1,e:"\ud83d\ude30",l:"Uncomfortable"},{v:2,e:"\ud83d\ude1f",l:"Somewhat"},{v:3,e:"\ud83d\ude0c",l:"Fairly good"},{v:4,e:"\ud83e\udd70",l:"Very at ease"},{v:5,e:"\ud83d\udc9a",l:"Completely"}]},{id:"atmosphere",icon:"\ud83c\udf3f",label:"Atmosphere",q:"Music, lighting, temperature \u2014 how was the setting?",opts:[{v:1,e:"\ud83d\ude29",l:"Distracting"},{v:2,e:"\ud83d\ude11",l:"Okay"},{v:3,e:"\ud83d\ude42",l:"Good"},{v:4,e:"\ud83d\ude0a",l:"Very nice"},{v:5,e:"\u2728",l:"Heavenly"}]},{id:"overall",icon:"\ud83c\udf1f",label:"Overall Experience",q:"How do you feel walking out?",opts:[{v:1,e:"\ud83d\ude14",l:"Disappointed"},{v:2,e:"\ud83d\ude10",l:"Fine"},{v:3,e:"\ud83d\ude42",l:"Good"},{v:4,e:"\ud83d\ude04",l:"Really good"},{v:5,e:"\ud83d\ude80",l:"Amazing"}]}],js=e=>{let{dim:t,value:n,onChange:r}=e;return(0,zi.jsxs)("div",{style:{marginBottom:20},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[(0,zi.jsx)("span",{style:{fontSize:18},children:t.icon}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green},children:t.label}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textLight},children:t.q})]})]}),(0,zi.jsx)("div",{style:{display:"flex",gap:5},children:t.opts.map(e=>(0,zi.jsxs)("button",{onClick:()=>r(t.id,e.v),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:4,padding:"10px 2px",borderRadius:14,border:"none",background:n===e.v?"".concat(Lo.focus,"20"):"rgba(255,255,255,0.7)",outline:"2px solid ".concat(n===e.v?Lo.focus:"transparent"),cursor:"pointer",transition:"all 0.18s",transform:n===e.v?"scale(1.05)":"scale(1)"},children:[(0,zi.jsx)("span",{style:{fontSize:24},children:e.e}),(0,zi.jsx)("span",{style:{fontFamily:Uo,fontSize:9,fontWeight:800,color:n===e.v?Lo.focus:Lo.textLight,textAlign:"center",lineHeight:1.2},children:e.l})]},e.v))}),n>0&&(0,zi.jsx)("div",{style:{height:3,background:Lo.border,borderRadius:2,marginTop:8},children:(0,zi.jsx)("div",{style:{height:"100%",width:"".concat(n/5*100,"%"),background:"linear-gradient(90deg,".concat(Lo.sage,",").concat(Lo.focus,")"),borderRadius:2,transition:"width 0.3s"}})})]})},ks=e=>{let{clientInfo:t,onDone:n}=e;const[r,o]=(0,i.useState)({}),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(!1),h=(e,t)=>o(n=>Mt(Mt({},n),{},{[e]:t})),p=Ss.every(e=>r[e.id]),f=p?Math.round(Object.values(r).reduce((e,t)=>e+t,0)/Ss.length):0,g=["","#E57373","#FFA726","#66BB6A","#42A5F5","#AB47BC"],m=["","Needs work","Getting there","Good session","Great session","Exceptional!"];return d?(0,zi.jsx)("div",{style:{background:Lo.bg,padding:"60px 20px",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,zi.jsxs)("div",{style:{textAlign:"center",maxWidth:380},children:[(0,zi.jsx)("div",{style:{fontSize:60,marginBottom:16},children:"\ud83c\udf3f"}),(0,zi.jsx)("h1",{style:{fontFamily:Wo,fontSize:36,fontWeight:600,color:Lo.green,marginBottom:8},children:"Thank you!"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:15,color:Lo.textMid,marginBottom:28,lineHeight:1.7},children:"Your detailed feedback helps your therapist grow their practice."}),(0,zi.jsxs)(rs,{style:{background:Lo.sagePale,marginBottom:20},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:11,fontWeight:800,color:Lo.textLight,textTransform:"uppercase",marginBottom:14},children:"Your Feedback Summary"}),Ss.map(e=>{var t;return(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,zi.jsx)("span",{style:{fontSize:16},children:e.icon}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.text},children:e.label})]}),(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,zi.jsx)("span",{style:{fontSize:20},children:(null===(t=e.opts.find(t=>t.v===r[e.id]))||void 0===t?void 0:t.e)||"\u2014"}),(0,zi.jsx)("div",{style:{width:40,height:6,background:Lo.border,borderRadius:3},children:(0,zi.jsx)("div",{style:{height:"100%",width:"".concat((r[e.id]||0)/5*100,"%"),background:Lo.focus,borderRadius:3}})})]})]},e.id)}),f>0&&(0,zi.jsxs)("div",{style:{borderTop:"1px solid ".concat(Lo.border),paddingTop:12,marginTop:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green},children:"Overall"}),(0,zi.jsx)("p",{style:{fontFamily:Wo,fontSize:20,fontWeight:600,color:g[f]},children:m[f]})]})]}),(0,zi.jsx)(is,{onClick:n,style:{width:"100%"},children:"Back to Home \ud83c\udfe0"})]})}):(0,zi.jsxs)("div",{style:{background:Lo.bg,padding:"24px 20px 60px",minHeight:"100vh"},children:[(0,zi.jsxs)("div",{style:{textAlign:"center",marginBottom:24},children:[(0,zi.jsx)("h1",{style:{fontFamily:Wo,fontSize:34,fontWeight:600,color:Lo.green},children:"How was your session?"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:Lo.textLight,marginTop:6},children:"5 quick ratings across what matters most"})]}),(0,zi.jsx)("div",{style:{display:"flex",gap:5,marginBottom:16},children:Ss.map(e=>(0,zi.jsx)("div",{style:{flex:1,height:4,borderRadius:2,background:r[e.id]?Lo.focus:Lo.border,transition:"background 0.3s"}},e.id))}),p&&(0,zi.jsxs)("div",{style:{background:g[f]+"18",border:"2px solid ".concat(g[f],"40"),borderRadius:16,padding:"14px 18px",marginBottom:16,textAlign:"center"},children:[(0,zi.jsx)("p",{style:{fontFamily:Wo,fontSize:24,fontWeight:600,color:g[f]},children:m[f]}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid,marginTop:4},children:"Average across all dimensions"})]}),(0,zi.jsx)(rs,{children:Ss.map(e=>(0,zi.jsx)(js,{dim:e,value:r[e.id]||0,onChange:h},e.id))}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\ud83d\udd04",title:"Would you return?"}),(0,zi.jsx)("div",{style:{display:"flex",gap:8},children:[{v:!0,i:"\ud83d\udc9a",l:"Absolutely"},{v:"maybe",i:"\ud83e\udd14",l:"Maybe"},{v:!1,i:"\u274c",l:"Probably not"}].map(e=>{let{v:t,i:n,l:r}=e;return(0,zi.jsx)(as,{icon:n,label:r,selected:s===t,onClick:()=>a(t)},r)})})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\u270d\ufe0f",title:"Anything else? (optional)"}),(0,zi.jsx)(ss,{placeholder:"What you loved, or suggestions for next time...",value:l,onChange:e=>c(e.target.value),style:{minHeight:90}})]}),(0,zi.jsx)("div",{style:{background:Lo.sagePale,borderRadius:14,padding:"11px 15px",marginBottom:16},children:(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid},children:["\ud83d\udd12 Shared with your therapist only. Your name"," ",(0,zi.jsx)("strong",{children:t.name})," will be visible."]})}),(0,zi.jsx)(is,{onClick:()=>{try{const e=JSON.parse(localStorage.getItem("bodymap-reviews")||"[]");e.unshift({id:Date.now(),client:t.name,ratings:r,avg:f,returning:s,note:l,date:(new Date).toISOString()}),localStorage.setItem("bodymap-reviews",JSON.stringify(e))}catch(e){}u(!0)},disabled:!p,style:{width:"100%"},children:p?"Submit Feedback \u2713":"Rate all 5 dimensions to submit"})]})},_s=e=>{let{prefs:t,setPrefs:n,notes:r,setNotes:i,consent:o,setConsent:s,onNext:a,onBack:l}=e;const c=(e,t)=>n(n=>Mt(Mt({},n),{},{[e]:t}));return(0,zi.jsxs)("div",{style:{background:Lo.bg,padding:"18px 20px 60px",minHeight:"100vh"},children:[(0,zi.jsx)(ds,{step:3}),(0,zi.jsx)("h2",{style:{fontFamily:Wo,fontSize:26,fontWeight:600,color:Lo.green,textAlign:"center",marginBottom:4},children:"Your Preferences"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:Lo.textLight,textAlign:"center",marginBottom:18},children:"Help your therapist create the perfect session"}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\ud83d\udc86",title:"Pressure"}),(0,zi.jsx)(cs,{value:t.pressure,onChange:e=>c("pressure",e)})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\ud83c\udfaf",title:"Session Goal"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6},children:[{v:"relax",i:"\ud83d\ude0c",l:"Relax"},{v:"pain",i:"\ud83d\udc8a",l:"Pain Relief"},{v:"athletic",i:"\ud83c\udfc3",l:"Athletic"},{v:"stress",i:"\ud83e\uddd8",l:"Stress"},{v:"injury",i:"\ud83e\ude79",l:"Rehab"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.goal===e.v,onClick:()=>c("goal",e.v)},e.v))})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\ud83c\udf21\ufe0f",title:"Table Temperature"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6,marginBottom:16},children:[{v:"cool",i:"\u2744\ufe0f",l:"Cool"},{v:"neutral",i:"\ud83d\ude0a",l:"Neutral"},{v:"warm",i:"\u2600\ufe0f",l:"Warm"},{v:"hot",i:"\ud83d\udd25",l:"Hot"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.tableTemp===e.v,onClick:()=>c("tableTemp",e.v)},e.v))}),(0,zi.jsx)(ls,{icon:"\ud83c\udf3f",title:"Room Temperature"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6},children:[{v:"cool",i:"\ud83c\udf2c\ufe0f",l:"Cool"},{v:"comfortable",i:"\u2705",l:"Comfortable"},{v:"warm",i:"\ud83c\udf1e",l:"Warm"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.roomTemp===e.v,onClick:()=>c("roomTemp",e.v)},e.v))})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\ud83c\udfb5",title:"Music"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6,marginBottom:16},children:[{v:"silence",i:"\ud83d\udd07",l:"Silence"},{v:"soft",i:"\ud83c\udfb5",l:"Soft"},{v:"nature",i:"\ud83c\udf3f",l:"Nature"},{v:"upbeat",i:"\ud83c\udfb6",l:"Upbeat"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.music===e.v,onClick:()=>c("music",e.v)},e.v))}),(0,zi.jsx)(ls,{icon:"\ud83d\udca1",title:"Lighting"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6},children:[{v:"dark",i:"\ud83c\udf11",l:"Very Dim"},{v:"dim",i:"\ud83c\udf13",l:"Soft"},{v:"normal",i:"\ud83d\udca1",l:"Normal"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.lighting===e.v,onClick:()=>c("lighting",e.v)},e.v))})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\ud83d\udde3\ufe0f",title:"Conversation"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6,marginBottom:16},children:[{v:"quiet",i:"\ud83e\udd2b",l:"Quiet please"},{v:"open",i:"\ud83d\udcac",l:"Happy to chat"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.conversation===e.v,onClick:()=>c("conversation",e.v)},e.v))}),(0,zi.jsx)(ls,{icon:"\ud83d\udecf\ufe0f",title:"Draping"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6},children:[{v:"standard",i:"\ud83d\udecf\ufe0f",l:"Standard"},{v:"extra",i:"\ud83d\udd12",l:"Extra Coverage"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.draping===e.v,onClick:()=>c("draping",e.v)},e.v))})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\ud83c\udf38",title:"Oil & Fragrance"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6,marginBottom:10},children:[{v:"none",i:"\u2705",l:"No Issues"},{v:"noscent",i:"\ud83d\udeab",l:"Fragrance-free"},{v:"allergy",i:"\u26a0\ufe0f",l:"Allergies"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.oilPref===e.v,onClick:()=>c("oilPref",e.v)},e.v))}),"allergy"===t.oilPref&&(0,zi.jsx)(os,{placeholder:"Describe your allergy...",value:t.allergyNote||"",onChange:e=>c("allergyNote",e.target.value)})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\ud83d\udccb",title:"Medical or Injury Notes"}),(0,zi.jsx)("div",{style:{display:"flex",gap:6,marginBottom:10},children:[{v:"none",i:"\u2705",l:"Nothing to note"},{v:"yes",i:"\u26a0\ufe0f",l:"I have a note"}].map(e=>(0,zi.jsx)(as,{icon:e.i,label:e.l,selected:t.medFlag===e.v,onClick:()=>c("medFlag",e.v)},e.v))}),"yes"===t.medFlag&&(0,zi.jsx)(ss,{placeholder:"Describe any areas of awareness your therapist should know about...",value:t.medNote||"",onChange:e=>c("medNote",e.target.value)}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:11,color:Lo.textLight,marginTop:8},children:"\u2139\ufe0f BodyMap is a communication tool, not a medical service."})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)(ls,{icon:"\u270f\ufe0f",title:"Anything else?"}),(0,zi.jsx)(ss,{placeholder:"Special requests, things you love, anything your therapist should know...",value:r,onChange:e=>i(e.target.value)})]}),(0,zi.jsx)(rs,{style:{background:Lo.sagePale},children:(0,zi.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[(0,zi.jsx)("input",{type:"checkbox",checked:o,onChange:e=>s(e.target.checked),style:{width:18,height:18,marginTop:2,accentColor:Lo.green,cursor:"pointer",flexShrink:0}}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid,lineHeight:1.6},children:"I confirm this is a communication tool, not a medical service. I authorize sharing this information with my massage therapist."})]})}),(0,zi.jsxs)("div",{style:{display:"flex",gap:10,marginTop:6},children:[(0,zi.jsx)(is,{ghost:!0,onClick:l,children:"\u2190 Back"}),(0,zi.jsx)(is,{onClick:a,disabled:!o,style:{flex:2},children:"Send to Therapist \ud83d\udce4"})]})]})},Es={goal:{relax:["\ud83d\ude0c","Relaxation"],pain:["\ud83d\udc8a","Pain Relief"],athletic:["\ud83c\udfc3","Athletic Recovery"],stress:["\ud83e\uddd8","Stress Relief"],injury:["\ud83e\ude79","Injury Rehab"]},tableTemp:{cool:["\u2744\ufe0f","Cool"],neutral:["\ud83d\ude0a","Neutral"],warm:["\u2600\ufe0f","Warm"],hot:["\ud83d\udd25","Hot"]},roomTemp:{cool:["\ud83c\udf2c\ufe0f","Cool"],comfortable:["\u2705","Comfortable"],warm:["\ud83c\udf1e","Warm"]},music:{silence:["\ud83d\udd07","Silence"],soft:["\ud83c\udfb5","Soft Music"],nature:["\ud83c\udf3f","Nature Sounds"],upbeat:["\ud83c\udfb6","Upbeat"]},lighting:{dark:["\ud83c\udf11","Very Dim"],dim:["\ud83c\udf13","Soft"],normal:["\ud83d\udca1","Normal"]},conversation:{quiet:["\ud83e\udd2b","Quiet Please"],open:["\ud83d\udcac","Happy to Chat"]},draping:{standard:["\ud83d\udecf\ufe0f","Standard"],extra:["\ud83d\udd12","Extra Coverage"]},oilPref:{none:["\u2705","No Issues"],noscent:["\ud83d\udeab","Fragrance-Free"],allergy:["\u26a0\ufe0f","Has Allergy"]}},Ts=e=>{let{clientInfo:t,bodyMap:n,prefs:r,notes:o,sessions:s,onBack:a,onReview:l}=e;const[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),p=Yo.filter(e=>"focus"===n[e.id]),f=Yo.filter(e=>"avoid"===n[e.id]);return(0,zi.jsxs)("div",{style:{background:"#EEF2EC",minHeight:"100vh",padding:"0 20px 60px"},children:[(0,zi.jsx)("div",{style:{background:"linear-gradient(135deg,".concat(Lo.green," 0%,#1E4230 100%)"),borderRadius:"0 0 28px 28px",padding:"28px 22px 22px",marginLeft:-20,marginRight:-20,width:"calc(100% + 40px)",marginBottom:18},children:(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,color:Lo.sagePale,fontWeight:700,letterSpacing:1,textTransform:"uppercase",marginBottom:3},children:"Therapist View \xb7 Pre-Session"}),(0,zi.jsx)("h2",{style:{fontFamily:Wo,fontSize:30,fontWeight:600,color:"#fff"},children:t.name}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.sagePale,marginTop:4},children:(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),(0,zi.jsx)("div",{style:{width:46,height:46,borderRadius:"50%",background:"rgba(255,255,255,0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:22},children:"\ud83c\udf3f"})]})}),(0,zi.jsx)(ys,{sessions:s,clientName:t.name}),(0,zi.jsx)(xs,{clientInfo:t,bodyMap:n,prefs:r,notes:o,sessions:s}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green,marginBottom:14,textTransform:"uppercase"},children:"Body Focus Map"}),(0,zi.jsxs)("div",{style:{display:"flex",gap:14,justifyContent:"center"},children:[(0,zi.jsx)(ns,{regions:$o,selections:n,label:"Front"}),(0,zi.jsx)(ns,{regions:Jo,selections:n,label:"Back"})]}),p.length>0&&(0,zi.jsxs)("div",{style:{marginTop:14},children:[(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:Lo.focus,marginBottom:6,textTransform:"uppercase"},children:["\ud83d\udfe2 Focus (",p.length,")"]}),(0,zi.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:5},children:p.map(e=>(0,zi.jsx)("span",{style:{background:"".concat(Lo.focus,"18"),color:Lo.focus,border:"1px solid ".concat(Lo.focus,"40"),padding:"3px 9px",borderRadius:20,fontSize:11,fontWeight:700,fontFamily:Uo},children:e.label},e.id))})]}),f.length>0&&(0,zi.jsxs)("div",{style:{marginTop:10},children:[(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:Lo.avoid,marginBottom:6,textTransform:"uppercase"},children:["\ud83d\udd34 Avoid (",f.length,")"]}),(0,zi.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:5},children:f.map(e=>(0,zi.jsx)("span",{style:{background:"".concat(Lo.avoid,"18"),color:Lo.avoid,border:"1px solid ".concat(Lo.avoid,"40"),padding:"3px 9px",borderRadius:20,fontSize:11,fontWeight:700,fontFamily:Uo},children:e.label},e.id))})]})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green,marginBottom:14,textTransform:"uppercase"},children:"Session Preferences"}),(0,zi.jsxs)("div",{style:{background:Lo.sagePale,borderRadius:14,padding:"13px 15px",marginBottom:12,display:"flex",alignItems:"center",gap:10},children:[(0,zi.jsx)("span",{style:{fontSize:26},children:"\ud83d\udc86"}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:700,color:Lo.textLight,textTransform:"uppercase"},children:"Pressure"}),(0,zi.jsxs)("p",{style:{fontFamily:Wo,fontSize:22,fontWeight:600,color:Lo.green},children:[qo[r.pressure]," ",Ho[r.pressure]]})]})]}),(0,zi.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[["Goal",Es.goal[r.goal]],["Table",Es.tableTemp[r.tableTemp]],["Room",Es.roomTemp[r.roomTemp]],["Music",Es.music[r.music]],["Lighting",Es.lighting[r.lighting]],["Chat",Es.conversation[r.conversation]],["Draping",Es.draping[r.draping]],["Oil",Es.oilPref[r.oilPref]]].filter(e=>{let[,t]=e;return t}).map(e=>{let[t,[n,r]]=e;return(0,zi.jsxs)("div",{style:{background:Lo.bg,borderRadius:12,padding:"10px 11px",display:"flex",alignItems:"center",gap:7},children:[(0,zi.jsx)("span",{style:{fontSize:18},children:n}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:700,color:Lo.textLight,textTransform:"uppercase"},children:t}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,fontWeight:700,color:Lo.text},children:r})]})]},t)})}),"allergy"===r.oilPref&&r.allergyNote&&(0,zi.jsxs)("div",{style:{marginTop:10,background:"#FFE4E0",border:"1px solid #E57373",borderRadius:12,padding:12},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:"#B71C1C",marginBottom:3},children:"\ud83d\udeab ALLERGY ALERT"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:"#7F0000"},children:r.allergyNote})]}),"yes"===r.medFlag&&r.medNote&&(0,zi.jsxs)("div",{style:{marginTop:10,background:"#FFF8E1",border:"1px solid #FFC107",borderRadius:12,padding:12},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:"#856404",marginBottom:3},children:"\u26a0\ufe0f CLIENT-NOTED AREA OF AWARENESS"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:"#533F00"},children:r.medNote})]})]}),o&&(0,zi.jsxs)(rs,{children:[(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green,marginBottom:8,textTransform:"uppercase"},children:"Client Notes"}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:14,color:Lo.textMid,fontStyle:"italic",lineHeight:1.6},children:['"',o,'"']})]}),(0,zi.jsxs)(rs,{children:[(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green,marginBottom:4,textTransform:"uppercase"},children:"Therapist Session Notes"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textLight,marginBottom:10},children:"For your records (saved to client history)"}),(0,zi.jsx)(ss,{placeholder:"What did you focus on? How did the client respond? Recommendations for next session?",value:c,onChange:e=>{d(e.target.value),h(!1)}}),(0,zi.jsx)(is,{onClick:()=>h(!0),disabled:!c,style:{marginTop:10,width:"100%"},children:u?"\u2705 Notes Saved":"Save Session Notes"})]}),s.length>0&&(0,zi.jsxs)(rs,{children:[(0,zi.jsxs)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green,marginBottom:12,textTransform:"uppercase"},children:["Session History (",s.length,")"]}),s.slice(0,3).map((e,t)=>(0,zi.jsxs)("div",{style:{border:"1px solid ".concat(Lo.border),borderRadius:14,padding:13,marginBottom:8,background:Lo.bg},children:[(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontWeight:800,fontSize:13,color:Lo.green},children:["Session ",s.length-t]}),e.isFreeSession&&(0,zi.jsx)("span",{style:{background:Lo.gold,color:Lo.text,fontSize:9,fontWeight:800,padding:"1px 6px",borderRadius:20,fontFamily:Uo},children:"FREE"})]}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:11,color:Lo.textLight},children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),e.therapistNotes?(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid,fontStyle:"italic"},children:['"',e.therapistNotes,'"']}):(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textLight},children:"No notes recorded"})]},e.id)),s.length>3&&(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:11,color:Lo.textMid,textAlign:"center",marginTop:8},children:["+ ",s.length-3," more session",s.length-3>1?"s":""]})]}),(0,zi.jsxs)("div",{style:{background:"linear-gradient(135deg,".concat(Lo.sagePale," 0%,#E8F4ED 100%)"),border:"1.5px solid ".concat(Lo.sage,"40"),borderRadius:14,padding:"12px 14px",marginBottom:12},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:11,fontWeight:800,color:Lo.green,marginBottom:5,textTransform:"uppercase"},children:"\ud83d\udccb Demo: Session Complete"}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.text,lineHeight:1.5},children:["After the massage, you'd send ",t.name," a link to rate their experience. Click below to see the client feedback screen."]})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,zi.jsx)(is,{ghost:!0,onClick:a,style:{flex:1},children:"\u2190 Back"}),(0,zi.jsx)(is,{onClick:l,style:{flex:2},children:"Preview: Client Feedback \u2192"})]})]})},Cs=e=>{let{sessions:t,clientName:n,onBack:r,onNewSession:o}=e;const[s,a]=(0,i.useState)(null);if(!t.length)return(0,zi.jsxs)("div",{style:{background:Lo.bg,padding:"60px 20px",minHeight:"100vh",textAlign:"center"},children:[(0,zi.jsx)("div",{style:{fontSize:50,marginBottom:16},children:"\ud83d\udccb"}),(0,zi.jsx)("h2",{style:{fontFamily:Wo,fontSize:28,fontWeight:600,color:Lo.green,marginBottom:8},children:"No history yet"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:14,color:Lo.textLight,marginBottom:28},children:"Complete your first session to start building your wellness timeline."}),(0,zi.jsx)(is,{onClick:o,style:{width:"100%"},children:"Start First Session"})]});const l={};t.forEach(e=>Object.entries(e.bodyMap||{}).forEach(e=>{let[t,n]=e;l[t]||(l[t]={focus:0,avoid:0}),l[t][n]=(l[t][n]||0)+1}));const c=Object.entries(l).filter(e=>{let[,t]=e;return t.focus>0}).sort((e,t)=>{let[,n]=e,[,r]=t;return r.focus-n.focus}).slice(0,3),d=Object.entries(l).filter(e=>{let[,t]=e;return t.avoid>0}).sort((e,t)=>{let[,n]=e,[,r]=t;return r.avoid-n.avoid}).slice(0,3);return(0,zi.jsxs)("div",{style:{background:Lo.bg,padding:"20px 20px 60px",minHeight:"100vh"},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:22},children:[(0,zi.jsx)("button",{onClick:r,style:{background:"none",border:"none",fontSize:22,cursor:"pointer",color:Lo.green},children:"\u2190"}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("h2",{style:{fontFamily:Wo,fontSize:26,fontWeight:600,color:Lo.green},children:"Session History"}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textLight},children:[t.length," session",1!==t.length?"s":""," on record"]})]})]}),(0,zi.jsx)(ms,{sessions:t}),(0,zi.jsx)(vs,{sessions:t,clientName:n}),t.length>=2&&(0,zi.jsxs)(rs,{style:{background:"linear-gradient(135deg,".concat(Lo.sagePale," 0%,#EAF4EF 100%)")},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[(0,zi.jsx)("span",{style:{fontSize:18},children:"\ud83d\udcca"}),(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green},children:"YOUR PATTERNS"})]}),(0,zi.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:Lo.focus,marginBottom:6,textTransform:"uppercase"},children:"Most Focused"}),c.map(e=>{let[t,n]=e;const r=Yo.find(e=>e.id===t);return(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[(0,zi.jsx)("span",{style:{fontFamily:Uo,fontSize:12,color:Lo.text},children:null===r||void 0===r?void 0:r.label}),(0,zi.jsxs)("span",{style:{fontFamily:Uo,fontSize:11,fontWeight:800,color:Lo.focus,background:"".concat(Lo.focus,"18"),padding:"1px 7px",borderRadius:10},children:[n.focus,"\xd7"]})]},t)})]}),(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:Lo.avoid,marginBottom:6,textTransform:"uppercase"},children:"Most Avoided"}),d.map(e=>{let[t,n]=e;const r=Yo.find(e=>e.id===t);return(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[(0,zi.jsx)("span",{style:{fontFamily:Uo,fontSize:12,color:Lo.text},children:null===r||void 0===r?void 0:r.label}),(0,zi.jsxs)("span",{style:{fontFamily:Uo,fontSize:11,fontWeight:800,color:Lo.avoid,background:"".concat(Lo.avoid,"18"),padding:"1px 7px",borderRadius:10},children:[n.avoid,"\xd7"]})]},t)})]})]})]}),(0,zi.jsxs)("div",{style:{position:"relative"},children:[(0,zi.jsx)("div",{style:{position:"absolute",left:18,top:20,bottom:20,width:2,background:Lo.sageMid,borderRadius:2,zIndex:0}}),t.map((e,n)=>(0,zi.jsxs)("div",{style:{position:"relative",paddingLeft:44,marginBottom:12},children:[(0,zi.jsx)("div",{style:{position:"absolute",left:10,top:18,width:16,height:16,borderRadius:"50%",background:0===n?Lo.green:Lo.sage,border:"3px solid ".concat(Lo.bg),zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:0===n&&(0,zi.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",background:"#fff"}})}),(0,zi.jsxs)(rs,{style:{cursor:"pointer",marginBottom:0},onClick:()=>a(s===e.id?null:e.id),children:[(0,zi.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,zi.jsxs)("div",{style:{flex:1},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:4},children:[0===n&&(0,zi.jsx)("span",{style:{background:Lo.green,color:"#fff",fontSize:10,fontWeight:800,padding:"2px 8px",borderRadius:20,fontFamily:Uo},children:"LATEST"}),e.isFreeSession&&(0,zi.jsx)("span",{style:{background:Lo.gold,color:Lo.text,fontSize:10,fontWeight:800,padding:"2px 8px",borderRadius:20,fontFamily:Uo},children:"\ud83c\udf81 FREE"}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:13,fontWeight:800,color:Lo.green},children:["Session ",t.length-n]})]}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textLight},children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric",year:"numeric"})})]}),(0,zi.jsx)("span",{style:{fontSize:14,color:Lo.textLight,marginLeft:8},children:s===e.id?"\u25b2":"\u25bc"})]}),s===e.id&&(0,zi.jsxs)("div",{style:{marginTop:14,borderTop:"1px solid ".concat(Lo.border),paddingTop:14},children:[(0,zi.jsxs)("div",{style:{display:"flex",gap:12,justifyContent:"center",marginBottom:14},children:[(0,zi.jsx)(ns,{regions:$o,selections:e.bodyMap||{},label:"Front"}),(0,zi.jsx)(ns,{regions:Jo,selections:e.bodyMap||{},label:"Back"})]}),e.therapistNotes&&(0,zi.jsxs)("div",{children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:Lo.textLight,textTransform:"uppercase",marginBottom:4},children:"Therapist Notes"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:Lo.textMid},children:e.therapistNotes})]})]})]})]},e.id))]}),(0,zi.jsx)("div",{style:{marginTop:8,paddingLeft:44},children:(0,zi.jsx)(is,{onClick:o,style:{width:"100%"},children:"+ Book New Session"})})]})},Rs=e=>{let{onStart:t,sessions:n,onHistory:r,onPreFill:o}=e;const[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)("");return(0,zi.jsxs)("div",{style:{minHeight:"100vh",background:Lo.bg},children:[(0,zi.jsxs)("div",{style:{background:"linear-gradient(155deg,".concat(Lo.green," 0%,#1E4230 100%)"),padding:"28px 20px 24px",textAlign:"center"},children:[(0,zi.jsx)("div",{style:{fontSize:32,marginBottom:5},children:"\ud83c\udf3f"}),(0,zi.jsx)("h1",{style:{fontFamily:Wo,fontSize:32,fontWeight:600,color:"#fff",margin:0,lineHeight:1.1},children:"BodyMap"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.sagePale,marginTop:4,opacity:.9},children:"Never re-explain your preferences again"})]}),(0,zi.jsxs)("div",{style:{padding:"16px 20px 40px"},children:[n.length>0&&(0,zi.jsx)(bs,{sessions:n,onPreFill:o}),n.length>0&&(0,zi.jsx)(ms,{sessions:n}),(0,zi.jsxs)(rs,{style:{padding:"14px"},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:Lo.text,lineHeight:1.5,marginBottom:12},children:"Set your preferences in 60 seconds \u2014 so your therapist knows exactly what you need before you walk in. Your full 60 minutes, perfectly customized."}),(0,zi.jsx)(is,{ghost:!0,onClick:()=>t({name:"Demo User",contact:"demo@bodymap.app"}),children:"\ud83d\udc41 Try Demo"})]}),(0,zi.jsxs)("div",{style:{background:"linear-gradient(135deg,".concat(Lo.goldPale," 0%,#FFF9E6 100%)"),border:"1.5px solid ".concat(Lo.gold,"60"),borderRadius:14,padding:"11px 13px",marginBottom:12},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:9},children:[(0,zi.jsx)("span",{style:{fontSize:18,flexShrink:0},children:"\ud83d\udcb3"}),(0,zi.jsxs)("div",{style:{flex:1},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:Lo.text,marginBottom:2,textTransform:"uppercase",letterSpacing:.5},children:"BodyMap Subscription"}),(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textMid,lineHeight:1.3},children:[(0,zi.jsx)("strong",{children:"3 free sessions"}),", then $5.99/month"]})]})]}),(0,zi.jsx)("div",{style:{display:"flex",gap:5,marginTop:7,flexWrap:"wrap"},children:["Session history","Pattern tracking","Any therapist"].map(e=>(0,zi.jsxs)("span",{style:{background:"rgba(255,255,255,0.6)",color:Lo.text,padding:"2px 7px",borderRadius:9,fontSize:9,fontWeight:700,fontFamily:Uo},children:["\u2713 ",e]},e))})]}),(0,zi.jsxs)(rs,{style:{padding:"13px"},children:[(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,fontWeight:800,color:Lo.green,marginBottom:9,textTransform:"uppercase",letterSpacing:.5},children:"Start Your First Session"}),(0,zi.jsx)(os,{placeholder:"Your name",value:s,onChange:e=>a(e.target.value),style:{padding:"9px 11px",fontSize:14,marginBottom:7}}),(0,zi.jsx)(os,{placeholder:"Phone or email",value:l,onChange:e=>c(e.target.value),style:{padding:"9px 11px",fontSize:14,marginBottom:10}}),(0,zi.jsx)(is,{onClick:()=>t({name:s.trim(),contact:l.trim()}),disabled:!s.trim()||!l.trim(),style:{width:"100%"},children:"Create My Body Map \u2192"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:10,color:Lo.textLight,textAlign:"center",marginTop:7},children:"\ud83d\udd12 Only shared with your therapist"})]}),n.length>0&&(0,zi.jsx)(rs,{style:{background:Lo.sagePale,padding:11},onClick:r,children:(0,zi.jsxs)("p",{style:{fontFamily:Uo,fontSize:12,fontWeight:700,color:Lo.green},children:["\ud83d\udccb ",n.length," session",n.length>1?"s":""," saved"]})})]})]})},Bs=e=>{let{title:t,subtitle:n,step:r,regions:i,selections:o,onToggle:s,mode:a,setMode:l,onNext:c,onBack:d,sessions:u,onApply:h}=e;return(0,zi.jsxs)("div",{style:{background:Lo.bg,padding:"18px 20px 40px",minHeight:"100vh"},children:[(0,zi.jsx)(ds,{step:r}),(0,zi.jsx)("h2",{style:{fontFamily:Wo,fontSize:26,fontWeight:600,color:Lo.green,textAlign:"center",marginBottom:4},children:t}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:Lo.textLight,textAlign:"center",marginBottom:16},children:n}),(1===r||2===r)&&u.length>=3&&(0,zi.jsx)(ws,{sessions:u,onApply:h}),(0,zi.jsx)(us,{mode:a,setMode:l}),(0,zi.jsx)("div",{style:{background:"".concat("focus"===a?Lo.focus:Lo.avoid,"12"),border:"1px solid ".concat("focus"===a?Lo.focus:Lo.avoid,"40"),borderRadius:12,padding:"9px 14px",marginBottom:14,textAlign:"center"},children:(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,fontWeight:700,color:"focus"===a?Lo.focus:Lo.avoid},children:"focus"===a?"\ud83d\udfe2 Tap areas where you want focus \u2014 tap again to clear":"\ud83d\udd34 Tap areas to avoid \u2014 tap again to clear"})}),(0,zi.jsxs)(rs,{style:{padding:14},children:[(0,zi.jsx)(ts,{regions:i,selections:o,onToggle:s,scale:1.06}),(0,zi.jsx)("div",{style:{display:"flex",gap:14,justifyContent:"center",marginTop:10},children:[{color:Lo.focus,l:"Focus"},{color:Lo.avoid,l:"Avoid"},{color:Lo.neutral,l:"Tap to mark"}].map(e=>{let{color:t,l:n}=e;return(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,zi.jsx)("div",{style:{width:10,height:10,borderRadius:3,background:t}}),(0,zi.jsx)("span",{style:{fontFamily:Uo,fontSize:11,fontWeight:700,color:Lo.textMid},children:n})]},n)})}),(0,zi.jsx)(hs,{regions:i,selections:o})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:10,marginTop:6},children:[d&&(0,zi.jsx)(is,{ghost:!0,onClick:d,children:"\u2190 Back"}),(0,zi.jsx)(is,{onClick:c,style:{flex:2},children:2===r?"Next: Preferences \u2192":"Next: Back of Body \u2192"})]})]})},zs=e=>{let{clientInfo:t,bodyMap:n,onViewTherapist:r,onReset:o}=e;const[s,a]=(0,i.useState)(!1),l="bodymap.app/s/".concat(t.name.toLowerCase().replace(/\s+/g,""),"-").concat(Date.now().toString(36)),c=Object.values(n).filter(e=>"focus"===e).length,d=Object.values(n).filter(e=>"avoid"===e).length;return(0,zi.jsxs)("div",{style:{background:Lo.bg,padding:"32px 20px 60px",minHeight:"100vh"},children:[(0,zi.jsxs)("div",{style:{textAlign:"center",marginBottom:22},children:[(0,zi.jsx)("div",{style:{width:60,height:60,borderRadius:"50%",background:Lo.sagePale,display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,margin:"0 auto 10px"},children:"\u2705"}),(0,zi.jsx)("h1",{style:{fontFamily:Wo,fontSize:28,fontWeight:600,color:Lo.green},children:"You're all set!"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:13,color:Lo.textLight,marginTop:5},children:"Your preferences are ready to share"})]}),(0,zi.jsxs)(rs,{style:{padding:14},children:[(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:12,fontWeight:800,color:Lo.green,marginBottom:12,textTransform:"uppercase"},children:"Your Body Map"}),(0,zi.jsxs)("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[(0,zi.jsx)(ns,{regions:$o,selections:n,label:"Front"}),(0,zi.jsx)(ns,{regions:Jo,selections:n,label:"Back"})]}),(0,zi.jsxs)("div",{style:{display:"flex",gap:16,justifyContent:"center",marginTop:10},children:[(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,zi.jsx)("div",{style:{width:9,height:9,borderRadius:2,background:Lo.focus}}),(0,zi.jsxs)("span",{style:{fontFamily:Uo,fontSize:11,color:Lo.textMid},children:[c," focus"]})]}),(0,zi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5},children:[(0,zi.jsx)("div",{style:{width:9,height:9,borderRadius:2,background:Lo.avoid}}),(0,zi.jsxs)("span",{style:{fontFamily:Uo,fontSize:11,color:Lo.textMid},children:[d," avoid"]})]})]})]}),(0,zi.jsxs)(rs,{style:{padding:14},children:[(0,zi.jsx)("h3",{style:{fontFamily:Uo,fontSize:12,fontWeight:800,color:Lo.green,marginBottom:3,textTransform:"uppercase"},children:"Share with Your Therapist"}),(0,zi.jsx)("p",{style:{fontFamily:Uo,fontSize:12,color:Lo.textLight,marginBottom:12},children:"Text, email, or show them this link before your appointment"}),(0,zi.jsx)("div",{style:{display:"flex",gap:7,marginBottom:12},children:[{i:"\ud83d\udcac",l:"Text"},{i:"\ud83d\udce7",l:"Email"},{i:s?"\u2705":"\ud83d\udccb",l:s?"Copied":"Copy",fn:()=>{try{navigator.clipboard.writeText("https://".concat(l))}catch(e){}a(!0),setTimeout(()=>a(!1),2500)}}].map(e=>{let{i:t,l:n,fn:r}=e;return(0,zi.jsxs)("button",{onClick:r||void 0,style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:4,padding:"10px 3px",borderRadius:12,border:"2px solid ".concat(Lo.border),background:Lo.white,cursor:"pointer"},children:[(0,zi.jsx)("span",{style:{fontSize:18},children:t}),(0,zi.jsx)("span",{style:{fontSize:9,fontWeight:700,color:Lo.textMid,fontFamily:Uo},children:n})]},n)})}),(0,zi.jsxs)("div",{style:{background:Lo.bg,borderRadius:9,padding:"8px 11px",display:"flex",alignItems:"center",gap:6},children:[(0,zi.jsx)("span",{style:{fontSize:13},children:"\ud83d\udd17"}),(0,zi.jsx)("span",{style:{fontFamily:Uo,fontSize:10,color:Lo.textMid,flex:1,wordBreak:"break-all"},children:l})]})]}),(0,zi.jsx)(is,{onClick:r,style:{width:"100%",marginBottom:10},children:"\ud83d\udc41 Preview: What Your Therapist Sees"}),(0,zi.jsx)(is,{ghost:!0,onClick:o,style:{width:"100%"},children:"\u2190 Back to Home"})]})};function Ps(e){let{therapistName:t="Your Therapist",onSubmit:n=null}=e;const[r,o]=(0,i.useState)("welcome"),[s,a]=(0,i.useState)("focus"),[l,c]=(0,i.useState)({name:"",contact:""}),[d,u]=(0,i.useState)({}),[h,p]=(0,i.useState)(Mt({},Go)),[f,g]=(0,i.useState)(""),[m,y]=(0,i.useState)(!1),[x,v]=(0,i.useState)([]);(0,i.useEffect)(()=>{const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Nunito:wght@400;500;600;700;800&display=swap",e.rel="stylesheet",document.head.appendChild(e);try{v(JSON.parse(localStorage.getItem("bodymap-sessions")||"[]"))}catch(t){}return()=>{try{document.head.removeChild(e)}catch(t){}}},[]);const b=e=>u(t=>{if(!t[e])return Mt(Mt({},t),{},{[e]:s});if(t[e]===s){const n=Mt({},t);return delete n[e],n}return Mt(Mt({},t),{},{[e]:s})}),w=()=>{const e=Qo(x);if(!e)return;const t={};e.topFocus.slice(0,3).forEach(e=>{const n=Yo.find(t=>t.label===e.label);n&&(t[n.id]="focus")}),e.topAvoid.slice(0,2).forEach(e=>{const n=Yo.find(t=>t.label===e.label);n&&(t[n.id]="avoid")}),u(t),p(t=>Mt(Mt({},t),{},{pressure:e.avgPressure,goal:e.topGoal||t.goal}))},S=()=>{u({}),g(""),y(!1),p(Mt({},Go)),o("welcome")},j={welcome:(0,zi.jsx)(Rs,{onStart:e=>{c(e),o("front")},sessions:x,onHistory:()=>o("history"),onPreFill:e=>{u(Mt({},e.bodyMap)),p(Mt(Mt({},Go),e.prefs)),e.clientInfo&&c(Mt({},e.clientInfo)),o("front")}}),front:(0,zi.jsx)(Bs,{title:"Front of Body",subtitle:"Tap any area to mark as focus or avoid",step:1,regions:$o,selections:d,onToggle:b,mode:s,setMode:a,onNext:()=>o("back"),onBack:null,sessions:x,onApply:w}),back:(0,zi.jsx)(Bs,{title:"Back of Body",subtitle:"Continue marking focus and avoid areas",step:2,regions:Jo,selections:d,onToggle:b,mode:s,setMode:a,onNext:()=>o("prefs"),onBack:()=>o("front"),sessions:x,onApply:w}),prefs:(0,zi.jsx)(_s,{prefs:h,setPrefs:p,notes:f,setNotes:g,consent:m,setConsent:y,onNext:()=>{const{hasEarned:e}=Xo(x),t=[{id:Date.now(),date:(new Date).toISOString(),clientInfo:l,bodyMap:d,prefs:h,notes:f,therapistNotes:"",isFreeSession:e},...x].slice(0,50);v(t);try{localStorage.setItem("bodymap-sessions",JSON.stringify(t))}catch(r){}if(n){const e=Object.keys(d).filter(e=>e.startsWith("f-")&&"focus"===d[e]),t=Object.keys(d).filter(e=>e.startsWith("f-")&&"avoid"===d[e]),r=Object.keys(d).filter(e=>e.startsWith("b-")&&"focus"===d[e]),i=Object.keys(d).filter(e=>e.startsWith("b-")&&"avoid"===d[e]);n({clientName:l.name,clientPhone:l.contact,clientEmail:null,frontFocus:e,frontAvoid:t,backFocus:r,backAvoid:i,pressure:h.pressure,goal:h.goal,tableTemp:h.tableTemp,roomTemp:h.roomTemp,music:h.music,lighting:h.lighting,conversation:h.conversation,draping:h.draping,oilPref:h.oilPref,medFlag:h.medFlag})}else o("summary")},onBack:()=>o("back")}),summary:(0,zi.jsx)(zs,{clientInfo:l,bodyMap:d,onViewTherapist:()=>o("therapist"),onReset:S}),therapist:(0,zi.jsx)(Ts,{clientInfo:l,bodyMap:d,prefs:h,notes:f,sessions:x,onBack:()=>o("summary"),onReview:()=>o("review")}),review:(0,zi.jsx)(ks,{clientInfo:l,onDone:S}),history:(0,zi.jsx)(Cs,{sessions:x,clientName:l.name,onBack:()=>o("welcome"),onNewSession:S})};return(0,zi.jsx)("div",{style:{maxWidth:480,margin:"0 auto",minHeight:"100vh",background:Lo.bg,fontFamily:Uo},children:j[r]||j.welcome})}function As(){const{customUrl:e}=se(),t=oe(),[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(!0),[a,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{c()},[e]);const c=async()=>{try{s(!0);const t=await Bi.getTherapistByUrl(e);r(t),l(null)}catch(t){console.error("Error loading therapist:",t),l("Therapist not found. Please check the URL.")}finally{s(!1)}};return o?(0,zi.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"system-ui, sans-serif",background:"#F0EAD9"},children:(0,zi.jsxs)("div",{style:{textAlign:"center"},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83c\udf3f"}),(0,zi.jsx)("div",{style:{fontSize:"18px",color:"#6B7280"},children:"Loading..."})]})}):a?(0,zi.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"system-ui, sans-serif",background:"#F0EAD9",padding:"24px"},children:(0,zi.jsxs)("div",{style:{textAlign:"center",background:"white",padding:"40px",borderRadius:"12px",maxWidth:"400px"},children:[(0,zi.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\u274c"}),(0,zi.jsx)("h2",{style:{fontSize:"24px",marginBottom:"16px",color:"#1F2937"},children:"Therapist Not Found"}),(0,zi.jsx)("p",{style:{fontSize:"16px",color:"#6B7280",marginBottom:"24px"},children:a}),(0,zi.jsx)("a",{href:"https://mybodymap.app",style:{display:"inline-block",background:"#6B9E80",color:"white",padding:"12px 24px",borderRadius:"8px",textDecoration:"none",fontWeight:"600"},children:"Go to BodyMap Home"})]})}):(0,zi.jsx)(Ps,{therapistName:n.business_name,onSubmit:async e=>{try{const r=await Bi.upsertClient(n.id,{name:e.clientName,phone:e.clientPhone,email:e.clientEmail||null});await Bi.createSession({therapist_id:n.id,client_id:r.id,front_focus:e.frontFocus||[],front_avoid:e.frontAvoid||[],back_focus:e.backFocus||[],back_avoid:e.backAvoid||[],pressure:e.pressure||3,goal:e.goal||"relax",table_temp:e.tableTemp||"warm",room_temp:e.roomTemp||"comfortable",music:e.music||"soft",lighting:e.lighting||"dim",conversation:e.conversation||"quiet",draping:e.draping||"standard",oil_pref:e.oilPref||"none",med_flag:e.medFlag||"none",completed:!1}),t("/thank-you",{state:{therapistName:n.business_name,clientName:e.clientName}})}catch(r){console.error("Error saving intake:",r),alert("There was an error saving your preferences. Please try again.")}}})}const Os="#6B9E80",Is="#F0EAD9",Fs="#1F2937",Ns="#6B7280";function Ds(){const e=re(),{therapistName:t,clientName:n}=e.state||{};return(0,zi.jsx)("div",{style:{minHeight:"100vh",background:Is,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",fontFamily:"system-ui, sans-serif"},children:(0,zi.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"48px",maxWidth:"500px",width:"100%",textAlign:"center",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[(0,zi.jsx)("div",{style:{width:"80px",height:"80px",background:"#D1FAE5",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",fontSize:"40px"},children:"\u2713"}),(0,zi.jsxs)("h1",{style:{fontSize:"32px",fontWeight:"700",color:Fs,marginBottom:"16px"},children:["All Set",n?", ".concat(n.split(" ")[0]):"","!"]}),(0,zi.jsxs)("p",{style:{fontSize:"18px",color:Ns,lineHeight:"1.6",marginBottom:"32px"},children:["Your preferences have been sent to ",t||"your therapist",".",(0,zi.jsx)("br",{}),(0,zi.jsx)("br",{}),"They'll review your body map before your session to give you the best possible experience."]}),(0,zi.jsxs)("div",{style:{background:Is,borderRadius:"12px",padding:"24px",marginBottom:"32px",textAlign:"left"},children:[(0,zi.jsx)("h3",{style:{fontSize:"16px",fontWeight:"700",color:Fs,marginBottom:"16px"},children:"What Happens Next:"}),(0,zi.jsxs)("ul",{style:{fontSize:"15px",color:Ns,lineHeight:"1.8",paddingLeft:"20px",margin:0},children:[(0,zi.jsx)("li",{children:"Your therapist will review your preferences"}),(0,zi.jsx)("li",{children:"They'll prepare for your session accordingly"}),(0,zi.jsx)("li",{children:"Arrive a few minutes early to relax"}),(0,zi.jsx)("li",{children:"Enjoy your personalized massage!"})]})]}),(0,zi.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,zi.jsx)(Ae,{to:"/",style:{display:"block",background:Os,color:"white",padding:"14px",borderRadius:"8px",textDecoration:"none",fontWeight:"600",fontSize:"16px"},children:"Learn More About BodyMap"}),(0,zi.jsx)("p",{style:{fontSize:"14px",color:Ns,margin:0},children:"Looking forward to your session! \ud83c\udf3f"})]})]})})}const Ls=function(){return(0,zi.jsx)(Oi,{children:(0,zi.jsx)(Be,{children:(0,zi.jsxs)(ke,{children:[(0,zi.jsx)(Se,{path:"/",element:(0,zi.jsx)(Fi,{})}),(0,zi.jsx)(Se,{path:"/pricing",element:(0,zi.jsx)(Ni,{})}),(0,zi.jsx)(Se,{path:"/why-bodymap",element:(0,zi.jsx)(Di,{})}),(0,zi.jsx)(Se,{path:"/contact",element:(0,zi.jsx)(Li,{})}),(0,zi.jsx)(Se,{path:"/privacy",element:(0,zi.jsx)(Wi,{})}),(0,zi.jsx)(Se,{path:"/terms",element:(0,zi.jsx)(Ui,{})}),(0,zi.jsx)(Se,{path:"/signup",element:(0,zi.jsx)($i,{})}),(0,zi.jsx)(Se,{path:"/login",element:(0,zi.jsx)(to,{})}),(0,zi.jsx)(Se,{path:"/dashboard",element:(0,zi.jsx)(Ii,{children:(0,zi.jsx)(Io,{view:"clients"})})}),(0,zi.jsx)(Se,{path:"/dashboard/settings",element:(0,zi.jsx)(Ii,{children:(0,zi.jsx)(Io,{view:"settings"})})}),(0,zi.jsx)(Se,{path:"/dashboard/clients/:clientId",element:(0,zi.jsx)(Ii,{children:(0,zi.jsx)(Io,{view:"sessions"})})}),(0,zi.jsx)(Se,{path:"/dashboard/clients/:clientId/sessions/:sessionId",element:(0,zi.jsx)(Ii,{children:(0,zi.jsx)(Io,{view:"session-detail"})})}),(0,zi.jsx)(Se,{path:"/thank-you",element:(0,zi.jsx)(Ds,{})}),(0,zi.jsx)(Se,{path:"/:customUrl",element:(0,zi.jsx)(As,{})})]})})})};s.createRoot(document.getElementById("root")).render((0,zi.jsx)(i.StrictMode,{children:(0,zi.jsx)(Ls,{})}))})();
//# sourceMappingURL=main.2bf0345e.js.map